(this.webpackJsonpmarketplace=this.webpackJsonpmarketplace||[]).push([[0],{101:function(e,a,t){},102:function(e,a,t){},127:function(e,a,t){},128:function(e,a,t){},171:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),i=t(13),l=t.n(i);t(98),t(99),t(100),t(101);var r=t(5),o=(t(102),t(40)),s=t(9),m=t(8),u=t(10),d=t(11),v=t(12),p=Object(n.createContext)(),_=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).changeHexId=function(e){t.setState({onSingleView:!0,hex_id:e,isAuction:!0})},t.disableSingleView=function(){t.setState({onSingleView:!1})},t.changeAuctionList=function(e){t.setState({auctionList:e})},t.changeActiveBidOverlay=function(e){t.setState({activeBidOverlay:e})},t.changeActiveMintOverlay=function(e){t.setState({activeMintOverlay:e})},t.state={onSingleView:!1,hex_id:"8c81326dda43dff",isAuction:!1,activeBidOverlay:!1,activeMintOverlay:!1,auctionList:[]},t.overviewList=[{key:"8cbcc350c0ab5ff",value:"300",background_image:"url(https://www.ovr.ai/wp-content/uploads/static/auction-map.png)",name:{sentence:"director.connect.overflow",hex:"8cbcc350c0ab5ff"},location:"Venice, Italy",bid_status:{className:"--bestbid",sentence:"BEST BID"},date_end:"2020-01-17T15:44-0000"},{key:"8c81326dda43dff",value:"300",background_image:"url(https://www.ovr.ai/wp-content/uploads/static/auction-map.png)",name:{sentence:"director.connect.overflow",hex:"8c81326dda43dff"},location:"Venice, Italy",bid_status:{className:"--outbidded",sentence:"BEST BID"},date_end:"2020-01-17T15:44-0000"},{key:"8cbcc350c0ab5ff",value:"300",background_image:"url(https://www.ovr.ai/wp-content/uploads/static/auction-map.png)",name:{sentence:"director.connect.overflow",hex:"8cbcc350c0ab5ff"},location:"Venice, Italy",bid_status:{className:"--bestbid",sentence:"BEST BID"},date_end:"2020-01-17T15:44-0000"},{key:"8c81326dda43dff",value:"300",background_image:"url(https://www.ovr.ai/wp-content/uploads/static/auction-map.png)",name:{sentence:"director.connect.overflow",hex:"8c81326dda43dff"},location:"Venice, Italy",bid_status:{className:"--outbidded",sentence:"BEST BID"},date_end:"2020-01-17T15:44-0000"},{key:"8cbcc350c0ab5ff",value:"300",background_image:"url(https://www.ovr.ai/wp-content/uploads/static/auction-map.png)",name:{sentence:"director.connect.overflow",hex:"8cbcc350c0ab5ff"},location:"Venice, Italy",bid_status:{className:"--bestbid",sentence:"BEST BID"},date_end:"2020-01-17T15:44-0000"},{key:"8c81326dda43dff",value:"300",background_image:"url(https://www.ovr.ai/wp-content/uploads/static/auction-map.png)",name:{sentence:"director.connect.overflow",hex:"8c81326dda43dff"},location:"Venice, Italy",bid_status:{className:"--outbidded",sentence:"BEST BID"},date_end:"2020-01-17T15:44-0000"}],t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return c.a.createElement(p.Provider,{value:{state:this.state,actions:{changeHexId:this.changeHexId,changeActiveBidOverlay:this.changeActiveBidOverlay,changeActiveMintOverlay:this.changeActiveMintOverlay,changeAuctionList:this.changeAuctionList,disableSingleView:this.disableSingleView},overviewList:this.overviewList}},this.props.children)}}]),a}(n.Component);function h(e){return function(a){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,a),Object(m.a)(t,[{key:"render",value:function(){var a=this;return c.a.createElement(p.Consumer,null,(function(t){return c.a.createElement(e,Object.assign({},a.props,{mapProvider:Object(o.a)({},t)}))}))}}]),t}(c.a.Component)}var g=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"TextCounter"},c.a.createElement("div",{className:"TextCounter__text"}," ",this.props.value," "),c.a.createElement("div",{className:"TextCounter__label"}," ",this.props.label," "))}}]),a}(n.Component),f=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"LandName"},this.props.value&&c.a.createElement(g,{value:this.props.value,label:"OVR"}),c.a.createElement("div",{className:"LandName__name"}," ",c.a.createElement("span",null,this.props.name.sentence)," "),c.a.createElement("div",{className:"LandName__location"}," ",this.props.location," "))}}]),a}(n.Component),E=t(84),b=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return!0===this.props.isSvg?c.a.createElement(E.a,{className:"Icon ".concat(this.props.className),alt:this.props.alt,src:this.props.src,onClick:this.props.onClick}):c.a.createElement("img",{className:"Icon ".concat(this.props.className),alt:this.props.alt,src:this.props.src,onClick:this.props.onClick})}}]),a}(n.Component),O=t(76),y=t.n(O),N=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"ValueCounter"},c.a.createElement("div",{className:"ValueCounter__icon"},c.a.createElement(b,{alt:"Transaction History",src:y.a,isSvg:!0})),c.a.createElement("div",{className:"ValueCounter__value"}," ",this.props.value))}}]),a}(n.Component),j=t(77),k=t.n(j),S=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"TimeCounter"},c.a.createElement(k.a,{local:!0,fromNow:!0},this.props.date_end))}}]),a}(n.Component),w=t(7),x=function(e){var a=e.bid_status,t=e.background_image,n=e.name,i=e.value,l=e.location,r=e.date_end,o=n.sentence,s=n.hex,m="--open",u="OPEN";switch(a){case"best":m="--bestbid",u="BEST BID";break;case"open":m="--open",u="OPEN";break;case"outbidded":m="--outbidded",u="OUTBIDDED";break;default:m="--open",u="OPEN"}return c.a.createElement("div",{className:"AuctionCard ".concat(m)},c.a.createElement(w.b,{to:"/map/land/".concat(s)},c.a.createElement("div",{className:"AuctionCard__header",style:{backgroundImage:t}},c.a.createElement("div",{className:"c-status-badge AuctionCard__status"},u),c.a.createElement("div",{className:"AuctionCard__ping_container"},c.a.createElement("div",{className:"c-ping-layer c-ping-layer-1"}," "),c.a.createElement("div",{className:"c-ping-layer c-ping-layer-2"}," "),c.a.createElement("div",{className:"c-ping-layer c-ping-layer-3"}," "),c.a.createElement("div",{className:"c-ping-layer c-ping-layer-4"}," ")))),c.a.createElement("div",{className:"AuctionCard__body"},c.a.createElement(f,{name:{sentence:o,hex:s},location:l}),c.a.createElement("div",{className:"AuctionCard__bottom_line"},c.a.createElement("div",{className:"o-half"},c.a.createElement(N,{value:i})),c.a.createElement("div",{className:"o-half"},c.a.createElement(S,{time:20,signature:"mins",date_end:r})))))},L=t(79),C=t.n(L),A=function(e){return c.a.createElement(w.b,{to:"/map/land/".concat(e.name.hex),className:"LandCard"},c.a.createElement("div",{className:"LandCard__cont"},c.a.createElement(b,{src:C.a,isSvg:!0}),c.a.createElement("div",{className:"LandCard__body"},c.a.createElement(f,{name:e.name,location:e.location}),c.a.createElement("div",{className:"LandCard__body__footer"},c.a.createElement(S,{time:20,signature:"mins",date_end:e.date_end})))))},T=t(25),I=t.n(T),B={apis:{hostname:"http://47.254.135.104:8003/"},map:{lat:46.0922495,lng:13.2312417,zoom:0,fillOpacity:.3,colorScale:["#5F39BE","#ffffff","#1a0731","#EC663C","#0081DD"]}};function P(e){var a=I.a.cloneDeep(e);return I.a.isArray(a)?I.a.map(a,P):I.a.isString(a)?a:(a=I.a.mapKeys(a,(function(e,a){return I.a.camelCase(a)})),I.a.mapValues(a,(function(e){return I.a.isPlainObject(e)?P(e):I.a.isArray(e)?I.a.map(e,P):e})))}var M=t(31),F=t.n(M);function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token",a=arguments.length>1?arguments[1]:void 0;F.a.set(e,a)}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return F.a.get(e)}function D(){return void 0!==function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userToken";return F.a.get(e)}()}var H=t(48),W=t.n(H);function R(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",a=arguments.length>1?arguments[1]:void 0;F.a.set(e,a)}("user",e),z({url:"/user/profile",method:"GET"},{},null)}function z(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{headers:{"Content-Type":"application/json"}},n=U("userToken");return n&&(W.a.defaults.headers.common.Authorization=n),new Promise((function(n,c){("POST"===e.method?W.a.post("".concat(B.apis.hostname).concat(e.url),a,t):W.a.get("".concat(B.apis.hostname).concat(e.url),{params:a})).then((function(e){n(P(e))})).catch((function(e){c(e),console.log(e)}))}))}var q=t(20),G=t.n(q);function Y(){q.store.addNotification({title:"Connection error",message:"Check your internet connection or try again later",type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}function K(e,a){q.store.addNotification({title:e,message:a,type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}function J(e,a){q.store.addNotification({title:e,message:a,type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}var Q=t(201),Z=h((function(e){var a=Object(n.useState)(""),t=Object(r.a)(a,2),i=t[0],l=t[1],o=Object(n.useState)(5),s=Object(r.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(1),v=Object(r.a)(d,2),_=v[0],h=v[1],g=Object(n.useState)(""),f=Object(r.a)(g,2),E=f[0],b=f[1],O=Object(n.useState)(5),y=Object(r.a)(O,2),N=y[0],j=y[1],k=Object(n.useState)(1),S=Object(r.a)(k,2),w=S[0],L=S[1],C=Object(n.useContext)(p).actions;function T(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return z({url:"/auctions/open",method:"GET"},{sort:e,page:a},null)})(null,e).then((function(e){C.changeAuctionList(e.data.auctions),e.data.auctions.length>0?l(e.data.auctions.map((function(e){return c.a.createElement(x,{key:e.land.uuid,value:e.land.auction.currentWorth,background_image:"url(".concat(e.land.mapTileUrl),name:{sentence:e.land.sentenceId,hex:e.land.uuid},location:e.land.address.full,bid_status:"open",date_end:e.land.auction.closeAt})}))):l(c.a.createElement("div",{className:"c-dialog --centered"},c.a.createElement("div",{className:"c-dialog-main-title"},"There is currently no ",c.a.createElement("div",{className:"c-status-badge"},"OPEN")," auction  \u26a1\ufe0f"),c.a.createElement("div",{className:"c-dialog-sub-title"},"Browse the OVRLands: search for a location or click a point in the map and mint a land now."))),u(e.data.numberOfAuctionPages)})).catch((function(){Y()}))}function I(e){console.log("load land"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return z({url:"/lands",method:"GET"},{sort:e,page:a},null)}(null,e).then((function(e){console.log("wew",e.data.lands),e.data.lands.length>0?b(e.data.lands.map((function(e){return c.a.createElement(A,{key:e.uuid,url:"/",value:e.currentWorth,background_image:"url(".concat(e.mapTileUrl),name:{sentence:e.sentenceId,hex:e.uuid},location:e.address.full,icon:{url:"./assets/icons/icon_deal.png",isSvg:!1},date_end:e.auction.closeAt})}))):b(c.a.createElement("div",{className:"c-dialog --centered"},c.a.createElement("div",{className:"c-dialog-main-title"},"There is currently no lands to display"),c.a.createElement("div",{className:"c-dialog-sub-title"},"Browse the aviable OVRLands: mint a land and own it now."))),j(e.data.numberOfPages)})).catch((function(e){console.log(e),Y()}))}return Object(n.useEffect)((function(){C.disableSingleView(),T(),I()}),[]),c.a.createElement("div",{className:"Overview"},c.a.createElement("div",{className:"o-container"},c.a.createElement("h2",{className:"o-section-title"},"Auctions")),c.a.createElement("div",{className:"o-container"},c.a.createElement("div",{className:"o-auction-list"},i),c.a.createElement("div",{className:"o-pagination"},m>1?c.a.createElement(Q.a,{count:m,page:_,onChange:function(e,a){T(a),h(a)}}):"")),c.a.createElement("div",{className:"o-container"},c.a.createElement("h2",{className:"o-section-title"},"Lands")),c.a.createElement("div",{className:"o-container"},c.a.createElement("div",{className:"o-land-list"},E),c.a.createElement("div",{className:"o-pagination"},N>1?c.a.createElement(Q.a,{count:N,page:w,onChange:function(e,a){I(a),L(a)}}):"")))})),X=(t(127),h((function(e){var a=Object(n.useState)(""),t=Object(r.a)(a,2),i=t[0],l=t[1],o=Object(n.useState)(1),s=Object(r.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(1),v=Object(r.a)(d,2),_=v[0],h=v[1],g=Object(n.useState)(""),f=Object(r.a)(g,2),E=f[0],b=f[1],O=Object(n.useState)(1),y=Object(r.a)(O,2),N=y[0],j=y[1],k=Object(n.useState)(1),S=Object(r.a)(k,2),w=S[0],L=S[1],C=Object(n.useState)(!0),T=Object(r.a)(C,2),I=T[0],B=T[1],P=Object(n.useContext)(p).actions;function M(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return z({url:"/user/auctions",method:"GET"},{sort:e,page:a},null)})(null,e).then((function(e){console.log(e),!0===e.data.result?(P.changeAuctionList(e.data.auctions),e.data.auctions.length>0?l(e.data.auctions.map((function(e){return c.a.createElement(x,{key:e.land.uuid,value:e.land.auction.currentWorth,background_image:"url(".concat(e.land.mapTileUrl),name:{sentence:e.land.sentenceId,hex:e.land.uuid},location:e.land.address.full,bid_status:"open",date_end:e.land.auction.closeAt})}))):l(c.a.createElement("div",{className:"c-dialog --centered"},c.a.createElement("div",{className:"c-dialog-main-title"},"There is currently no ",c.a.createElement("div",{className:"c-status-badge"},"OPEN")," auction  \u26a1\ufe0f"),c.a.createElement("div",{className:"c-dialog-sub-title"},"Browse the OVRLands: search for a location or click a point in the map and mint a land now."))),u(e.data.numberOfAuctionPages)):B(!1)})).catch((function(){Y()}))}function F(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return z({url:"/user/lands",method:"GET"},{sort:e,page:a},null)})(null,e).then((function(e){!0===e.data.result&&(e.data.lands.length>0?b(e.data.lands.map((function(e){return c.a.createElement(A,{key:e.uuid,url:"/",value:e.currentWorth,background_image:"url(".concat(e.mapTileUrl),name:{sentence:e.sentenceId,hex:e.uuid},location:e.address.full,icon:{url:"./assets/icons/icon_deal.png",isSvg:!1},date_end:e.auction.closeAt})}))):b(c.a.createElement("div",{className:"c-dialog --centered"},c.a.createElement("div",{className:"c-dialog-main-title"},"There is currently no lands to display"),c.a.createElement("div",{className:"c-dialog-sub-title"},"Browse the aviable OVRLands: mint a land and own it now."))),j(e.data.numberOfPages))})).catch((function(e){Y()}))}return Object(n.useEffect)((function(){P.disableSingleView(),M(),F()}),[]),I?c.a.createElement("div",{className:"Overview"},c.a.createElement("div",{className:"o-container"},c.a.createElement("h2",{className:"o-section-title"},"Auctions")),c.a.createElement("div",{className:"o-container"},c.a.createElement("div",{className:"o-auction-list"},i),c.a.createElement("div",{className:"o-pagination"},m>1?c.a.createElement(Q.a,{count:m,page:_,onChange:function(e,a){M(a),h(a)}}):"")),c.a.createElement("div",{className:"o-container"},c.a.createElement("h2",{className:"o-section-title"},"Lands")),c.a.createElement("div",{className:"o-container"},c.a.createElement("div",{className:"o-land-list"},E),c.a.createElement("div",{className:"o-pagination"},N>1?c.a.createElement(Q.a,{count:N,page:w,onChange:function(e,a){F(a),L(a)}}):""))):c.a.createElement("div",{className:"Overview"},c.a.createElement("div",{className:"o-container"},c.a.createElement("div",{className:"c-dialog --centered"},c.a.createElement("div",{className:"c-dialog-main-title"},"You have to log in to visit Overview \ud83d\ude0e"),c.a.createElement("div",{className:"c-dialog-sub-title"},"Browse your OVRLands and ongoing Auctions. Login now."))))}))),$=t(23),ee=(t(128),Object(n.createContext)()),ae=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).loginUser=function(e,a){t.setState({isLoggedIn:!0,token:e,user:a}),V("userToken",e),V("userUuid",a)},t.state={isLoggedIn:!1,token:null,user:{uuid:null}},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;D()&&(R().then((function(a){!0===a.data.result?e.setState({user:a.data.user}):(J("Session expired","Please login again"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userToken";F.a.remove(e)}())})).catch((function(){Y()})),this.loginUser(U("userToken"),U("userUuid")))}},{key:"render",value:function(){return c.a.createElement(ee.Provider,{value:{state:this.state,actions:{loginUser:this.loginUser}}},this.props.children)}}]),a}(n.Component);function te(e){return function(a){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,a),Object(m.a)(t,[{key:"render",value:function(){var a=this;return c.a.createElement(ee.Consumer,null,(function(t){return c.a.createElement(e,Object.assign({},a.props,{userProvider:Object(o.a)({},t)}))}))}}]),t}(c.a.Component)}var ne=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return c.a.createElement(w.b,{to:this.props.url,className:"HexButton ".concat(this.props.className),onClick:this.props.onClick},c.a.createElement("div",{className:"HexButton__cont"},c.a.createElement("div",{className:"HexButton__svg"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"100",height:"35",viewBox:"0 0 100 35"},c.a.createElement("defs",null,c.a.createElement("path",{id:"a",d:"M8.395 0c-.76 0-1.481.281-2.072.774A4.019 4.019 0 005.29 2.126c-.06.125-.113.255-.162.388L3.5 7.006l-.264.73-2.962 8.181A4.666 4.666 0 000 17.5c0 .538.092 1.077.275 1.583l4.691 12.955.162.448c.04.112.086.221.134.328l.054.113c.02.039.039.078.06.116.161.307.356.584.577.827.116.128.24.247.37.356.591.493 1.312.774 2.072.774h83.129c.757 0 1.473-.279 2.064-.767a4.042 4.042 0 001.194-1.725l3.97-10.78.965-2.623A4.655 4.655 0 00100 17.5a4.727 4.727 0 00-.283-1.605l-.14-.377-.532-1.448-4.263-11.578A4.04 4.04 0 0093.588.767 3.228 3.228 0 0091.524 0H8.395z"}),c.a.createElement("linearGradient",{id:"b",x1:"109.444%",x2:"0%",y1:"100%",y2:"0%"},c.a.createElement("stop",{className:"first-stop",offset:"0%",stopColor:"#EB663B"}),c.a.createElement("stop",{className:"last-stop",offset:"100%",stopColor:"#F9B326"}))),c.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-40 -107) translate(40 107)"},c.a.createElement("mask",{id:"c",fill:"#fff"},c.a.createElement("use",{xlinkHref:"#a"})),c.a.createElement("path",{fill:"url(#b)",d:"M8.395 0c-.76 0-1.481.281-2.072.774A4.019 4.019 0 005.29 2.126c-.06.125-.113.255-.162.388L3.5 7.006l-.264.73-2.962 8.181A4.666 4.666 0 000 17.5c0 .538.092 1.077.275 1.583l4.691 12.955.162.448c.04.112.086.221.134.328l.054.113c.02.039.039.078.06.116.161.307.356.584.577.827.116.128.24.247.37.356.591.493 1.312.774 2.072.774h83.129c.757 0 1.473-.279 2.064-.767a4.042 4.042 0 001.194-1.725l3.97-10.78.965-2.623A4.655 4.655 0 00100 17.5a4.727 4.727 0 00-.283-1.605l-.14-.377-.532-1.448-4.263-11.578A4.04 4.04 0 0093.588.767 3.228 3.228 0 0091.524 0H8.395z",mask:"url(#c)"})))),c.a.createElement("div",{className:"HexButton__text"}," ",this.props.text," ")))}}]),a}(n.Component),ce=t(200),ie=t(43),le=t.n(ie),re=t(44),oe=t.n(re),se=t(56),me=t.n(se),ue=t(45),de=t.n(ue),ve=te(h((function(e){var a=Object(n.useState)(""),t=Object(r.a)(a,2),i=t[0],l=t[1],o=Object(n.useState)(!1),s=Object(r.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(!1),v=Object(r.a)(d,2),p=v[0],_=v[1],h=Object(n.useState)(0),g=Object(r.a)(h,2),f=g[0],E=g[1],O=function(){f+1===1?e.userProvider.state.isLoggedIn?(E((function(e){return e+1})),setTimeout((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return z({url:"/auction/bid",method:"POST"},{land_uuid:e,worth:a},null)})(e.land.key,i).then((function(a){!0===a.data.result?(console.log("responseTrue",a.data),e.realodLandStatefromApi(e.land.key),E(2)):(console.log("responseFalse"),J("Unable to place requested bid",a.data.errors[0].message),E(0))})).catch((function(){Y()}))}),1500)):K("Invalid authentication","Please Log In to partecipate"):E((function(e){return e+1}))};Object(n.useEffect)((function(){console.log("bidoverlayuseeffect")}),[]);var y=function(a){if(""===i)return l(2*e.currentBid),void _(!0);l(a.target.value),i<2*e.currentBid?(u("Should be equal to or greater than Minimum bid"),_(!1)):(u(!1),_(!0))};function j(a){a.preventDefault(),e.mapProvider.actions.changeActiveBidOverlay(!1),setTimeout((function(){E(0),l("")}),200)}return e.mapProvider.state.activeBidOverlay?c.a.createElement(le.a,{transitionName:"overlay",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionLeaveTimeout:300},c.a.createElement("div",{key:"bid-overlay-",to:e.url,className:"Overlay BidOverlay WhiteInputs ".concat(e.className?e.className:""," --activeStep-").concat(f)},c.a.createElement("div",{className:"Overlay__cont"},c.a.createElement(b,{src:de.a,isSvg:!0,className:"Overlay__close_button",onClick:j}),c.a.createElement("div",{className:"Overlay__hex_cont"},c.a.createElement(b,{src:oe.a,className:"Overlay__hex",isSvg:!0})),function(a){switch(a){case 0:return c.a.createElement("div",{className:"Overlay__body_cont"},c.a.createElement("div",{className:"Overlay__upper"},c.a.createElement("div",{className:"Overlay__title"},"Place a bid for the OVRLand"),c.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),c.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),c.a.createElement("div",{className:"Overlay__lower"},c.a.createElement("div",{className:"Overlay__bid_container"},c.a.createElement("div",{className:"Overlay__current_bid"},c.a.createElement("div",{className:"Overlay__bid_title"},"Current bid"),c.a.createElement("div",{className:"Overlay__bid_cont"},c.a.createElement(N,{value:e.currentBid}))),c.a.createElement("div",{className:"Overlay__arrow"},c.a.createElement(b,{src:me.a,isSvg:!0})),c.a.createElement("div",{className:"Overlay__minimum_bid"},c.a.createElement("div",{className:"Overlay__bid_title"},"Minimum bid"),c.a.createElement("div",{className:"Overlay__bid_cont"},c.a.createElement(N,{value:2*e.currentBid})))),c.a.createElement("div",{className:"Overlay__input"},c.a.createElement(ce.a,{id:"quantity",label:"Your Bid",type:"number",error:!1!==m,helperText:!1!==m?m:"",value:i,onFocus:y,onChange:y,onKeyUp:y})),c.a.createElement("div",{className:"Overlay__buttons_container"},c.a.createElement(ne,{url:"#",text:"Place Bid",className:"--purple ".concat(p?"":"--disabled"),onClick:O}),c.a.createElement(ne,{url:"#",text:"Cancel",className:"--outline",onClick:j}))));case 1:return c.a.createElement("div",{className:"Overlay__body_cont"},c.a.createElement("div",{className:"Overlay__upper"},c.a.createElement("div",{className:"Overlay__title"},"Bidding the OVRLand"),c.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),c.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),c.a.createElement("div",{className:"Overlay__lower"},c.a.createElement("div",{className:"Overlay__bid_container"},c.a.createElement("div",{className:"Overlay__current_bid"},c.a.createElement("div",{className:"Overlay__bid_title"},"Current bid"),c.a.createElement("div",{className:"Overlay__bid_cont"},c.a.createElement(N,{value:e.currentBid}))),c.a.createElement("div",{className:"Overlay__arrow"},c.a.createElement(b,{src:me.a,isSvg:!0})),c.a.createElement("div",{className:"Overlay__minimum_bid"},c.a.createElement("div",{className:"Overlay__bid_title"},"Your bid"),c.a.createElement("div",{className:"Overlay__bid_cont"},c.a.createElement(N,{value:i})))),c.a.createElement("div",{className:"Overlay__message__container"},c.a.createElement("span",null,"Waiting for MetaMask confirmation"))));case 2:return c.a.createElement("div",{className:"Overlay__body_cont"},c.a.createElement("div",{className:"Overlay__upper"},c.a.createElement("div",{className:"Overlay__title"},"Bidding the OVRLand"),c.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),c.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),c.a.createElement("div",{className:"Overlay__lower"},c.a.createElement("div",{className:"Overlay__bid_container"},c.a.createElement("div",{className:"Overlay__current_bid"},c.a.createElement("div",{className:"Overlay__bid_title"},"Current bid"),c.a.createElement("div",{className:"Overlay__bid_cont"},c.a.createElement(N,{value:i})))),c.a.createElement("div",{className:"Overlay__message__container"},c.a.createElement("span",null,"Transaction confirmed")),c.a.createElement("div",{className:"Overlay__buttons_container"},c.a.createElement(ne,{url:"#",text:"Close",className:"--outline",onClick:j}))));default:return"Unknown step"}}(f)))):null}))),pe=te(h((function(e){var a=Object(n.useState)(10),t=Object(r.a)(a,1)[0],i=Object(n.useState)(""),l=Object(r.a)(i,2),o=l[0],s=l[1],m=Object(n.useState)(!1),u=Object(r.a)(m,2),d=u[0],v=u[1],p=Object(n.useState)(!1),_=Object(r.a)(p,2),h=_[0],g=_[1],f=Object(n.useState)(0),E=Object(r.a)(f,2),O=E[0],y=E[1],j=function(){O+1===1?e.userProvider.state.isLoggedIn?(y((function(e){return e+1})),setTimeout((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return z({url:"/land/mint",method:"POST"},{land_uuid:e,worth:a},null)})(e.land.key,o).then((function(a){!0===a.data.result?(console.log("responseTrue",a.data),e.realodLandStatefromApi(e.land.key),console.log("props.land.key",e),y(2)):(console.log("responseFalse"),J("Unable to mint land",a.data.errors[0].message),y(0))})).catch((function(e){console.log(e),Y()}))}),1500)):K("Invalid authentication","Please Log In to partecipate"):y((function(e){return e+1}))},k=function(e){if(""===o)return s(t),void g(!0);s(e.target.value),o<10?(v("Should be equal to or greater than Minimum bid"),g(!1)):(v(!1),g(!0))};function S(a){a.preventDefault(),e.mapProvider.actions.changeActiveMintOverlay(!1),y(0)}return e.mapProvider.state.activeMintOverlay?c.a.createElement(le.a,{transitionName:"overlay",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionLeaveTimeout:300},c.a.createElement("div",{key:"mint-overlay-",to:e.url,className:"Overlay MintOverlay WhiteInputs ".concat(e.className?e.className:""," --activeStep-").concat(O)},c.a.createElement("div",{className:"Overlay__cont"},c.a.createElement(b,{src:de.a,isSvg:!0,className:"Overlay__close_button",onClick:S}),c.a.createElement("div",{className:"Overlay__hex_cont"},c.a.createElement(b,{src:oe.a,className:"Overlay__hex",isSvg:!0})),function(a){switch(a){case 0:return c.a.createElement("div",{className:"Overlay__body_cont"},c.a.createElement("div",{className:"Overlay__upper"},c.a.createElement("div",{className:"Overlay__title"},"Place a bid for the OVRLand"),c.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),c.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),c.a.createElement("div",{className:"Overlay__lower"},c.a.createElement("div",{className:"Overlay__bid_container"},c.a.createElement("div",{className:"Overlay__minimum_bid"},c.a.createElement("div",{className:"Overlay__bid_title"},"Minimum bid"),c.a.createElement("div",{className:"Overlay__bid_cont"},c.a.createElement(N,{value:t})))),c.a.createElement("div",{className:"Overlay__input"},c.a.createElement(ce.a,{id:"quantity",label:"Your Bid",type:"number",error:!1!==d,helperText:!1!==d?d:"",value:o,onFocus:k,onChange:k,onKeyUp:k})),c.a.createElement("div",{className:"Overlay__buttons_container"},c.a.createElement(ne,{url:"#",text:"Place Bid",className:"--purple ".concat(h?"":"--disabled"),onClick:j}),c.a.createElement(ne,{url:"#",text:"Cancel",className:"--outline",onClick:S}))));case 1:return c.a.createElement("div",{className:"Overlay__body_cont"},c.a.createElement("div",{className:"Overlay__upper"},c.a.createElement("div",{className:"Overlay__title"},"Bidding the OVRLand"),c.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),c.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),c.a.createElement("div",{className:"Overlay__lower"},c.a.createElement("div",{className:"Overlay__bid_container"},c.a.createElement("div",{className:"Overlay__minimum_bid"},c.a.createElement("div",{className:"Overlay__bid_title"},"Your bid"),c.a.createElement("div",{className:"Overlay__bid_cont"},c.a.createElement(N,{value:o})))),c.a.createElement("div",{className:"Overlay__message__container"},c.a.createElement("span",null,"Waiting for MetaMask confirmation"))));case 2:return c.a.createElement("div",{className:"Overlay__body_cont"},c.a.createElement("div",{className:"Overlay__upper"},c.a.createElement("div",{className:"Overlay__title"},"Minting the OVRLand"),c.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),c.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),c.a.createElement("div",{className:"Overlay__lower"},c.a.createElement("div",{className:"Overlay__bid_container"},c.a.createElement("div",{className:"Overlay__current_bid"},c.a.createElement("div",{className:"Overlay__bid_title"},"Current bid"),c.a.createElement("div",{className:"Overlay__bid_cont"},c.a.createElement(N,{value:o})))),c.a.createElement("div",{className:"Overlay__message__container"},c.a.createElement("span",null,"Mint confirmed")),c.a.createElement("div",{className:"Overlay__buttons_container"},c.a.createElement(ne,{url:"#",text:"Close",className:"--outline",onClick:S}))));default:return"Unknown step"}}(O)))):null}))),_e=te(h(function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).realodLandStatefromApi=function(e){var a=Object($.a)(t);setTimeout((function(){a.loadLandStateFromApi(e)}),1500)},console.log("LandProps",e),t.state={key:"8cbcc350c0ab5ff",value:10,name:{sentence:"director.connect.overflow",hex:"8cbcc350c0ab5ff"},location:"Venice, Italy",marketStatus:0,auction:null},t.mapActions=t.props.mapProvider.actions,t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"loadLandStateFromApi",value:function(e){var a=this;console.log("reload api"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return z({url:"/land",method:"GET"},{hex_id:e},null)}(e).then((function(e){var t=e.data;console.log("landApiData",t),a.setState({value:t.value}),null!=t.auction&&(a.setState({value:t.auction.currentWorth,auction:t.auction}),console.log("there is auction")),a.setState({key:t.uuid,name:{sentence:t.sentenceId,hex:t.uuid},location:t.address.full,marketStatus:t.marketStatus})})).catch((function(e){console.log(e),Y()}))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.mapActions.changeHexId(e),this.loadLandStateFromApi(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.location!==e.location||this.props.value!==e.value){var a=this.props.match.params.id;this.loadLandStateFromApi(a),this.mapActions.changeHexId(a),console.log("didupdateinsideif")}console.log("didupdate")}},{key:"componentWillUnmount",value:function(){this.mapActions.changeActiveBidOverlay(!1),this.mapActions.changeActiveMintOverlay(!1)}},{key:"setActiveBidOverlay",value:function(e){e.preventDefault(),this.props.userProvider.state.isLoggedIn,this.mapActions.changeActiveBidOverlay(!0)}},{key:"setActiveMintOverlay",value:function(e){e.preventDefault(),this.props.userProvider.state.isLoggedIn,this.mapActions.changeActiveMintOverlay(!0)}},{key:"renderTimer",value:function(){return 1===this.state.marketStatus?c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"o-small-title"},"Time Left"),c.a.createElement(S,{date_end:this.state.auction.closeAt})):c.a.createElement("div",null,"\xa0")}},{key:"renderBadge",value:function(){switch(this.state.marketStatus){case 0:return c.a.createElement("div",null,"\xa0");case 1:return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"o-small-title"},"Status"),c.a.createElement("div",{className:"c-status-badge  --open"},"OPEN"));case 2:return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"o-small-title"},"Status"),c.a.createElement("div",{className:"c-status-badge  --owned"},"OWNED"));default:return c.a.createElement("div",null,"\xa0")}}},{key:"renderOverlayButton",value:function(){var e=this;switch(this.state.marketStatus){case 0:return c.a.createElement(ne,{url:"/",text:"Mint Land",className:"",onClick:function(a){return e.setActiveMintOverlay(a)}});case 1:return c.a.createElement(ne,{url:"/",text:"Place bid",className:"--purple",onClick:function(a){return e.setActiveBidOverlay(a)}});case 2:default:return c.a.createElement("div",null,"\xa0")}}},{key:"render",value:function(){return c.a.createElement("div",{className:"Land"},c.a.createElement(ve,{currentBid:this.state.value,land:this.state,realodLandStatefromApi:this.realodLandStatefromApi}),c.a.createElement(pe,{currentBid:this.state.value,land:this.state,realodLandStatefromApi:this.realodLandStatefromApi}),c.a.createElement("div",{className:"o-container"},c.a.createElement("div",{className:"Land__heading__1"},c.a.createElement("h2",null,this.state.name.sentence),c.a.createElement("div",{className:"Land__location"},this.state.location)),c.a.createElement("div",{className:"Land__heading__2"},c.a.createElement("div",{className:"o-fourth"},c.a.createElement("h3",{className:"o-small-title"},"Price"),c.a.createElement(N,{value:this.state.value})),c.a.createElement("div",{className:"o-fourth"},this.renderTimer()),c.a.createElement("div",{className:"o-fourth"},this.renderBadge()),c.a.createElement("div",{className:"o-fourth"},this.renderOverlayButton()))),c.a.createElement("div",{className:"Land__section"},c.a.createElement("div",{className:"o-container"},c.a.createElement("div",{className:"Title__container"}," ",c.a.createElement("h3",{className:"o-small-title"},"History")),c.a.createElement("div",{className:"c-dialog --centered"},c.a.createElement("div",{className:"c-dialog-main-title"},"Coming on staging soon \ud83d\udd25"),c.a.createElement("div",{className:"c-dialog-sub-title"},"Bid history and transaction history are coming soon.")))))}}]),a}(n.Component))),he=t(30),ge=te((function(e){var a=Object(n.useContext)(ee),t=Object(he.g)(),i=Object(n.useState)(""),l=Object(r.a)(i,2),o=l[0],s=l[1],m=Object(n.useState)(!1),u=Object(r.a)(m,1)[0],d=Object(n.useState)(""),v=Object(r.a)(d,2),p=v[0],_=v[1],h=Object(n.useState)(!1),g=Object(r.a)(h,1)[0],f=Object(n.useState)(!1),E=Object(r.a)(f,2),b=E[0],O=E[1],y=function(){O(""!==p&&""!==o)},N=function(e){s(e.target.value),y()},j=function(e){_(e.target.value),y()};return c.a.createElement("div",{className:"Login"},c.a.createElement("div",{className:"o-container"},c.a.createElement("h2",null,"Welcome back to OVR"),c.a.createElement("div",{className:"Login__sub-title"},"We're so pleased you're here. You can browse the OVRLands and track your auctions using your account."),c.a.createElement("div",{className:"Login__form-container"},c.a.createElement("form",null,c.a.createElement("div",{className:"Login__input"},c.a.createElement(ce.a,{id:"loginName",label:"Username",type:"text",error:!1!==u,helperText:!1!==u?u:"",onFocus:N,onChange:N,onKeyUp:N})),c.a.createElement("div",{className:"Login__input"},c.a.createElement(ce.a,{id:"loginPassword",label:"Password",type:"password",error:!1!==g,helperText:!1!==g?g:"",onFocus:j,onChange:j,onKeyUp:j})),c.a.createElement("div",{className:"Login__input"},c.a.createElement(ne,{url:"#",text:"Login",className:"--purple ".concat(b?"":"--disabled"),onClick:function(e){var n,c;(n=o,c=p,z({url:"/authentication/login",method:"POST"},{username:n,password:c},null)).then((function(e){console.log(e),!0===e.data.result?(a.actions.loginUser(e.data.token,e.data.user),t.push("/map/overview"),q.store.addNotification({title:"Login complete",message:"Welcome back",type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})):q.store.addNotification({title:"Login failed",message:e.data.errors[0].message,type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})})).catch((function(){q.store.addNotification({title:"Connection error",message:"Check your internet connection or try again later",type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}))}})))),c.a.createElement("div",{className:"Login__signup"},"You don't have an account? ",c.a.createElement(w.b,{to:"/signup"},"Signup")),c.a.createElement("div",{className:"Login__forgot"},c.a.createElement(w.b,{to:"/signup"},"Forgot your password?")),c.a.createElement("div",{className:"Login__footer"},"If you have any question about your account visit ",c.a.createElement(w.b,{to:"/FAQs"},"FAQs")," or contact ",c.a.createElement(w.b,{to:"mailto:info@ovr.ai"},"info@ovr.ai"))))})),fe=te((function(e){var a=Object(n.useState)(""),t=Object(r.a)(a,2),i=t[0],l=t[1],o=Object(n.useState)(!1),s=Object(r.a)(o,1)[0],m=Object(n.useState)(""),u=Object(r.a)(m,2),d=u[0],v=u[1],p=Object(n.useState)(!1),_=Object(r.a)(p,1)[0],h=Object(n.useState)(""),g=Object(r.a)(h,2),f=g[0],E=g[1],b=Object(n.useState)(!1),O=Object(r.a)(b,1)[0],y=Object(n.useState)(!1),N=Object(r.a)(y,2),j=N[0],k=N[1],S=function(){k(""!==d&&""!==i&&""!==f)},x=function(e){l(e.target.value),S()},L=function(e){E(e.target.value),S()},C=function(e){v(e.target.value),S()};return c.a.createElement("div",{className:"Signup"},c.a.createElement("div",{className:"o-container"},c.a.createElement("h2",null,"Sign up to OVR"),c.a.createElement("div",{className:"Signup__sub-title"},"We're so pleased you're here. As a user will own and exchange lands using your account."),c.a.createElement("div",{className:"Signup__form-container"},c.a.createElement("div",{className:"Signup__input"},c.a.createElement(ce.a,{id:"signupName",label:"Username",type:"text",error:!1!==s,helperText:!1!==s?s:"",onFocus:x,onChange:x,onKeyUp:x})),c.a.createElement("div",{className:"Signup__input"},c.a.createElement(ce.a,{id:"signupEmail",label:"Email",type:"text",error:!1!==O,helperText:!1!==O?O:"",onFocus:L,onChange:L,onKeyUp:L})),c.a.createElement("div",{className:"Signup__input"},c.a.createElement(ce.a,{id:"signupPassword",label:"Password",type:"password",error:!1!==_,helperText:!1!==_?_:"",onFocus:C,onChange:C,onKeyUp:C})),c.a.createElement("div",{className:"Signup__input"},c.a.createElement(ne,{url:"#",text:"Signup",className:"--purple ".concat(j?"":"--disabled"),onClick:function(e){var a,t,n;console.log(i,d,f),(a=i,t=d,n=f,z({url:"/user/registration",method:"POST"},{username:a,password:t,email:n},null)).then((function(e){console.log(e),console.log(e.data.result),!0===e.data.result?q.store.addNotification({title:"Signup complete",message:"Now you can log in",type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}}):q.store.addNotification({title:"Signup failed",message:e.data.errors[0].message,type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})})).catch((function(){console.log("catch"),q.store.addNotification({title:"Connection error",message:"Check your internet connection or try again later",type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}))}}))),c.a.createElement("div",{className:"Signup__signup"},"You have an account? ",c.a.createElement(w.b,{to:"/login"},"Login")),c.a.createElement("div",{className:"Signup__footer"},"If you have any question about registration visit ",c.a.createElement(w.b,{to:"/FAQs"},"FAQs")," or contact ",c.a.createElement(w.b,{to:"mailto:info@ovr.ai"},"info@ovr.ai"))))})),Ee=t(46),be=t.n(Ee),Oe=t(81),ye=t.n(Oe),Ne=t(82),je=t.n(Ne),ke=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=c.a.createElement("div",null),a=this.context.state;return e=!0===a.isLoggedIn?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"Navbar__right_container"},c.a.createElement(w.b,{to:"/",className:"Notifications__link"},c.a.createElement(b,{src:ye.a,className:"Notifications__icon",isSvg:!0}),c.a.createElement("div",{className:"Notifications__counter"},"0")),c.a.createElement(w.b,{to:"/",className:"Funds__link"},c.a.createElement(N,{value:a.user.balance}))),c.a.createElement(w.b,{to:"/",className:"Profile__link"},c.a.createElement("div",{id:"Profile__img",className:"Profile__img",style:{backgroundImage:"url(../../assets/img/auction-map.png)"}},c.a.createElement(je.a,{seed:a.user.uuid,size:12,scale:3,color:"#7521c8",bgColor:"#EC663C",spotColor:"#F9B426"})))):c.a.createElement(c.a.Fragment,null,c.a.createElement(w.c,{className:"NavBar__link General__link AuthLogin__link",to:"/login"},"Login")),c.a.createElement("div",{className:"NavBar"},c.a.createElement(w.b,{to:"/",className:"Logo__link"},c.a.createElement(b,{src:be.a,className:"NavBar__logo",isSvg:!0})),c.a.createElement("div",{className:"Navbar__link_container"},c.a.createElement(w.c,{className:"NavBar__link",to:"/map/discover"},"Discover"),c.a.createElement(w.c,{className:"NavBar__link",to:"/map/overview"},"Overview"),c.a.createElement(w.c,{className:"NavBar__link",to:"/profile"},"Profile")),e)}}]),a}(n.Component);ke.contextType=ee;var Se=te(ke),we=t(38),xe=t.n(we),Le=t(57),Ce=t.n(Le),Ae=(t(141),t(83)),Te=t(70),Ie=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(c)))).hexagons=function(){var e=t.map.getCenter(),a=Te.geoToH3(e.lat,e.lng,12),n=Te.kRing(a,20),c=Object.assign({},n);return Object.keys(c).reduce((function(e,a){return e[c[a]]=Math.random(),e}),{})},t.initMap=function(){var e=t.context.state;xe.a.accessToken="pk.eyJ1IjoibWFudG9uZWxsaSIsImEiOiJjam9hNmljdHkwY2Y0M3JuejJrenhmMWE1In0.dC9b8oqj24iiSfm-qbNqmw",t.map=new xe.a.Map({container:"Map",center:[B.map.lng,B.map.lat],zoom:B.map.zoom,style:"mapbox://styles/mapbox/light-v9"});var a=new Ae({accessToken:xe.a.accessToken,marker:!1});t.map.addControl(a),t.map.on("load",(function(){a.on("result",(function(e){t.map.flyTo({center:[e.result.geometry.coordinates[0],e.result.geometry.coordinates[1]],zoom:18,speed:1.8})})),t.map.addLayer({id:"mapbox-mapbox-satellite",source:{type:"raster",url:"mapbox://mapbox.satellite",tileSize:256},type:"raster"}),t.map.setLayoutProperty("mapbox-mapbox-satellite","visibility","none");var n=document.getElementById("js-map-view");n&&n.addEventListener("click",(function(){"on"===n.className?(n.setAttribute("class","off"),t.map.setLayoutProperty("mapbox-mapbox-satellite","visibility","none"),n.innerHTML="Satellite"):(n.setAttribute("class","on"),t.map.setLayoutProperty("mapbox-mapbox-satellite","visibility","visible"),n.innerHTML="Streets")})),!0===e.onSingleView&&t.focusMap(e.hex_id,e.isAuction)}));var n=Object($.a)(t);t.map.on("moveend",(function(){n.map.getZoom()>17&&n.renderHexes(n.hexagons())})),t.map.on("click",(function(a){var t=Te.geoToH3(a.lngLat.lat,a.lngLat.lng,12);n.focusMap(t,e.isAuction),n.props.history.push("/map/land/".concat(t))}))},t.waitMapStyle=function(){t.map.isStyleLoaded()?t.focusMap(t.context.state.hex_id,t.context.state.isAuction):setTimeout(t.waitMapStyle,200)},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"renderHexes",value:function(e){var a=Ce.a.h3SetToFeatureCollection(Object.keys(e),(function(a){return{value:e[a]}})),t="".concat("h3-hexes","-layer"),n=this.map.getSource("h3-hexes");n||(this.map.addSource("h3-hexes",{type:"geojson",data:a}),this.map.addLayer({id:t,source:"h3-hexes",type:"fill",interactive:!1,paint:{"fill-outline-color":"rgba(255,255,255,1)"}}),n=this.map.getSource("h3-hexes")),n.setData(a),this.map.setPaintProperty(t,"fill-opacity",B.map.fillOpacity),this.map.setPaintProperty(t,"fill-color",{property:"value",stops:[[0,B.map.colorScale[0]],[.5,B.map.colorScale[0]],[1,B.map.colorScale[0]]]})}},{key:"focusMap",value:function(e,a){var t=Te.h3ToGeo(e);this.map.flyTo({center:[t[1],t[0]],zoom:18,speed:1.8});var n=Ce.a.h3ToFeature(e),c="".concat("h3-hexes_selected","-layer"),i=this.map.getSource("h3-hexes_selected");i||(this.map.addSource("h3-hexes_selected",{type:"geojson",data:n}),this.map.addLayer({id:c,source:"h3-hexes_selected",type:"fill",interactive:!1,paint:{"fill-outline-color":"#4A90E2","fill-color":"rgba(74,144,226,0.20)","fill-opacity":1}}),i=this.map.getSource("h3-hexes_selected")),i.setData(n),this.map.setLayoutProperty(c,"visibility","visible")}},{key:"plotAuctions",value:function(){for(var e=document.getElementsByClassName("Map__ping_container");e[0];)e[0].parentNode.removeChild(e[0]);var a=!0,t=!1,n=void 0;try{for(var c,i=this.context.state.auctionList[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var l=c.value,r=0;switch(l.status){case 0:r="--open";break;case 1:r="--outbidded";break;default:r="--open"}var o=document.createElement("div");o.className="Map__ping_container ".concat(r),o.insertAdjacentHTML("beforeend",'<div class="c-ping-layer c-ping-layer-1"></div>'),new xe.a.Marker(o).setLngLat([l.land.address.geocenter[1],l.land.address.geocenter[0]]).addTo(this.map)}}catch(s){t=!0,n=s}finally{try{a||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"componentDidMount",value:function(){this.initMap()}},{key:"shouldComponentUpdate",value:function(e,a,t){return this.context.state.onSingleView!==t.state.onSingleView||this.context.state.auctionList.map((function(e){return e.uuid}))!==t.state.auctionList.map((function(e){return e.uuid}))}},{key:"componentDidUpdate",value:function(){!0===this.context.state.onSingleView?this.waitMapStyle():(this.plotAuctions(),this.map.flyTo({center:[B.map.lng,B.map.lat],zoom:B.map.zoom,speed:1.8}))}},{key:"render",value:function(){return c.a.createElement("div",{id:"Map",className:"Map"},c.a.createElement("div",{id:"js-map-view"},"Satellite"))}}]),a}(n.Component);Ie.contextType=p;var Be=h(Ie),Pe=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"Footer"},c.a.createElement("div",{className:"o-fourth"},c.a.createElement("div",{className:"Footer__container"},c.a.createElement(w.b,{to:"/",className:"Logo__footer_link"},c.a.createElement(b,{src:be.a,className:"Footer__logo",isSvg:!0})),c.a.createElement("div",{className:"Footer__copyright"},"Over Holding Srl \xa9 2020"))),c.a.createElement("div",{className:"o-fourth"},c.a.createElement("div",{className:"Footer__container --large"},"Over Holding Srl ",c.a.createElement("br",null),"Viale Tricesimo n. 200",c.a.createElement("br",null),"33100 Udine - Italy",c.a.createElement("br",null),"Vat no. IT02945890305")),c.a.createElement("div",{className:"o-fourth"},c.a.createElement("div",{className:"Footer__container"},c.a.createElement("div",{className:"Footer__title"},"Legal"),c.a.createElement(w.b,{to:"/",className:"Footer__link"},"Terms of Service"),c.a.createElement(w.b,{to:"/",className:"Footer__link"},"Privacy"))),c.a.createElement("div",{className:"o-fourth"},c.a.createElement("div",{className:"Footer__container"},c.a.createElement("div",{className:"Footer__title"},"Community"),c.a.createElement(w.b,{to:"/",className:"Footer__link"},"Telegram"),c.a.createElement(w.b,{to:"/",className:"Footer__link"},"Medium"),c.a.createElement(w.b,{to:"/",className:"Footer__link"},"Facebook"))))}}]),a}(n.Component);var Me=function(){return c.a.createElement(ae,null,c.a.createElement(_,null,c.a.createElement(ee.Consumer,null,(function(e){return c.a.createElement(p.Consumer,null,(function(e){return c.a.createElement(w.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(G.a,null),c.a.createElement(Se,null),c.a.createElement("div",{className:"o-container"},c.a.createElement(he.b,{path:"/map/",component:Be})),c.a.createElement(he.d,null,c.a.createElement(he.b,{exact:!0,path:"/"},c.a.createElement(he.a,{to:"/map/discover"})),c.a.createElement(he.b,{path:"/map/discover",component:Z}),c.a.createElement(he.b,{path:"/map/overview",component:X}),c.a.createElement(he.b,{path:"/map/land/:id",component:_e}),c.a.createElement(he.b,{path:"/login",component:ge}),c.a.createElement(he.b,{path:"/signup",component:fe})),c.a.createElement(Pe,null)))}))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(Me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},44:function(e,a,t){e.exports=t.p+"static/media/white_hex.ada79dca.svg"},45:function(e,a,t){e.exports=t.p+"static/media/close_overlay.7afbf1d7.svg"},46:function(e,a,t){e.exports=t.p+"static/media/logo_ovr_white.4d0be156.svg"},56:function(e,a,t){e.exports=t.p+"static/media/left_arrow.99fe9240.svg"},76:function(e,a,t){e.exports=t.p+"static/media/ovr_token.32f720f8.svg"},79:function(e,a,t){e.exports=t.p+"static/media/ovr_land.a40b240d.svg"},81:function(e,a,t){e.exports=t.p+"static/media/icon_notification.8c792436.svg"},93:function(e,a,t){e.exports=t(171)},98:function(e,a,t){},99:function(e,a,t){}},[[93,1,2]]]);
//# sourceMappingURL=main.2300a8a3.chunk.js.map