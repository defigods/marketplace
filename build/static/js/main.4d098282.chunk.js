(this.webpackJsonpmarketplace=this.webpackJsonpmarketplace||[]).push([[0],{162:function(e,a,t){e.exports=t.p+"static/media/ovr.ee984550.png"},182:function(e,a){},202:function(e,a,t){e.exports=t(306)},207:function(e,a,t){},208:function(e,a,t){},210:function(e,a,t){},249:function(e,a,t){},253:function(e,a){e.exports=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"moodster",type:"address"},{indexed:!1,internalType:"uint256",name:"postID",type:"uint256"}],name:"Moody",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"author",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"string",name:"content",type:"string"},{indexed:!1,internalType:"uint256",name:"postID",type:"uint256"}],name:"NewPost",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"admin",type:"address"}],name:"OnboardAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"}],name:"OnboardUser",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"postID",type:"uint256"},{indexed:!1,internalType:"address",name:"removedBy",type:"address"}],name:"PostRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"removedUser",type:"address"},{indexed:!1,internalType:"address",name:"removedBy",type:"address"}],name:"UserRemoved",type:"event"},{inputs:[{internalType:"address",name:"newAdmin",type:"address"}],name:"addAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"content",type:"string"}],name:"addPost",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newUser",type:"address"}],name:"addUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"admin",type:"address"}],name:"checkAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"checkTime",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"checkUser",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"postID",type:"uint256"}],name:"getPostById",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPostNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"postID",type:"uint256"}],name:"postMood",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"postNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"postID",type:"uint256"}],name:"removePost",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"removedUser",type:"address"}],name:"removeUser",outputs:[],stateMutability:"nonpayable",type:"function"}]},254:function(e,a){},268:function(e,a,t){},269:function(e,a,t){e.exports=t.p+"static/media/icone-marketplace-07.594c2e67.png"},270:function(e,a,t){e.exports=t.p+"static/media/icone-marketplace-01.b71b842b.png"},271:function(e,a,t){e.exports=t.p+"static/media/icone-marketplace-09.7b8ceb3e.png"},272:function(e,a,t){e.exports=t.p+"static/media/icone-marketplace-05.10551744.png"},273:function(e,a,t){e.exports=t.p+"static/media/icone-marketplace-10.90143188.png"},274:function(e,a,t){e.exports=t.p+"static/media/icone-marketplace-04.aca9f9d4.png"},306:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(21),l=t.n(c),i=(t(207),t(208),t(59)),s=t(166),o=t(60);function u(){return i.a.language||window.localStorage.i18nextLng||""}i.a.use(s.a).use(o.e).init({lng:localStorage.getItem("i18nextLng"),backend:{loadPath:"/assets/i18n/{{ns}}/{{lng}}.json"},fallbackLng:"en",debug:!0,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});i.a,t(209);var m=t(8),d=(t(210),t(23)),v=t(5),p=t(7),b=t(14),f=t(11),E=t(10),y=t(65),h=t(40),g=t.n(h),_=Object(n.createContext)(),O=function(e){Object(f.a)(t,e);var a=Object(E.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={onSingleView:!1,hex_id:"8c81326dda43dff",isAuction:!1,isUserRelated:!1,activeBidOverlay:!1,activeMintOverlay:!1,activeSellOverlay:!1,activeBuyOfferOverlay:!1,activeBuyOverlay:!1,onMultipleLandSelection:!1,multipleLandSelectionList:[],auctionList:[],landData:{}},n.changeHexId=n.changeHexId.bind(Object(b.a)(n)),n.disableSingleView=n.disableSingleView.bind(Object(b.a)(n)),n.enableMultipleLandSelection=n.enableMultipleLandSelection.bind(Object(b.a)(n)),n.disableMultipleLandSelection=n.disableMultipleLandSelection.bind(Object(b.a)(n)),n.changeMultipleLandSelectionList=n.changeMultipleLandSelectionList.bind(Object(b.a)(n)),n.changeAuctionList=n.changeAuctionList.bind(Object(b.a)(n)),n.changeActiveBidOverlay=n.changeActiveBidOverlay.bind(Object(b.a)(n)),n.changeActiveMintOverlay=n.changeActiveMintOverlay.bind(Object(b.a)(n)),n.changeActiveSellOverlay=n.changeActiveSellOverlay.bind(Object(b.a)(n)),n.changeActiveBuyOfferOverlay=n.changeActiveBuyOfferOverlay.bind(Object(b.a)(n)),n.changeLandData=n.changeLandData.bind(Object(b.a)(n)),n.changeActiveBuyOverlay=n.changeActiveBuyOverlay.bind(Object(b.a)(n)),n}return Object(p.a)(t,[{key:"changeHexId",value:function(e){y.h3IsValid(e)&&this.setState({onSingleView:!0,hex_id:e,isAuction:!0})}},{key:"enableMultipleLandSelection",value:function(){this.setState({onMultipleLandSelection:!0})}},{key:"disableMultipleLandSelection",value:function(){this.setState({onMultipleLandSelection:!1})}},{key:"disableSingleView",value:function(){this.setState({onSingleView:!1})}},{key:"changeLandData",value:function(e){this.setState({landData:e})}},{key:"changeAuctionList",value:function(e){this.setState({auctionList:e})}},{key:"changeMultipleLandSelectionList",value:function(e){this.setState({multipleLandSelectionList:g.a.uniq(e)})}},{key:"changeActiveBidOverlay",value:function(e){this.setState({activeBidOverlay:e})}},{key:"changeActiveMintOverlay",value:function(e){this.setState({activeMintOverlay:e})}},{key:"changeActiveSellOverlay",value:function(e){this.setState({activeSellOverlay:e})}},{key:"changeActiveBuyOfferOverlay",value:function(e){this.setState({activeBuyOfferOverlay:e})}},{key:"changeActiveBuyOverlay",value:function(e){this.setState({activeBuyOverlay:e})}},{key:"render",value:function(){return r.a.createElement(_.Provider,{value:{state:this.state,actions:{changeHexId:this.changeHexId,changeActiveBidOverlay:this.changeActiveBidOverlay,changeActiveMintOverlay:this.changeActiveMintOverlay,changeAuctionList:this.changeAuctionList,disableSingleView:this.disableSingleView,changeActiveSellOverlay:this.changeActiveSellOverlay,changeActiveBuyOfferOverlay:this.changeActiveBuyOfferOverlay,changeLandData:this.changeLandData,changeActiveBuyOverlay:this.changeActiveBuyOverlay,enableMultipleLandSelection:this.enableMultipleLandSelection,disableMultipleLandSelection:this.disableMultipleLandSelection,changeMultipleLandSelectionList:this.changeMultipleLandSelectionList},overviewList:this.overviewList}},this.props.children)}}]),t}(n.Component);function N(e){return function(a){Object(f.a)(n,a);var t=Object(E.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var a=this;return r.a.createElement(_.Consumer,null,(function(t){return r.a.createElement(e,Object.assign({},a.props,{mapProvider:Object(d.a)({},t)}))}))}}]),n}(r.a.Component)}var w=function(e){Object(f.a)(t,e);var a=Object(E.a)(t);function t(){return Object(v.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"TextCounter"},r.a.createElement("div",{className:"TextCounter__text"}," ",this.props.value," "),r.a.createElement("div",{className:"TextCounter__label"}," ",this.props.label," "))}}]),t}(n.Component),k=t(80),x=function(e){Object(f.a)(t,e);var a=Object(E.a)(t);function t(){return Object(v.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"LandName"},this.props.value&&r.a.createElement(w,{value:this.props.value,label:"OVR"}),r.a.createElement("div",{className:"LandName__name"},r.a.createElement(k.Textfit,{mode:"single",max:17},this.props.name.sentence)),r.a.createElement("div",{className:"LandName__location"}," ",this.props.location," "))}}]),t}(n.Component),C=function(e){var a=e.currency,t=void 0===a?"ovr":a,n=e.value,c=void 0===n?0:n,l=e.color,i=void 0===l?"orange":l;return r.a.createElement("div",{className:"ValueCounter --".concat(i)},r.a.createElement("div",{className:"ValueCounter__icon"},r.a.createElement("div",{className:"Icon"},"ovr"==t||void 0==t?r.a.createElement("svg",{width:"18px",height:"20px",viewBox:"0 0 18 20",imageRendering:"optimizeQuality",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"109.444%",y1:"100%",x2:"0%",y2:"0%",id:"prefix__a"},r.a.createElement("stop",{stopColor:"#EB663B",offset:"0%"}),r.a.createElement("stop",{stopColor:"#F9B326",offset:"100%"}))),r.a.createElement("g",{transform:"translate(-1)",stroke:"url(".concat(window.location.protocol+"//"+window.location.host+window.location.pathname,"#prefix__a)"),fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M18.5 5.246v9.462a2.01 2.01 0 01-1.21 1.842l-5.624 2.41-.886.38a1.984 1.984 0 01-1.56 0l-1.274-.546L2.71 16.55a2.01 2.01 0 01-1.21-1.842V5.246A2.01 2.01 0 012.721 3.4l.218-.091L9.23.656a1.973 1.973 0 011.538 0l3.974 1.674L17.279 3.4A2.01 2.01 0 0118.5 5.246z"}),r.a.createElement("path",{d:"M15.958 5.47a1.472 1.472 0 00-.62-.518l-1.86-.817-2.914-1.28a1.4 1.4 0 00-1.128 0L4.822 4.881l-.16.07a1.472 1.472 0 00-.62.517 1.582 1.582 0 00-.275.896V13.6c0 .327.099.638.273.892.153.224.363.405.614.517l3.84 1.716.934.417a1.4 1.4 0 001.144 0l.65-.29 4.124-1.843c.251-.112.461-.293.614-.517.174-.254.273-.565.273-.892V6.365c0-.329-.1-.64-.275-.896z"}),r.a.createElement("path",{d:"M6.033 10c0-2.16 1.776-3.912 3.967-3.912 2.19 0 3.967 1.752 3.967 3.912S12.19 13.912 10 13.912c-2.19 0-3.967-1.752-3.967-3.912z"}))):r.a.createElement(r.a.Fragment,null),"dai"==t?r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",className:"Dai__icon__svg",imageRendering:"optimizeQuality",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 18 18"},r.a.createElement("path",{fill:"#f5ac37",d:"M9 0a9 9 0 019 9c0 4.973-4.027 9-9 9-4.969 0-9-4.031-9-9s4.031-9 9-9zm0 0"}),r.a.createElement("path",{fill:"#fefefd",d:"M9.332 9.637h3.418c.074 0 .11 0 .113-.098a6.69 6.69 0 000-1.047c0-.066-.031-.094-.105-.094H5.949c-.082 0-.105.028-.105.106v1.004c0 .129 0 .129.136.129zm3.148-2.41a.091.091 0 000-.079 1.75 1.75 0 00-.203-.351 2.84 2.84 0 00-.414-.524 1.321 1.321 0 00-.258-.253 4.073 4.073 0 00-1.687-.856 4.174 4.174 0 00-.957-.102H5.937c-.082 0-.093.036-.093.106v2c0 .082 0 .105.105.105h6.492s.055-.011.067-.046zm0 3.578a1.738 1.738 0 00-.285 0H5.957c-.086 0-.113 0-.113.113v1.953c0 .09 0 .113.113.113h2.879c.137.008.277 0 .41-.03a4.134 4.134 0 001.223-.27c.14-.047.281-.114.41-.192h.039a3.668 3.668 0 001.57-1.578s.04-.086-.008-.11zm-7.765 3.191v-3.113c0-.07 0-.082-.09-.082H3.402c-.066 0-.093 0-.093-.09V9.64h1.304c.07 0 .102 0 .102-.094V8.488c0-.066 0-.086-.09-.086H3.402c-.066 0-.093 0-.093-.09v-.988c0-.062 0-.078.09-.078h1.206c.086 0 .11 0 .11-.105V4.105c0-.09 0-.109.113-.109h4.219c.305.012.61.043.91.102a5.426 5.426 0 011.758.652c.363.21.695.469.992.762.223.234.422.484.602.75.175.27.324.558.437.86.016.077.09.132.168.12h1.008c.129 0 .129 0 .137.121v.922c0 .09-.036.113-.125.113h-.778c-.078 0-.101 0-.093.102.03.344.03.688 0 1.031 0 .094 0 .106.105.106h.89c.04.05 0 .101 0 .152.005.066.005.133 0 .195v.684c0 .094-.03.121-.113.121h-1.062a.144.144 0 00-.164.11 4.513 4.513 0 01-1.184 1.718 6.04 6.04 0 01-.601.485c-.223.128-.442.265-.672.37a6.112 6.112 0 01-1.328.423A6.754 6.754 0 018.617 14H4.711v-.004zm0 0"})):r.a.createElement(r.a.Fragment,null))),r.a.createElement("div",{className:"ValueCounter__value"}," ",c))},j=t(169),S=t.n(j),L=function(e){Object(f.a)(t,e);var a=Object(E.a)(t);function t(){return Object(v.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"TimeCounter"},r.a.createElement(S.a,{local:!0,fromNow:!0},this.props.date_end))}}]),t}(n.Component),T=t(18),M=function(e){var a=e.user_perspective,t=e.background_image,n=e.name,c=e.value,l=e.location,i=e.date_end,s=e.market_status,o=n.sentence,u=n.hex,m="--open",d="OPEN";switch(a){case 1:m="--open",d="OPEN";break;case 2:m="--bestbid",d="BEST BID";break;case 3:m="--outbidded",d="OUTBIDDED";break;default:m="--open",d="OPEN"}switch(s){case 10:m="--open",d="CLOSING"}return r.a.createElement("div",{className:"AuctionCard ".concat(m)},r.a.createElement(T.b,{to:"/map/land/".concat(u)},r.a.createElement("div",{className:"AuctionCard__header",style:{backgroundImage:t}},r.a.createElement("div",{className:"c-status-badge AuctionCard__status"},d),r.a.createElement("div",{className:"AuctionCard__ping_container"},r.a.createElement("div",{className:"c-ping-layer c-ping-layer-1"}," "),r.a.createElement("div",{className:"c-ping-layer c-ping-layer-2"}," "),r.a.createElement("div",{className:"c-ping-layer c-ping-layer-3"}," "),r.a.createElement("div",{className:"c-ping-layer c-ping-layer-4"}," ")))),r.a.createElement("div",{className:"AuctionCard__body"},r.a.createElement(x,{name:{sentence:o,hex:u},location:l}),r.a.createElement("div",{className:"AuctionCard__bottom_line"},r.a.createElement("div",{className:"o-half"},r.a.createElement(C,{value:c})),r.a.createElement("div",{className:"o-half"},r.a.createElement(L,{time:20,signature:"mins",date_end:i})))))},B=function(e){return e.is_minimal?r.a.createElement("div",{className:"LandCard --minimal"},r.a.createElement("div",{className:"LandCard__cont"},r.a.createElement("div",{className:"LandCard__body"},r.a.createElement("div",{className:"LandName"},r.a.createElement("div",{className:"LandName__name"},r.a.createElement(k.Textfit,{mode:"single",max:17},e.name.sentence))),r.a.createElement("div",{className:"LandCard__body__footer"},r.a.createElement(C,{value:e.value}))))):r.a.createElement(T.b,{to:"/map/land/".concat(e.name.hex),className:"LandCard"},r.a.createElement("div",{className:"LandCard__header",style:{backgroundImage:e.background_image}}),r.a.createElement("div",{className:"LandCard__cont"},r.a.createElement("div",{className:"LandCard__body"},r.a.createElement(x,{name:e.name,location:e.location}),r.a.createElement("div",{className:"LandCard__body__footer"},r.a.createElement(L,{time:20,signature:"mins",date_end:e.date_end})))))},P={web3network:3,environment:"DEVELOPMENT",apis:{hostname:"http://localhost:3000/api/v1",socket:"ws://localhost:3000/cable",indacoinHelperApi:"https://web3-helper-staging.ovr.ai/indacoin",etherscan:"https://ropsten.etherscan.io/",cookieDomain:"localhost",sumsubApi:"https://test-api.sumsub.com",OVRContract:"0x128989bd5bac572d8f60c89d6eaa8f6d35f5c25c",walletApproved:"0xda0b2EC0E8eE995e3257Bf99EA678e26651DbeEc"},map:{lat:46.0922495,lng:13.2312417,zoom:0,fillOpacity:.3,colorScale:["#5F39BE","#ffffff","#1a0731","#EC663C","#0081DD"]}};function A(e){var a=g.a.cloneDeep(e);return g.a.isArray(a)?g.a.map(a,A):g.a.isString(a)?a:(a=g.a.mapKeys(a,(function(e,a){return g.a.camelCase(a)})),g.a.mapValues(a,(function(e){return g.a.isPlainObject(e)?A(e):g.a.isArray(e)?g.a.map(e,A):e})))}Array.prototype.readNotification=function(e){var a=this.find((function(a){return a.uuid===e}));a&&(a.status=1)},Array.prototype.readAllNotifications=function(){this.forEach((function(e){e.status=1}))};var I=t(55),D=t.n(I);function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token",a=arguments.length>1?arguments[1]:void 0;D.a.set(e,a,{domain:P.apis.cookieDomain})}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return D.a.get(e)}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";D.a.remove(e),D.a.remove(e,{domain:P.apis.cookieDomain})}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userToken";D.a.remove(e),D.a.remove(e,{domain:P.apis.cookieDomain})}function G(){return void 0!==function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userToken";return D.a.get(e)}()}var H=t(120),V=t.n(H);function z(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",a=arguments.length>1?arguments[1]:void 0;D.a.set(e,a,{domain:P.apis.cookieDomain})}("user",e),K({url:"/user/profile",method:"GET"},{},null)}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return K({url:"/auction/start",method:"POST"},{hex_id:e,worth:a,gas:t},null)}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return K({url:"/auction/bid",method:"POST"},{hex_id:e,worth:a,gas:t},null)}function q(){return K({url:"/user/activities",method:"GET"},{},null)}function K(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{headers:{"Content-Type":"application/json"}},n=R("userToken");return n&&(V.a.defaults.headers.common.Authorization=n),t&&t.headers?t.headers["Content-Language"]=localStorage.getItem("i18nextLng"):t={headers:{"Content-Language":localStorage.getItem("i18nextLng")}},new Promise((function(n,r){("POST"===e.method?V.a.post("".concat(P.apis.hostname).concat(e.url),a,t):V.a.get("".concat(P.apis.hostname).concat(e.url),{params:a})).then((function(e){n(A(e))})).catch((function(e){r(e)}))}))}var J=t(73),Q=t.n(J);function X(){J.store.addNotification({title:"Connection error",message:"Check your internet connection or try again later",type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}function $(e,a){J.store.addNotification({title:e,message:a,type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}function ee(e,a){J.store.addNotification({title:e,message:a,type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}function ae(e,a){J.store.addNotification({title:e,message:a,type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}var te=t(362),ne=t(170),re=t(345),ce=function(){var e=Object(ne.a)(),a=e.t,t=(e.i18n,Object(n.useState)("")),c=Object(m.a)(t,2),l=c[0],i=c[1],s=Object(n.useState)(0),o=Object(m.a)(s,2),u=o[0],d=o[1],v=Object(n.useState)(1),p=Object(m.a)(v,2),b=p[0],f=p[1],E=Object(n.useState)(""),y=Object(m.a)(E,2),h=y[0],g=y[1],O=Object(n.useState)(0),N=Object(m.a)(O,2),w=N[0],k=N[1],x=Object(n.useState)(1),C=Object(m.a)(x,2),j=C[0],S=C[1],L=Object(n.useContext)(_).actions;function T(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return K({url:"/auctions/open",method:"GET"},{sort:e,page:a},null)})(null,e).then((function(e){L.changeAuctionList(e.data.auctions),e.data.auctions.length>0?(i(e.data.auctions.map((function(e){return r.a.createElement(M,{key:e.land.hexId,value:e.land.auction.currentWorth,background_image:"url(".concat(e.land.mapTileUrl),name:{sentence:e.land.sentenceId,hex:e.land.hexId},location:e.land.address.full,market_status:e.land.marketStatus,user_perspective:e.land.userPerspective,date_end:e.land.auction.closeAt})}))),d(e.data.numberOfPages)):i(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},r.a.createElement(re.a,{i18nKey:"Discover.no.auctions.open"},"There is currently no ",r.a.createElement("div",{className:"c-status-badge"},"OPEN")," auction")," ","\u26a1\ufe0f"),r.a.createElement("div",{className:"c-dialog-sub-title"},a("Discover.browse.lands"))))})).catch((function(){console.log("NetworkErrorCode: 1232"),X()}))}function P(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return K({url:"/lands",method:"GET"},{sort:e,page:a},null)})(null,e).then((function(e){e.data.lands.length>0?(g(e.data.lands.map((function(e){return r.a.createElement(B,{key:e.hexId,url:"/",value:e.currentWorth,background_image:"url(".concat(e.mapTileUrl),name:{sentence:e.sentenceId,hex:e.hexId},location:e.address.full,date_end:e.auction.closeAt})}))),k(e.data.numberOfPages)):g(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},a("Discover.no.lands")),r.a.createElement("div",{className:"c-dialog-sub-title"},a("Discover.browse.available"))))})).catch((function(e){console.log(e),console.log("NetworkErrorCode: 12326"),X()}))}return Object(n.useEffect)((function(){L.disableSingleView(),T(),P()}),[]),r.a.createElement("div",{className:"Overview"},r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},a("Discover.auctions.label"))),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-auction-list"},l),r.a.createElement("div",{className:"o-pagination"},u>1&&r.a.createElement(te.a,{count:u,page:b,onChange:function(e,a){T(a),f(a)}}))),r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},a("Discover.closed.auctions"))),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-land-list"},h),r.a.createElement("div",{className:"o-pagination"},w>1&&r.a.createElement(te.a,{count:w,page:j,onChange:function(e,a){P(a),S(a)}}))))},le=(t(249),t(3)),ie=t.n(le),se=t(17),oe=t(101),ue=t(131),me=Object(n.createContext)(),de=function(e){Object(f.a)(t,e);var a=Object(E.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).setUserState=function(e){n.setState({user:e})},n.setUserEmail=function(e){n.setState({user:Object(d.a)(Object(d.a)({},n.state.user),{},{email:e})})},n.setUserActivity=function(e){n.setState({user:Object(d.a)(Object(d.a)({},n.state.user),{},{activities:A(e)})})},n.loginUser=function(e,a){n.setState({isLoggedIn:!0,token:e,user:a}),F("userToken",e),F("userUuid",a),n.liveSocket()},n.logoutUser=function(){n.setState({isLoggedIn:!1,token:null,user:{uuid:null}}),U("userToken"),U("userUuid")},n.refreshBalanceAndAllowance=function(){console.log("refreshBalanceAndAllowance"),K({url:"/user/balance_and_allowance",method:"GET"},{},null).then((function(e){!0===e.data.result&&(console.log("refreshBalanceAndAllowance",e.data),n.setState({user:Object(d.a)(Object(d.a)({},n.state.user),{},{allowance:e.data.allowance,balance:e.data.balance})}))})).catch((function(e){console.log("NetworkErrorCode: 1"),X()}))},n.toggleShowNotificationCenter=function(){n.setState({showNotificationCenter:!n.state.showNotificationCenter})},n.closeNotificationCenter=function(){n.setState({showNotificationCenter:!1})},n.setNotificationAsReaded=function(e){var a=n.state.user.notifications.content,t=n.state.user.notifications.unreadedCount;a.readNotification(e),t-=1,n.setState({user:Object(d.a)(Object(d.a)({},n.state.user),{},{notifications:Object(d.a)(Object(d.a)({},n.state.user.notifications),{},{unreadedCount:t,content:a})})})},n.setAllNotificationsAsReaded=function(){var e=n.state.user.notifications.content;e.readAllNotifications(),n.setState({user:Object(d.a)(Object(d.a)({},n.state.user),{},{notifications:Object(d.a)(Object(d.a)({},n.state.user.notifications),{},{unreadedCount:0,content:e})})})},n.liveSocket=function(){n.state.isLoggedIn&&!n.state.subscribedToLiveSockets&&(n.setState({subscribedToLiveSockets:!0}),ue.createConsumer(P.apis.socket).subscriptions.create({channel:"UsersChannel",user_uuid:n.state.user.uuid},{received:function(e){if(e.only_kyc&&1==e.only_kyc){var a=e.kyc_review_answer;n.setState({user:Object(d.a)(Object(d.a)({},n.state.user),{},{kycReviewAnswer:a})})}else{var t=e.notification,r=e.balance,c=e.unreaded_count;n.setState({user:Object(d.a)(Object(d.a)({},n.state.user),{},{balance:r,notifications:Object(d.a)(Object(d.a)({},n.state.user.notifications),{},{unreadedCount:c,content:[A(t)].concat(Object(oe.a)(n.state.user.notifications.content))})})})}}}))},n.participate=function(){var e=Object(se.a)(ie.a.mark((function e(a,t,r){var c,l,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=Object(ne.a)(),l.t,l.i18n,e.prev=1,e.next=4,n.getPrices();case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",$(n.props.t("Warning.get.prices.title"),n.props.t("Warning.get.prices.desc")+" ".concat(e.t0.message)));case 9:if(e.prev=9,0!==a){e.next=15;break}return i=t/n.state.perEth,e.next=14,n.state.icoParticipate.participateAsync(a,t,r,{value:i,gasPrice:window.web3.toWei(300,"gwei")});case 14:c=e.sent;case 15:return e.abrupt("return",c);case 18:return e.prev=18,e.t1=e.catch(9),e.abrupt("return",$(n.props.t("Warning.buy.error.title"),n.props.t("Warning.buy.error.desc")+" ".concat(e.t1.message)));case 21:case"end":return e.stop()}}),e,null,[[1,6],[9,18]])})));return function(a,t,n){return e.apply(this,arguments)}}(),n.state={isLoggedIn:!1,subscribedToLiveSockets:!1,showNotificationCenter:!1,token:null,user:{uuid:null,allowance:0,balance:0}},n}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;G()&&(z().then((function(a){!0===a.data.result?(e.setState({user:a.data.user}),e.liveSocket()):(ee(e.props.t("Danger.session.expired.title"),e.props.t("Danger.session.expired.desc")),e.logoutUser())})).catch((function(){console.log("isLogged"),X()})),this.loginUser(R("userToken"),R("userUuid")))}},{key:"render",value:function(){return r.a.createElement(me.Provider,{value:{state:this.state,actions:{loginUser:this.loginUser,logoutUser:this.logoutUser,setUserState:this.setUserState,setUserActivity:this.setUserActivity,setUserEmail:this.setUserEmail,toggleShowNotificationCenter:this.toggleShowNotificationCenter,closeNotificationCenter:this.closeNotificationCenter,refreshBalanceAndAllowance:this.refreshBalanceAndAllowance,notification:{setAsReaded:this.setNotificationAsReaded,setAllAsReaded:this.setAllNotificationsAsReaded}}}},this.props.children)}}]),t}(n.Component);function ve(e){return function(a){Object(f.a)(n,a);var t=Object(E.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var a=this;return r.a.createElement(me.Consumer,null,(function(t){return r.a.createElement(e,Object.assign({},a.props,{userProvider:Object(d.a)({},t)}))}))}}]),n}(r.a.Component)}var pe=function(){var e=Object(ne.a)(),a=e.t,t=(e.i18n,Object(n.useState)("")),c=Object(m.a)(t,2),l=c[0],i=c[1],s=Object(n.useState)(0),o=Object(m.a)(s,2),u=o[0],d=o[1],v=Object(n.useState)(1),p=Object(m.a)(v,2),b=p[0],f=p[1],E=Object(n.useState)(""),y=Object(m.a)(E,2),h=y[0],g=y[1],O=Object(n.useState)(0),N=Object(m.a)(O,2),w=N[0],k=N[1],x=Object(n.useState)(1),C=Object(m.a)(x,2),j=C[0],S=C[1],L=Object(n.useState)(!0),T=Object(m.a)(L,2),P=T[0],A=T[1],I=Object(n.useContext)(_).actions,D=Object(n.useContext)(me).state;function F(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return K({url:"/user/auctions",method:"GET"},{sort:e,page:a},null)})(null,e).then((function(e){console.log(e),!0===e.data.result?(I.changeAuctionList(e.data.auctions),e.data.auctions.length>0?(i(e.data.auctions.map((function(e){return r.a.createElement(M,{key:e.land.hexId,value:e.land.auction.currentWorth,background_image:"url(".concat(e.land.mapTileUrl),name:{sentence:e.land.sentenceId,hex:e.land.hexId},location:e.land.address.full,market_status:e.land.marketStatus,user_perspective:e.land.userPerspective,date_end:e.land.auction.closeAt})}))),d(e.data.numberOfPages)):i(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},r.a.createElement(re.a,{i18nKey:"Overview.no.auctions.open"},"There is currently no ",r.a.createElement("div",{className:"c-status-badge"},"OPEN")," auction")," ","\u26a1\ufe0f"),r.a.createElement("div",{className:"c-dialog-sub-title"},a("Overview.browse.ovr.lands"))))):A(!1)})).catch((function(e){console.error(e),console.log("NetworkErrorCode: 1232555"),X()}))}function R(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return K({url:"/user/lands",method:"GET"},{sort:e,page:a},null)})(null,e).then((function(e){!0===e.data.result&&(e.data.lands.length>0?(g(e.data.lands.map((function(e){return r.a.createElement(B,{key:e.hexId,url:"/",value:e.currentWorth,background_image:"url(".concat(e.mapTileUrl),name:{sentence:e.sentenceId,hex:e.hexId},location:e.address.full,icon:{url:"./assets/icons/icon_deal.png",isSvg:!1},date_end:e.auction.closeAt})}))),k(e.data.numberOfPages)):g(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},a("Overview.no.lands")),r.a.createElement("div",{className:"c-dialog-sub-title"},a("Overview.browse.lands")))))})).catch((function(e){console.error(e),console.log("NetworkErrorCode: 1232232"),X()}))}return Object(n.useEffect)((function(){I.disableSingleView(),F(),R(),D.ico}),[D.ico,D.ovrsOwned]),P?r.a.createElement("div",{className:"Overview"},r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},a("Overview.auctions.label"))),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-auction-list"},l),r.a.createElement("div",{className:"o-pagination"},u>1&&r.a.createElement(te.a,{count:u,page:b,onChange:function(e,a){F(a),f(a)}}))),r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},a("Overview.my.ovrlands"))),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-land-list"},h),r.a.createElement("div",{className:"o-pagination"},w>1&&r.a.createElement(te.a,{count:w,page:j,onChange:function(e,a){R(a),S(a)}})))):r.a.createElement("div",{className:"Overview"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},a("Overview.login.required"),r.a.createElement("span",{role:"img","aria-label":"Cool dude"},"\ud83d\ude0e")),r.a.createElement("div",{className:"c-dialog-sub-title"},a("Overview.login.to.browse")))))},be=(t(251),t(125)),fe=(t(253),[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenOwner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"tokens",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"tokens",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"tokenOwner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokens",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"tokenOwner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeAdd",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeDiv",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeMul",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeSub",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokens",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokens",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}]),Ee=Object(n.createContext)(),ye=function(e){Object(f.a)(t,e);var a=Object(E.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).setupWeb3=function(){var e=Object(se.a)(ie.a.mark((function e(a){var t,r,c,l,i,s,o=arguments;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(o.length>1&&void 0!==o[1])||o[1],console.log("setupweb3"),"undefined"===typeof web3){e.next=31;break}return e.next=5,window.ethereum.enable();case 5:return r=new be.a.providers.Web3Provider(window.ethereum),e.next=8,r.getNetwork();case 8:return c=e.sent,l=c.chainId,i=r.getSigner(0),e.next=13,i.getAddress();case 13:if(void 0!=(s=e.sent)){e.next=18;break}a(!1),e.next=29;break;case 18:if(!1!==(parseInt(l)===P.web3network)){e.next=23;break}return $(n.props.t("Warning.metamask.wrong.network.title"),n.props.t("Warning.metamask.wrong.network.desc")),a(!1),e.abrupt("return",!1);case 23:if(n.setState({provider:r,signer:i,address:s,chainId:l,setupComplete:!0}),1!=t){e.next=27;break}return e.next=27,n.handleCentralizedLogin(s,a);case 27:n.keepUpdatedGasPrice(),n.keepUpdatedPublicAddress();case 29:e.next=34;break;case 31:return $(n.props.t("Warning.metamask.not.detected.title"),n.props.t("Warning.metamask.not.detected.desc")),a(!1),e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.refreshGasPrice=function(e){K({url:"/auctions/lands_gas_cost",method:"GET"},{},null).then((function(e){!0===e.data.result&&n.setState({gasLandCost:e.data.landGasCost.toFixed(2)})}))},n.keepUpdatedPublicAddress=function(e){setInterval(Object(se.a)(ie.a.mark((function e(){var a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n.context.state.user.publicAddress||null===n.state.address){e.next=5;break}return e.next=3,n.state.signer.getAddress();case 3:a=e.sent,n.context.state.user.publicAddress!==a.toLowerCase()&&(W(),window.location="/");case 5:case"end":return e.stop()}}),e)}))),1e3)},n.keepUpdatedGasPrice=function(){n.refreshGasPrice(),setInterval((function(){n.refreshGasPrice()}),3e4)},n.getUSDValueInOvr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=.1;return(e/a).toFixed(2)},n.authorizeOvrExpense=Object(se.a)(ie.a.mark((function e(){var a,t,r,c=arguments;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:"10000",window.ethereum.enable(),t=new be.a.Contract(P.apis.OVRContract,fe,n.state.signer),r=be.a.utils.parseUnits(a,18),e.next=6,t.approve(P.apis.walletApproved,r);case 6:case"end":return e.stop()}}),e)}))),n.handleUserSignMessage=function(){var e=Object(se.a)(ie.a.mark((function e(a,t,r){var c;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.state.signer.signMessage("I am signing my one-time nonce: ".concat(t));case 2:c=e.sent,n.handleAuthenticate(a,c,r);case 4:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),n.handleAuthenticate=function(e,a,t){(function(e,a){return K({url:"/authentication/login",method:"POST"},{public_address:e,signed_nonce:a},null)})(e,a).then((function(e){!0===e.data.result?(n.context.actions.loginUser(e.data.token,e.data.user),n.setState({gasLandCost:e.data.gas.landGasCost.toFixed(2)}),t&&t()):ee(n.props.t("Danger.unable.login.title"),e.data.errors[0].message)}))},n.state={setupComplete:!1,provider:null,signer:null,address:null,ovrsOwned:0,gasLandCost:0,perEth:0,perUsd:0,lastTransaction:"0x0",ibcoPendingTransactions:[{txId:"0xf6c3fa82b5c6fc16d4a750a7f00f393a51281c47d555b1d58cc5dca663448188",type:"Sell",price:.32,amount:100,status:null},{txId:"0xf6c3fa82b5c6fc16d4a750a7f00f393a51281c47d555b1d58cc5dca663448188",type:"Sell",price:.32,amount:100,status:null}],ibcoMyTransactions:[],ibcoCurveHistory:[]},n}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;G()&&this.setupWeb3((function(a){0==a&&e.context.actions.logoutUser()}),!1)}},{key:"handleCentralizedLogin",value:function(e,a){var t=this;(function(e){return K({url:"/authentication/metamask",method:"POST"},{public_address:e},null)})(e).then((function(n){(function(e){return K({url:"/user/nonce",method:"GET"},{public_address:e},null)})(e).then((function(n){if(!0===n.data.result){var r=n.data.user.nonce;t.handleUserSignMessage(e,r,a)}}))}))}},{key:"render",value:function(){return r.a.createElement(Ee.Provider,{value:{state:this.state,actions:{setupWeb3:this.setupWeb3,authorizeOvrExpense:this.authorizeOvrExpense,getUSDValueInOvr:this.getUSDValueInOvr}}},this.props.children)}}]),t}(n.Component);function he(e){return function(a){Object(f.a)(n,a);var t=Object(E.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var a=this;return r.a.createElement(Ee.Consumer,null,(function(t){return r.a.createElement(e,Object.assign({},a.props,{web3Provider:Object(d.a)({},t)}))}))}}]),n}(r.a.Component)}ye.contextType=me;var ge=function(e){var a=e.className,t=e.onClick,n=e.url,c=e.text,l=e.target,i=e.ariaControls,s=e.ariaHaspopup,o=e.hexRef;return l?r.a.createElement("a",{href:n,target:l,className:"HexButton ".concat(a),onClick:t},c):r.a.createElement(T.b,{to:n,ref:o,target:l,"aria-controls":i,"aria-haspopup":s,className:"HexButton ".concat(a),onClick:t,autoFocus:!0},c)},_e=t(361),Oe=t(365),Ne=t(116),we=t.n(Ne),ke=ve(he(N((function(e){var a=Object(ne.a)(),t=a.t,c=(a.i18n,e.userProvider.state.user),l=c.balance,i=c.allowance,s=e.userProvider.actions.refreshBalanceAndAllowance,o=e.web3Provider.actions,u=(o.participateBid,o.approveOvrTokens,o.authorizeOvrExpense),d=(o.getUSDValueInOvr,e.web3Provider.state),v=(d.lastTransaction,d.ovr),p=(d.dai,d.tether,d.usdc,d.ico),b=(d.perEth,d.perUsd,d.setupComplete),f=d.gasLandCost,E=e.land.hexId,y=e.land.marketStatus,h=Object(n.useState)(!1),g=Object(m.a)(h,2),_=g[0],O=g[1],N=Object(n.useState)(10),w=Object(m.a)(N,2),k=w[0],x=w[1],j=Object(n.useState)(0),S=Object(m.a)(j,2),L=S[0],T=S[1],M=Object(n.useState)(t("MetamaskMessage.set.waiting")),B=Object(m.a)(M,2),P=B[0],A=(B[1],Object(n.useState)(0)),I=Object(m.a)(A,2),D=I[0],F=I[1],R=Object(n.useState)(e.currentBid),U=Object(m.a)(R,2),W=U[0],G=U[1],H=Object(n.useState)(0),V=Object(m.a)(H,2),z=V[0],Y=V[1],q=Object(n.useState)("ovr"),K=Object(m.a)(q,2),J=K[0],Q=K[1],X=Object(n.useState)(0),ae=Object(m.a)(X,2),te=ae[0],re=ae[1],ce=Object(n.useState)(!1),le=Object(m.a)(ce,2),oe=le[0],ue=le[1],me=Object(n.useState)(!1),de=Object(m.a)(me,2),ve=de[0],pe=de[1],be=(r.a.useRef(null),r.a.useState(!1)),fe=Object(m.a)(be,2),Ee=fe[0],ye=fe[1];function he(a){a.preventDefault(),e.mapProvider.actions.changeActiveBidOverlay(!1),setTimeout((function(){ye(!1),T(0),F(0),Q("ovr"),O(!1)}),500)}Object(n.useEffect)((function(){e.mapProvider.state.activeBidOverlay?(ue(!0),setTimeout((function(){pe(!0)}),50)):(pe(!1),setTimeout((function(){ue(!1)}),500))}),[e.mapProvider.state.activeBidOverlay]),Object(n.useEffect)((function(){xe(J)}),[D]),Object(n.useEffect)((function(){re(f)}),[f]),Object(n.useEffect)((function(){b&&Ne()}),[b,p,v,E,y,e.currentBid]);var Ne=function(){var a=Object(se.a)(ie.a.mark((function a(){return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(b){a.next=2;break}return a.abrupt("return",!1);case 2:G(parseFloat(e.currentBid)),x(2*e.currentBid);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),ke=function(){return!!e.userProvider.state.isLoggedIn||(T(0),$(t("Warning.invalid.auth.title"),t("Warning.invalid.auth.desc")),!1)},xe=function(e){Y(D),Q("ovr")},Ce=function(){var e=Object(se.a)(ie.a.mark((function e(a){var n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=parseFloat(a))>l)){e.next=4;break}return $(t("Warning.no.token.title"),t("Warning.no.tokens.desc")),e.abrupt("return",!1);case 4:if(!(n>i)){e.next=7;break}return e.next=7,u(String(3*n));case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),je=function(){var e=Object(se.a)(ie.a.mark((function e(a){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(D<k)){e.next=2;break}return e.abrupt("return",$(t("Warning.invalid.bid.title"),t("Warning.invalid.bid.desc")));case 2:if(ke()){e.next=4;break}return e.abrupt("return");case 4:if(ke()){e.next=6;break}return e.abrupt("return");case 6:return s(),e.next=9,Ce(parseFloat(D)+parseFloat(te));case 9:if(e.sent){e.next=12;break}return e.abrupt("return");case 12:Z(E,D,te).then((function(e){!0===e.data.result?(T(2),console.log("sendConfirmAuctionStart - response true",e.data)):(ee(t("Danger.error.processing.title"),e.data.errors[0].message),T(0))})).catch((function(e){console.log(e)}));case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return oe?r.a.createElement("div",{className:"OverlayContainer ".concat(ve?"--js-show":"")},r.a.createElement("div",{className:"RightOverlay__backpanel"}," "),r.a.createElement("div",{key:"bid-overlay-",to:e.url,className:"RightOverlay BidOverlay NormalInputs ".concat(e.className?e.className:""," --activeStep-").concat(L)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:he},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#c0c1c0",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),function(a){switch(a){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},t("BidOverlay.place.bid")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bids_container"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BidOverlay.current.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:W})))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BidOverlay.min.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:k})))),r.a.createElement("div",{className:"Overlay__your_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BidOverlay.your.bid")),r.a.createElement("div",null,r.a.createElement(_e.a,{type:"number",onChange:function(e){var a,t=e.target.value;t>0&&(O((a=t)>=k),F(a))}}))),r.a.createElement("div",{className:"Overlay__expense_projection"},_&&e.userProvider.state.isLoggedIn&&z+" "+J.toUpperCase()+" ( + "+te+" "+J.toUpperCase()+" of GAS )",_&&e.userProvider.state.isLoggedIn&&r.a.createElement(Oe.a,{title:r.a.createElement(r.a.Fragment,null,t("Generic.bid.tooltip")),"aria-label":"info",placement:"bottom"},r.a.createElement(we.a,{className:"Help"}))),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ge,{url:"#",text:t("BidOverlay.place.bid.label"),className:"--orange ".concat(_?"":"--disabled"),ariaControls:Ee?"mint-fade-menu":void 0,ariaHaspopup:"true",onClick:function(){return je(J)}}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--orange-light",onClick:he}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},t("BidOverlay.bidding.land")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BidOverlay.current.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:W}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BidOverlay.your.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:D})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,P))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__congrat_title"},r.a.createElement("span",null,t("Generic.congrats.label")),r.a.createElement("br",null),t("BidOverlay.request.sent")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Your bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:D})))),r.a.createElement("div",{className:"Overlay__close-button_container"},r.a.createElement(ge,{url:"#",text:t("Generic.close.label"),className:"--orange-light",onClick:he}))));default:return"Unknown step"}}(L)))):null})))),xe=ve(he(N((function(e){var a=Object(ne.a)(),t=a.t,c=(a.i18n,e.userProvider.state.user),l=c.balance,i=c.allowance,s=e.userProvider.actions.refreshBalanceAndAllowance,o=e.web3Provider.actions,u=o.authorizeOvrExpense,d=(o.getUSDValueInOvr,e.web3Provider.state),v=(d.lastTransaction,d.ovr),p=(d.dai,d.tether,d.usdc,d.ico),b=d.perEth,f=(d.perUsd,d.setupComplete),E=d.gasLandCost,y=e.land.hexId,h=e.land.marketStatus,g=Object(n.useState)(!1),_=Object(m.a)(g,2),O=_[0],N=_[1],w=Object(n.useState)(10),k=Object(m.a)(w,2),x=k[0],j=k[1],S=Object(n.useState)(0),L=Object(m.a)(S,2),T=L[0],M=L[1],B=Object(n.useState)(t("MetamaskMessage.set.waiting")),P=Object(m.a)(B,2),A=P[0],I=(P[1],Object(n.useState)(e.currentBid)),D=Object(m.a)(I,2),F=D[0],R=D[1],U=Object(n.useState)(0),W=Object(m.a)(U,2),G=W[0],H=W[1],V=Object(n.useState)(0),z=Object(m.a)(V,2),Z=z[0],q=z[1],K=Object(n.useState)("ovr"),J=Object(m.a)(K,2),Q=J[0],X=J[1],ae=Object(n.useState)(0),te=Object(m.a)(ae,2),re=te[0],ce=te[1],le=Object(n.useState)(!1),oe=Object(m.a)(le,2),ue=oe[0],me=oe[1],de=Object(n.useState)(!1),ve=Object(m.a)(de,2),pe=ve[0],be=ve[1],fe=Object(n.useState)(0),Ee=Object(m.a)(fe,2),ye=(Ee[0],Ee[1]),he=Object(n.useState)(0),Ne=Object(m.a)(he,2),ke=(Ne[0],Ne[1]),xe=(r.a.useRef(null),r.a.useState(!1)),Ce=Object(m.a)(xe,2),je=Ce[0],Se=Ce[1];function Le(a){a.preventDefault(),e.mapProvider.actions.changeActiveMintOverlay(!1),setTimeout((function(){Se(!1),M(0),H(0),X("ovr"),N(!1)}),500)}Object(n.useEffect)((function(){e.mapProvider.state.activeMintOverlay?(me(!0),setTimeout((function(){be(!0)}),50)):(be(!1),setTimeout((function(){me(!1)}),500))}),[e.mapProvider.state.activeMintOverlay]),Object(n.useEffect)((function(){Me(Q)}),[G]),Object(n.useEffect)((function(){ye(l),ke(i)}),[l,i]),Object(n.useEffect)((function(){ce(E)}),[E]),Object(n.useEffect)((function(){f&&Te()}),[f,p,v,y,h,e.currentBid]);var Te=function(){var a=Object(se.a)(ie.a.mark((function a(){return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(f){a.next=2;break}return a.abrupt("return",!1);case 2:j(parseFloat(e.currentBid)),R(e.currentBid);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Me=function(e){switch(e){case"ovr":q(G),X("ovr");break;case"eth":q((1/b*(G/10)*2).toFixed(4)),X("eth");break;case"usdt":q(G/10*2),X("usdt");break;case"usdc":q(G/10*2),X("usdc");break;case"dai":q(G/10*2),X("dai")}},Be=function(){var e=Object(se.a)(ie.a.mark((function e(a){var n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=parseFloat(a))>l)){e.next=4;break}return $(t("Warning.no.token.title"),t("Warning.no.tokens.desc")),e.abrupt("return",!1);case 4:if(!(n>i)){e.next=7;break}return e.next=7,u(String(3*n));case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Pe=function(){var a=Object(se.a)(ie.a.mark((function a(n){return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(G<x)){a.next=2;break}return a.abrupt("return",$(t("Warning.invalid.bid.title"),t("Warning.invalid.bid.desc")));case 2:if(e.userProvider.state.isLoggedIn||(M(0),$(t("Warning.invalid.auth.title"),t("Warning.invalid.auth.desc")),0)){a.next=4;break}return a.abrupt("return");case 4:return s(),a.next=7,Be(parseFloat(G)+parseFloat(re));case 7:if(a.sent){a.next=10;break}return a.abrupt("return");case 10:Y(y,G,re).then((function(e){!0===e.data.result?M(2):(ee(t("Danger.error.processing.title"),e.data.errors[0].message),M(0))})).catch((function(e){console.log(e)}));case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return ue?r.a.createElement("div",{className:"OverlayContainer ".concat(pe?"--js-show":"")},r.a.createElement("div",{className:"RightOverlay__backpanel"}," "),r.a.createElement("div",{key:"mint-overlay-",to:e.url,className:"RightOverlay MintOverlay NormalInputs ".concat(e.className?e.className:""," --activeStep-").concat(T)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:Le},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#c0c1c0",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),function(a){switch(a){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},t("MintOverlay.start.auction")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bids_container"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("MintOverlay.min.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:F})))),r.a.createElement("div",{className:"Overlay__minimum_bid my-bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("MintOverlay.your.bid")),r.a.createElement("div",null,r.a.createElement(_e.a,{type:"number",onChange:function(e){var a,t=e.target.value;t>0&&(N((a=t)>=x),H(a))}}))),r.a.createElement("div",{className:"Overlay__expense_projection"},O&&e.userProvider.state.isLoggedIn&&Z+" "+Q.toUpperCase()+" ( + "+re+" "+Q.toUpperCase()+" of GAS )",O&&e.userProvider.state.isLoggedIn&&r.a.createElement(Oe.a,{title:r.a.createElement(r.a.Fragment,null,t("Generic.bid.tooltip")),"aria-label":"info",placement:"bottom"},r.a.createElement(we.a,{className:"Help"})))),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ge,{url:"#",text:t("MintOverlay.place.bid"),className:"--orange ".concat(O?"":"--disabled"),ariaControls:je?"mint-fade-menu":void 0,ariaHaspopup:"true",onClick:function(){return Pe(Q)}}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--orange-light",onClick:Le}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},t("MintOverlay.bidding.land")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("MintOverlay.your.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:G})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,A))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__congrat_title"},r.a.createElement("span",null,t("Generic.congrats.label")),r.a.createElement("br",null),t("MintOverlay.about.to.start")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Current bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:G})))),r.a.createElement("div",{className:"Overlay__close-button_container"},r.a.createElement(ge,{url:"#",text:t("Generic.close.label"),className:"--orange-light",onClick:Le}))));default:return"Unknown step"}}(T)))):null})))),Ce=ve(he(N((function(e){var a=Object(ne.a)(),t=a.t,c=(a.i18n,e.web3Provider.actions),l=c.approveErc721Token,i=c.putLandOnSale,s=e.web3Provider.state,o=s.ico,u=s.setupComplete,d=e.land.hexId,v=e.land.marketStatus,p=Object(n.useState)(e.currentBid),b=Object(m.a)(p,2),f=b[0],E=b[1],y=Object(n.useState)(e.currentBid),h=Object(m.a)(y,2),g=h[0],_=h[1],O=Object(n.useState)(!1),N=Object(m.a)(O,2),w=N[0],k=N[1],x=Object(n.useState)(0),j=Object(m.a)(x,2),S=j[0],L=j[1],T=Object(n.useState)(t("MetamaskMessage.set.waiting")),M=Object(m.a)(T,2),B=M[0],P=M[1],A=Object(n.useState)(!1),I=Object(m.a)(A,2),D=I[0],F=I[1],R=Object(n.useState)(!1),U=Object(m.a)(R,2),W=U[0],G=U[1];Object(n.useEffect)((function(){e.mapProvider.state.activeSellOverlay?(F(!0),setTimeout((function(){G(!0)}),50)):(G(!1),setTimeout((function(){F(!1)}),500))}),[e.mapProvider.state.activeSellOverlay]),Object(n.useEffect)((function(){u&&H()}),[u,o,d,v]);var H=function(){var e=Object(se.a)(ie.a.mark((function e(){var a,t,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&o){e.next=2;break}return e.abrupt("return",!1);case 2:return a=parseInt(d,16),e.next=5,o.landsAsync(a);case 5:t=e.sent,n=String(window.web3.fromWei(t[2])),E(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var a=Object(se.a)(ie.a.mark((function a(){return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(S+1!==1){a.next=21;break}if(!1!==(!!e.userProvider.state.isLoggedIn||(L(0),$(t("Warning.invalid.auth.title"),t("Warning.invalid.auth.desc")),!1))){a.next=5;break}return a.abrupt("return",!1);case 5:return L((function(e){return e+1})),a.prev=6,P(t("MetamaskMessage.set.approve.erc721")),a.next=10,l(d);case 10:return P(t("MetamaskMessage.set.waiting")),a.next=13,i(d,String(window.web3.toWei(g)),!0);case 13:a.next=18;break;case 15:return a.prev=15,a.t0=a.catch(6),a.abrupt("return",ee(t("Danger.error.processing.title"),a.t0.message));case 18:(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return K({url:"/order/sell",method:"POST"},{hex_id:e,worth:a},null)})(e.land.key,g).then((function(a){!0===a.data.result?(e.reloadLandStatefromApi(e.land.key),L(2)):ee(t("Danger.unable.place.sell.title"),a.data.errors[0].message)})).catch((function(){console.log("NetworkErrorCode: 143"),X()}));case 19:a.next=22;break;case 21:L((function(e){return e+1}));case 22:case"end":return a.stop()}}),a,null,[[6,15]])})));return function(){return a.apply(this,arguments)}}();function z(a){a.preventDefault(),e.mapProvider.actions.changeActiveSellOverlay(!1),setTimeout((function(){L(0),_("")}),200)}return D?r.a.createElement("div",{className:"OverlayContainer ".concat(W?"--js-show":"")},r.a.createElement("div",{className:"RightOverlay__backpanel"}," "),r.a.createElement("div",{key:"sell-overlay-",to:e.url,className:"RightOverlay SellOverlay NormalInputs ".concat(e.className?e.className:""," --activeStep-").concat(S)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:z},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#c0c1c0",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),function(a){switch(a){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},t("SellOverlay.create.offer")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bids_container"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("SellOverlay.bought.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:f})))),r.a.createElement("div",{className:"Overlay__minimum_bid my-bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Sell at"),r.a.createElement("div",null,r.a.createElement(_e.a,{type:"number",onChange:function(e){var a;a=e.target.value,k(""!==a),_(a)}})))),r.a.createElement("br",null),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ge,{url:"#",text:t("SellOverlay.place.sell"),className:"--purple ".concat(w?"":"--disabled"),onClick:V}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--orange-light",onClick:z}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},t("SellOverlay.create.offer")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("SellOverlay.bought.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:f}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("SellOverlay.selling.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:g})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,B))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__congrat_title"},r.a.createElement("span",null,t("Generic.congrats.label")),r.a.createElement("br",null),t("SellOverlay.sell.placed")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("SellOverlay.bought.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:f}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("SellOverlay.selling.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:g})))),r.a.createElement("div",{className:"Overlay__close-button_container"},r.a.createElement(ge,{url:"#",text:t("Generic.close.label"),className:"--orange-light",onClick:z}))));default:return"Unknown step"}}(S)))):null})))),je=t(180),Se=t(32),Le=t(359),Te=t(364),Me=t(355),Be=t(308),Pe=t(310),Ae=t(350),Ie=t(314),De=new Date,Fe=new Date(De);Fe.setDate(Fe.getDate()+1);var Re=ve(he(N((function(e){var a=Object(ne.a)(),t=a.t,c=(a.i18n,e.web3Provider.actions),l=c.approveOvrTokens,i=c.participateBuyOffer,s=e.web3Provider.state,o=s.lastTransaction,u=s.ovr,d=s.dai,v=s.tether,p=s.usdc,b=s.ico,f=s.setupComplete,E=e.land.hexId,y=e.land.marketStatus,h=Object(n.useState)(!1),g=Object(m.a)(h,2),_=g[0],O=g[1],N=Object(n.useState)(""),w=Object(m.a)(N,2),k=w[0],x=w[1],j=Object(n.useState)(0),S=Object(m.a)(j,2),L=S[0],T=S[1],M=Object(n.useState)(Fe),B=Object(m.a)(M,2),A=B[0],I=B[1],D=Object(n.useState)(t("MetamaskMessage.set.waiting")),F=Object(m.a)(D,2),R=F[0],U=F[1],W=Object(n.useState)(0),G=Object(m.a)(W,2),H=G[0],V=G[1],z=Object(n.useState)(!1),Y=Object(m.a)(z,2),Z=Y[0],q=Y[1],K=Object(n.useState)(!1),J=Object(m.a)(K,2),Q=J[0],X=J[1],ae=r.a.useRef(null),te=r.a.useState(!1),re=Object(m.a)(te,2),ce=re[0],le=re[1];function oe(a){a.preventDefault(),e.mapProvider.actions.changeActiveBuyOfferOverlay(!1),setTimeout((function(){le(!1),T(0),x("")}),500)}Object(n.useEffect)((function(){e.mapProvider.state.activeBuyOfferOverlay?(q(!0),setTimeout((function(){X(!0)}),50)):(X(!1),setTimeout((function(){q(!1)}),500))}),[e.mapProvider.state.activeBuyOfferOverlay]),Object(n.useEffect)((function(){f&&ue()}),[f,b,u,E,y]);var ue=function(){var e=Object(se.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&b&&u){e.next=2;break}return e.abrupt("return",!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(e){ae.current&&ae.current.contains(e.target)||le(!1)},de=function(){le(!0)},ve=function(){var a=Object(se.a)(ie.a.mark((function a(n){return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.userProvider.state.isLoggedIn||(T(0),$(t("Warning.invalid.auth.title"),t("Warning.invalid.auth.desc")),0)){a.next=2;break}return a.abrupt("return");case 2:if(T((function(e){return e+1})),a.prev=3,!(Math.trunc(Date.now()/1e3)>=H)){a.next=9;break}return $(t("Warining.date.error"),t("Warning.future.notify")),T(0),a.abrupt("return");case 9:a.t0=n,a.next="ovr"===a.t0?12:"eth"===a.t0?19:"usdt"===a.t0?23:"usdc"===a.t0?30:"dai"===a.t0?37:44;break;case 12:return U(t("MetamaskMessage.set.approve.ovr")),a.next=15,l(!0,u);case 15:return U(t("MetamaskMessage.set.buy.ovr")),a.next=18,i(4,k,H,E);case 18:return a.abrupt("break",44);case 19:return U(t("MetamaskMessage.set.buy.eth")),a.next=22,i(0,k,H,E);case 22:return a.abrupt("break",44);case 23:return U(t("MetamaskMessage.set.approve.usdt")),a.next=26,l(!0,v);case 26:return U(t("MetamaskMessage.set.buy.usct")),a.next=29,i(2,k,H,E);case 29:return a.abrupt("break",44);case 30:return U(t("MetamaskMessage.set.approve.usdc")),a.next=33,l(!0,p);case 33:return U(t("MetamaskMessage.set.buy.usdc")),a.next=36,i(3,k,H,E);case 36:return a.abrupt("break",44);case 37:return U(t("MetamaskMessage.set.approve.dai")),a.next=40,l(!0,d);case 40:return U(t("MetamaskMessage.set.buy.dai")),a.next=43,i(1,k,H,E);case 43:return a.abrupt("break",44);case 44:a.next=51;break;case 46:return a.prev=46,a.t1=a.catch(3),le(!1),T(0),a.abrupt("return",ee(t("Danger.error.processing.title"),a.t1.message));case 51:T(2);case 52:case"end":return a.stop()}}),a,null,[[3,46]])})));return function(e){return a.apply(this,arguments)}}();function pe(e){V(Math.trunc(e/1e3)),I(e)}return Z?r.a.createElement("div",{className:"OverlayContainer ".concat(Q?"--js-show":"")},r.a.createElement("div",{className:"RightOverlay__backpanel"}," "),r.a.createElement("div",{key:"bid-overlay-",to:e.url,className:"RightOverlay BuyOfferOverlay NormalInputs ".concat(e.className?e.className:""," --activeStep-").concat(L)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:oe},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#c0c1c0",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),function(a){switch(a){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},t("BuyOfferOverlay.place.offer")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__lower__cont"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BuyOfferOverlay.current.value")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:e.currentBid})))),r.a.createElement("div",{className:"Overlay__input"},r.a.createElement(_e.a,{id:"quantity",label:t("BuyOfferOverlay.buy.at.label"),type:"number",value:k,onChange:function(e){var a,t=e.target.value;t>0&&(O(""!=(a=t)),x(a))}}),r.a.createElement(Se.a,{utils:je.a},r.a.createElement(Le.a,{variant:"inline",format:"DD-MM-YYYY HH:mm",margin:"normal",id:"date-picker-inline",label:t("BuyOfferOverlay.expires.at.label"),value:A,onChange:pe})))),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(Ae.a,{open:ce,anchorEl:ae.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,n=e.placement;return r.a.createElement(Be.a,Object.assign({},a,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(Pe.a,null,r.a.createElement(Me.a,{onClickAway:me},r.a.createElement(Ie.a,{autoFocusItem:ce,id:"mint-fade-menu"},r.a.createElement(Te.a,{onClick:function(){ve("ovr")},className:"bid-fade-menu --cons-option"},t("BuyOfferOverlay.buy.using.ovr")),r.a.createElement(Te.a,{onClick:Object(se.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve("eth");case 1:case"end":return e.stop()}}),e)}))),className:"bid-fade-menu"},t("BuyOfferOverlay.buy.using.eth")),r.a.createElement(Te.a,{onClick:Object(se.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve("dai");case 1:case"end":return e.stop()}}),e)}))),className:"bid-fade-menu"},t("BuyOfferOverlay.buy.using.dai")),r.a.createElement(Te.a,{onClick:Object(se.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve("usdt");case 1:case"end":return e.stop()}}),e)}))),className:"bid-fade-menu"},t("BuyOfferOverlay.buy.using.usdt")),r.a.createElement(Te.a,{onClick:Object(se.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve("usdc");case 1:case"end":return e.stop()}}),e)}))),className:"bid-fade-menu"},t("BuyOfferOverlay.buy.using.usdc"))))))})),r.a.createElement(ge,{hexRef:ae,url:"#",text:t("BuyOfferOverlay.place.buy"),className:"--orange ".concat(_?"":"--disabled"),ariaControls:ce?"mint-fade-menu":void 0,ariaHaspopup:"true",onClick:de}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--orange-light",onClick:oe}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},t("BuyOfferOverlay.place.offer")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BuyOfferOverlay.current.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:e.currentBid}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BuyOfferOverlay.your.offer")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:k})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,R))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__congrat_title"},r.a.createElement("span",null,t("Generic.congrats.label")),r.a.createElement("br",null),t("BuyOfferOverlay.offer.sent"),r.a.createElement("div",{className:"Overlay__etherscan_link"},r.a.createElement("a",{href:P.apis.etherscan+"/tx/"+o,rel:"noopener noreferrer",target:"_blank"},t("BuyOfferOverlay.view.status")))),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BuyOfferOverlay.your.offer")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:k})))),r.a.createElement("div",{className:"Overlay__close-button_container"},r.a.createElement(ge,{url:"#",text:"Close",className:"--orange-light",onClick:oe}))));default:return"Unknown step"}}(L)))):null})))),Ue=t(312),We=(t(268),ve(he(N(function(e){Object(f.a)(t,e);var a=Object(E.a)(t);function t(e){var n;Object(v.a)(this,t),(n=a.call(this,e)).confirmDeleteBuyOffer=function(){var e=Object(se.a)(ie.a.mark((function e(a){var t,r,c;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ne.a)(),r=t.t,t.i18n,e.prev=1,e.next=4,n.props.web3Provider.actions.cancelBuyOffer(a);case 4:return c=e.sent,n.setState({metamaskMessage:r("MetamaskMessage.cancel.buy"),transactionInProcess:!0}),e.next=8,n.props.web3Provider.actions.waitTx(c);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",ee(r("Danger.cancel.buy.title"),e.t0.message));case 13:ae(r("Success.delete.title"),r("Success.request.process.desc")),n.handleClose();case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),n.declineBuyOffer=function(){var e=Object(se.a)(ie.a.mark((function e(a){var t,r,c;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ne.a)(),r=t.t,t.i18n,e.prev=1,e.next=4,n.props.web3Provider.actions.declineBuyOffer(a);case 4:return c=e.sent,n.setState({metamaskMessage:r("MetamaskMessage.decline.buy"),transactionInProcess:!0}),e.next=8,n.props.web3Provider.actions.waitTx(c);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",ee(r("Danger.decline.buy.title"),e.t0.message));case 13:ae(r("Success.decline.title"),r("Success.request.process.desc")),n.handleClose();case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),n.confirmSell=function(){var e=Object(se.a)(ie.a.mark((function e(a,t){var r,c,l;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(ne.a)(),c=r.t,r.i18n,e.prev=1,n.setState({metamaskMessage:c("MetamaskMessage.approve.ovr"),transactionInProcess:!0}),e.next=5,n.props.web3Provider.actions.approveErc721Token(t,!0);case 5:return n.setState({metamaskMessage:c("MetamaskMessage.accept.sell")}),e.next=8,n.props.web3Provider.actions.acceptBuyOffer(a,t);case 8:return l=e.sent,e.next=11,n.props.web3Provider.actions.waitTx(l);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",ee(c("Danger.accept.buy.title"),e.t0.message));case 16:ae(c("Success.land.sold.title"),c("Success.request.process.desc")),n.handleClose();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a,t){return e.apply(this,arguments)}}(),n.openDeclineModal=function(){var e=Object(ne.a)(),a=e.t;e.i18n;n.props.userProvider.state.isLoggedIn?n.setState({openDeclineBuyModal:!0}):$(a("Warning.invalid.auth.title"),a("Warning.invalid.auth.desc.buy"))};var r=window.location.pathname.split("/")[3];return n.state={openModal:!1,offerId:n.props.offer.id,openDeclineBuyModal:!1,metamaskMessage:"",transactionInProcess:!1,hexId:r&&15===r.length?r:n.props.mapProvider.state.hex_id},n.confirmDeleteBuyOffer=n.confirmDeleteBuyOffer.bind(Object(b.a)(n)),n.confirmSell=n.confirmSell.bind(Object(b.a)(n)),n.handleOpen=n.handleOpen.bind(Object(b.a)(n)),n.handleClose=n.handleClose.bind(Object(b.a)(n)),n.buttonRender=n.buttonRender.bind(Object(b.a)(n)),n.setupComplete=n.props.web3Provider.state.setupComplete,n}return Object(p.a)(t,[{key:"setupListeners",value:function(){var e=this;document.addEventListener("land-selected",(function(a){e.setState({hexId:a.detail.hex_id})}))}},{key:"handleOpen",value:function(){var e=Object(ne.a)(),a=e.t;e.i18n;this.props.userProvider.state.isLoggedIn?this.setState({openModal:!0}):$(a("Warning.invalid.auth.title"),a("Warning.invalid.auth.desc.buy"))}},{key:"handleClose",value:function(){this.setState({openModal:!1,openDeclineBuyModal:!1,metamaskMessage:"",transactionInProcess:!1})}},{key:"componentDidMount",value:function(){this.setupComplete&&this.setupListeners()}},{key:"buttonRender",value:function(){var e=this,a=Object(ne.a)(),t=a.t;a.i18n;return this.props.isOwner?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section"},r.a.createElement("button",{type:"button",className:"orderTileButton",onClick:this.handleOpen},"Delete")),r.a.createElement("div",{className:"section"}),r.a.createElement(Ue.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openModal,onClose:this.handleClose},r.a.createElement("div",{className:"BuyOfferModal"},r.a.createElement("h2",null,t("BuyOfferOrder.delete.confirmation")),r.a.createElement("p",null,r.a.createElement(re.a,{i18nKey:"BuyOfferOrder.delete.ask"},"Do you confirm the delete of this ",r.a.createElement("b",null,"Buy offer"),"?")),r.a.createElement("p",{className:"blinking-message"},this.state.metamaskMessage),r.a.createElement("div",{className:"Modal__buttons_container"},r.a.createElement(ge,{url:"#",text:t("Generic.confirm.label"),className:this.state.transactionInProcess?"--purple --disabled":"--purple",onClick:function(){return e.confirmDeleteBuyOffer(e.props.offer.id)}}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--outline",onClick:this.handleClose}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section"},r.a.createElement("button",{type:"button",className:"orderTileButton",onClick:this.handleOpen},t("BuyOfferOrder.accept.offer"))," ",r.a.createElement("button",{type:"button",className:"orderTileButton",onClick:this.openDeclineModal},t("BuyOfferOrder.decline.offer"))),r.a.createElement("div",{className:"section"}),r.a.createElement(Ue.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openModal,onClose:this.handleClose},r.a.createElement("div",{className:"BuyOfferModal"},r.a.createElement("h2",null,t("BuyOfferOrder.sell.confirmation")),r.a.createElement("p",null,r.a.createElement(re.a,{i18nKey:"BuyOfferOrder.sell.conf.ask"},"Do you confirm the sell of this ",r.a.createElement("b",null,"OVRLand"),"?")),r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"OrderModal__bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BuyOfferOrder.sell.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:this.props.offer.price})))),r.a.createElement("p",{className:"blinking-message"},this.state.metamaskMessage),r.a.createElement("div",{className:"Modal__buttons_container"},r.a.createElement(ge,{url:"#",text:t("Generic.confirm.label"),className:this.state.transactionInProcess?"--purple --disabled":"--purple",onClick:function(){return e.confirmSell(e.props.offer.id,e.props.offer.landId)}}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--outline",onClick:this.handleClose})))),r.a.createElement(Ue.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openDeclineBuyModal,onClose:this.handleClose},r.a.createElement("div",{className:"BuyOfferModal"},r.a.createElement("h2",null,t("BuyOfferOrder.decline.confirm")),r.a.createElement("p",null,r.a.createElement(re.a,{i18nKey:"BuyOfferOrder.decline.conf.ask"},"Do you confirm to decline this buy offer for this ",r.a.createElement("b",null,"OVRLand"),"?")),r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"OrderModal__bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BuyOfferOrder.sell.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:this.props.offer.price})))),r.a.createElement("p",{className:"blinking-message"},this.state.metamaskMessage),r.a.createElement("div",{className:"Modal__buttons_container"},r.a.createElement(ge,{url:"#",text:t("Generic.confirm.label"),className:this.state.transactionInProcess?"--purple --disabled":"--purple",onClick:function(){return e.declineBuyOffer(e.props.offer.id)}}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--outline",onClick:this.handleClose})))))}},{key:"render",value:function(){var e=Object(ne.a)(),a=e.t;e.i18n;return r.a.createElement("div",{className:"BuyOfferTile"},r.a.createElement("div",{className:"section"},r.a.createElement(C,{value:this.props.offer.price})),r.a.createElement("div",{className:"section"},r.a.createElement("b",null,a("BuyOfferOrder.offer.order"))),r.a.createElement("div",{className:"section"},r.a.createElement("span",{className:"c-small-tile-text"},a("BuyOfferOrder.expires.label"))," ",r.a.createElement(L,{date_end:new Date(1e3*this.props.offer.expirationDate)})),this.buttonRender())}}]),t}(n.Component)))),ve(he(N((function(e){var a=Object(ne.a)(),t=a.t,c=(a.i18n,e.web3Provider.actions),l=c.approveOvrTokens,i=c.buy,s=c.buyLand,o=e.web3Provider.state,u=o.ovr,d=o.ico,v=o.setupComplete,p=e.land.hexId,b=e.land.marketStatus,f=Object(n.useState)(e.currentBid),E=Object(m.a)(f,2),y=E[0],h=E[1],g=Object(n.useState)(0),_=Object(m.a)(g,2),O=_[0],N=_[1],w=Object(n.useState)(t("MetamaskMessage.set.waiting")),k=Object(m.a)(w,2),x=k[0],j=k[1],S=Object(n.useState)(!1),L=Object(m.a)(S,2),T=L[0],M=L[1],B=Object(n.useState)(!1),P=Object(m.a)(B,2),A=P[0],I=P[1],D=r.a.useRef(null),F=r.a.useState(!1),R=Object(m.a)(F,2),U=R[0],W=R[1];Object(n.useEffect)((function(){e.mapProvider.state.activeBuyOverlay?(M(!0),setTimeout((function(){I(!0)}),50)):(I(!1),setTimeout((function(){M(!1)}),500))}),[e.mapProvider.state.activeBuyOverlay]);var G=function(e){D.current&&D.current.contains(e.target)||W(!1)},H=function(){W(!0)};Object(n.useEffect)((function(){v&&V()}),[v,d,p,b,e.mapProvider.state.activeBuyOverlay]);var V=function(){var e=Object(se.a)(ie.a.mark((function e(){var a,t,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v&&d&&u){e.next=2;break}return e.abrupt("return",!1);case 2:return a=parseInt(p,16),e.next=5,d.landsAsync(a);case 5:t=e.sent,n=String(window.web3.fromWei(t[7])),h(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function z(a){a.preventDefault(),e.mapProvider.actions.changeActiveBuyOverlay(!1),setTimeout((function(){N(0),h(10)}),200)}var Y=function(){return!!e.userProvider.state.isLoggedIn||(N(0),$(t("Warning.invalid.auth.title"),t("Warning.invalid.auth.desc")),!1)},Z=function(){var e=Object(se.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O+1!==1){e.next=24;break}if(Y()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,u.balanceOfAsync(window.web3.eth.defaultAccount);case 6:if(e.sent.greaterThan(y)){e.next=9;break}return e.abrupt("return",ee(t("Danger.balance.insuff.title"),t("Danger.balance.insuff.desc")));case 9:return j(t("MetamaskMessage.set.approve.ovr")),e.next=12,l(!0,u);case 12:return j(t("MetamaskMessage.set.waiting.buy")),e.next=15,s(p);case 15:Z(),e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(3),console.log("Error",e.t0),e.abrupt("return",ee(t("Danger.error.processing.title"),e.t0.message));case 22:e.next=25;break;case 24:N((function(e){return e+1}));case 25:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}();return T?r.a.createElement("div",{className:"OverlayContainer ".concat(A?"--js-show":"")},r.a.createElement("div",{className:"RightOverlay__backpanel"}," "),r.a.createElement("div",{key:"sell-overlay-",to:e.url,className:"RightOverlay BuyLandOverlay NormalInputs ".concat(e.className?e.className:""," --activeStep-").concat(O)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:z},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#c0c1c0",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),function(a){switch(a){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},t("BuyLandOverlay.buy.land")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bids_container"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BuyLandOverlay.price.label")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:y}))))),r.a.createElement("br",null),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(Ae.a,{open:U,anchorEl:D.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,n=e.placement;return r.a.createElement(Be.a,Object.assign({},a,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(Pe.a,null,r.a.createElement(Me.a,{onClickAway:G},r.a.createElement(Ie.a,{autoFocusItem:U,id:"mint-fade-menu"},r.a.createElement(Te.a,{onClick:function(e){G(e),N((function(e){return e+1})),Z()},className:"bid-fade-menu --cons-option"},t("BuyLandOverlay.bid.ovr")),r.a.createElement(Te.a,{onClick:function(){var e=Object(se.a)(ie.a.mark((function e(a){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(a),!1!==Y()){e.next=3;break}return e.abrupt("return",!1);case 3:return N((function(e){return e+1})),e.next=6,i(window.web3.toWei(y),"eth");case 6:Z();case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),className:"bid-fade-menu"},t("BuyLandOverlay.bid.eth")),r.a.createElement(Te.a,{onClick:function(){var e=Object(se.a)(ie.a.mark((function e(a){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(a),j(t("MetamaskMessage.set.get.ovr.first")),!1!==Y()){e.next=4;break}return e.abrupt("return",!1);case 4:return N((function(e){return e+1})),e.next=7,i(window.web3.toWei(y),"dai");case 7:Z();case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),className:"bid-fade-menu"},t("BuyLandOverlay.bid.dai")),r.a.createElement(Te.a,{onClick:function(){var e=Object(se.a)(ie.a.mark((function e(a){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(a),j(t("MetamaskMessage.set.get.ovr.first")),!1!==Y()){e.next=4;break}return e.abrupt("return",!1);case 4:return N((function(e){return e+1})),e.next=7,i(window.web3.toWei(y),"usdt");case 7:Z();case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),className:"bid-fade-menu"},t("BuyLandOverlay.bid.usdt")),r.a.createElement(Te.a,{onClick:function(){var e=Object(se.a)(ie.a.mark((function e(a){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(a),j(t("MetamaskMessage.set.get.ovr.first")),!1!==Y()){e.next=4;break}return e.abrupt("return",!1);case 4:return N((function(e){return e+1})),e.next=7,i(window.web3.toWei(y),"usdc");case 7:Z();case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),className:"bid-fade-menu"},t("BuyLandOverlay.bid.usdc"))))))})),r.a.createElement(ge,{hexRef:D,url:"#",text:t("BuyLandOverlay.confirm.buy"),className:"--orange",ariaControls:U?"mint-fade-menu":void 0,ariaHaspopup:"true",onClick:H}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--orange-light",onClick:z}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},t("BuyLandOverlay.buy.land")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BuyLandOverlay.price.label")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:y})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,x))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__congrat_title"},r.a.createElement("span",null,t("Generic.congrats.label")),r.a.createElement("br",null),t("BuyLandOverlay.requested.buy")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},t("BuyLandOverlay.price.label")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:y})))),r.a.createElement("div",{className:"Overlay__close-button_container"},r.a.createElement(ge,{url:"#",text:t("Generic.close.label"),className:"--orange-light",onClick:z}))));default:return"Unknown step"}}(O)))):null}))))),Ge=t(354),He=t(131),Ve=t.n(He),ze=he(ve(N((function(e){var a=Object(ne.a)(),t=a.t,c=(a.i18n,e.mapProvider.actions),l=c.changeHexId,i=c.changeLandData,s=c.changeActiveBidOverlay,o=c.changeActiveMintOverlay,u=(c.changeActiveSellOverlay,c.changeActiveBuyOverlay,c.changeActiveBuyOfferOverlay,e.web3Provider.actions),d=(u.redeemSingleLand,u.getOffersToBuyLand),v=u.getUSDValueInOvr,p=e.web3Provider.state,b=p.ovr,f=p.ico,E=p.setupComplete,y=e.userProvider.state.isLoggedIn,h=Object(n.useState)(e.mapProvider.state),g=Object(m.a)(h,2),_=g[0],O=g[1],N=Object(n.useState)(10),w=Object(m.a)(N,2),x=w[0],j=w[1],S=Object(n.useState)(0),T=Object(m.a)(S,2),M=T[0],B=T[1],A=Object(n.useState)(0),I=Object(m.a)(A,2),D=I[0],F=I[1],R=Object(n.useState)({sentence:"director.connect.overflow",hex:"8cbcc350c0ab5ff"}),U=Object(m.a)(R,2),W=U[0],G=U[1],H=Object(n.useState)("Venice, Italy"),V=Object(m.a)(H,2),z=V[0],Y=V[1],Z=Object(n.useState)(null),q=Object(m.a)(Z,2),J=q[0],Q=q[1],$=Object(n.useState)([]),ee=Object(m.a)($,2),ae=(ee[0],ee[1]),te=Object(n.useState)(void 0),ce=Object(m.a)(te,2),le=ce[0],oe=ce[1],ue=Object(n.useState)(!1),me=Object(m.a)(ue,2),de=(me[0],me[1],Object(n.useState)(!1)),ve=Object(m.a)(de,2),pe=ve[0],be=ve[1],fe=Object(n.useState)(!1),Ee=Object(m.a)(fe,2),ye=Ee[0],he=Ee[1];Object(n.useEffect)((function(){var a=e.match.params.id;l(a),Oe(a)}),[void 0,e.match.params.id]),Object(n.useEffect)((function(){if(E&&y&&_===e.match.params.id&&y){window.landSocket&&window.landSocket.unsubscribe();var a=Ve.a.createConsumer(P.apis.socket);window.landSocket=a.subscriptions.create({channel:"LandsChannel",hex_id:_},{received:function(e){Oe(_),_e()}})}}),[E,y,_]),Object(n.useEffect)((function(){E&&_e()}),[E,f,b,_,M]);var _e=function(){var e=Object(se.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E&&f&&b){e.next=2;break}return e.abrupt("return",!1);case 2:Ne();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Oe(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return K({url:"/land",method:"GET"},{hex_id:e},null)})(e).then((function(e){var a=e.data;if(a.error&&"h3_not_valid"==a.error)be(!0);else{if(be(!1),l(a.hexId),O(a.hexId),G({sentence:a.sentenceId,hex:a.hexId}),Y(a.address.full),F(a.userPerspective),Q(a.auction),he(a.isUnavailable),oe(a.mintTxHash),j(a.value),a.value<100){var t=v(10);j(t)}B(a.marketStatus);var n={key:a.hexId,name:{sentence:a.sentenceId,hex:a.hexId},location:a.address.full,userPerspective:a.userPerspective,openSellOrder:a.openSellOrder,auction:a.auction};i(n)}})).catch((function(e){console.log(e),X()}))}var Ne=function(){var e=Object(se.a)(ie.a.mark((function e(){var a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(_);case 2:a=e.sent,ae(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var we=function(e){e.preventDefault();var a=P.apis.etherscan+"/tx/"+le;window.open(a,"_blank")};function je(){var e=r.a.createElement("div",null,"\xa0");switch(M){case 0:e=0==ye?r.a.createElement(ge,{url:"/",text:t("Land.init.auction"),className:"--blue",onClick:function(e){return function(e){e.preventDefault(),o(!0)}(e)}}):r.a.createElement(ge,{url:"mailto:info@ovr.ai?subject=Interested in ".concat(_),target:"_blank",text:t("Generic.contactus.interested"),className:"--blue"});break;case 1:e=r.a.createElement(ge,{url:"/",text:t("Land.place.bid"),className:"--purple",onClick:function(e){return function(e){e.preventDefault(),s(!0)}(e)}});break;case 10:e=r.a.createElement("div",null);break;default:e=r.a.createElement("div",null,"\xa0")}return e}return 0==pe?r.a.createElement("div",{className:"Land"},r.a.createElement(ke,{currentBid:x,land:{hexId:_,marketStatus:M,name:W,location:z}}),r.a.createElement(xe,{currentBid:x,land:{hexId:_,marketStatus:M,name:W,location:z}}),r.a.createElement(Ce,{currentBid:x,land:{hexId:_,marketStatus:M,name:W,location:z}}),r.a.createElement(Re,{currentBid:x,land:{hexId:_,marketStatus:M,name:W,location:z}}),r.a.createElement(We,{currentBid:x,land:{hexId:_,marketStatus:M,name:W,location:z}}),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Land__heading__1"},r.a.createElement("h2",null,r.a.createElement(k.Textfit,{mode:"single",max:25},W.sentence)),r.a.createElement("div",{className:"Land__location"},z)),r.a.createElement("div",{className:"Land__heading__2"},r.a.createElement("div",{className:"o-fourth"},function(){switch(M){case 2:return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"o-small-title"},t("Land.closing.price")),r.a.createElement(C,{value:x}));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"o-small-title"},t("Land.price.label")),r.a.createElement(C,{value:x}))}}()),r.a.createElement("div",{className:"o-fourth"},1===M?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"o-small-title"},t("Land.closes.label")),r.a.createElement(L,{date_end:J?J.closeAt:24})):r.a.createElement("div",null,"\xa0")),r.a.createElement("div",{className:"o-fourth"},function(){var e=r.a.createElement("div",null,"\xa0");switch(M){case 1:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},t("Land.status.label")),r.a.createElement("div",{className:"c-status-badge  --open"},t("Land.open.label")));break;case 2:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},t("Land.status.label")),r.a.createElement("div",{className:"c-status-badge  --owned"},t("Land.owned.label")));break;default:e=r.a.createElement("div",null,"\xa0")}switch(D){case 1:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},t("Land.status.label")),r.a.createElement("div",{className:"c-status-badge --bestbid"},t("Land.owner.label")));break;case 2:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},t("Land.status.label")),r.a.createElement("div",{className:"c-status-badge  --bestbid"},t("Land.best.bid")));break;case 3:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},t("Land.status.label")),r.a.createElement("div",{className:"c-status-badge  --outbidded"},t("Land.outbidded.label")))}return 1==ye&&(e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},t("Land.status.label")),r.a.createElement("div",{className:"c-status-badge  --outbidded"},t("Land.unvabilable")))),10==M&&(e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},t("Land.status.label")),r.a.createElement("div",{className:"c-status-badge  --open"},"CLOSING ",r.a.createElement(Ge.a,null)))),e}()),r.a.createElement("div",{className:"o-fourth"},je(),function(){var e=r.a.createElement(r.a.Fragment,null);return void 0!==le&&""!==le&&null!==le&&(e=r.a.createElement("a",{to:"",href:"#",className:"l-check-on-etherscan",onClick:we},t("ActivityTile.view.ether"))),e}()))),r.a.createElement("div",{className:"Land__section"},null===J||0===J.bidHistory.length?r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Title__container"},r.a.createElement("h3",{className:"o-small-title"})),r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},t("Land.be.the.one")," ",r.a.createElement("span",{role:"img","aria-label":"fire-emoji"},"\ud83d\udd25")),r.a.createElement("div",{className:"c-dialog-sub-title"},r.a.createElement(re.a,{i18nKey:"Land.no.active.auction"},"The land has no active Auction at the moment. ",r.a.createElement("br",null),'Click on "Init Auction" and be the one to own it.')))):r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Title__container"},r.a.createElement("h3",{className:"o-small-title"},t("Land.bid.history"))),r.a.createElement("div",{className:"Table__container"},r.a.createElement("table",{className:"Table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,t("Land.price.label")),r.a.createElement("th",null,t("Land.when.label")),r.a.createElement("th",null,t("Land.from.label")))),r.a.createElement("tbody",null,J.bidHistory.map((function(e){return r.a.createElement("tr",{key:e.when,className:"Table__line"},r.a.createElement("td",null,r.a.createElement(C,{value:e.worth})," "),r.a.createElement("td",null,r.a.createElement(L,{date_end:e.when})),r.a.createElement("td",null,e.from),console.log("bid.status",e),"-99"===e.status?r.a.createElement("td",null,r.a.createElement("div",{class:"c-status-badge  --outbidded"},"FAILED")):r.a.createElement(r.a.Fragment,null))})))))))):r.a.createElement("div",{className:"Land"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered --not-found"},r.a.createElement("h1",null,"404"),r.a.createElement("div",{className:"c-dialog-main-title"},"Land not found"),r.a.createElement("div",{className:"c-dialog-sub-title"},"The requested land name was not found. ",r.a.createElement("br",null),'Click anywhere in the map or go to "Marketplace" and start from there.'))))})))),Ye=he(ve(N((function(e){var a=Object(ne.a)(),t=a.t,c=(a.i18n,e.mapProvider.actions),l=c.enableMultipleLandSelection,i=c.disableMultipleLandSelection,s=e.mapProvider.state.multipleLandSelectionList,o=Object(n.useState)(""),u=Object(m.a)(o,2),d=u[0],v=u[1];return Object(n.useEffect)((function(){return l(),function(){i()}}),[]),Object(n.useEffect)((function(){s.length>0&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return K({url:"/lands/list",method:"GET"},{hex_ids:e},null)}(s.join(",")).then((function(e){v(e.data.lands.map((function(e){return r.a.createElement(B,{key:e.hexId,url:"/",value:e.value,background_image:"url(".concat(e.mapTileUrl),name:{sentence:e.sentenceId,hex:e.hexId},location:e.address.full,date_end:null,is_minimal:!0})})))})).catch((function(e){}))}),[s]),s.length>0?r.a.createElement("div",{className:"Lands"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Land__heading__1"},r.a.createElement("h2",null,t("Lands.selected.lands")),r.a.createElement("div",{className:"Land__location"},t("Lands.click.to.remove"))),r.a.createElement("div",{className:"Land__heading__2"},r.a.createElement("div",{className:"o-fourth"},"\xa0"),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("h3",{className:"o-small-title"},t("Lands.selected.label")),r.a.createElement("div",null,s.length,"/15")),r.a.createElement("div",{className:"o-fourth"},"\xa0"),r.a.createElement("div",{className:"o-fourth"},r.a.createElement(ge,{url:"/",text:t("Lands.bid.selection"),className:"--blue",onClick:function(e){return console.log(e)}})))),r.a.createElement("div",{className:"o-container o-land-list__cont"},r.a.createElement("div",{className:"o-land-list"},d))):r.a.createElement("div",{className:"Land"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered --not-found"},r.a.createElement("div",{className:"c-dialog-main-title"},r.a.createElement("h2",null,t("Lands.selected.lands"))),r.a.createElement("div",{className:"c-dialog-sub-title"},t("Lands.focus.land")))))})))),Ze=t(39),qe=t(117),Ke=t.n(qe),Je=t(181),Qe=t.n(Je),Xe=t(37),$e=function(){var e=Object(ne.a)(),a=e.t;e.i18n;return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},a("Profile.login.required"),r.a.createElement("span",{role:"img","aria-label":"Cool dude"},"\ud83d\ude0e")),r.a.createElement("div",{className:"c-dialog-sub-title"},a("Profile.check.profile")))))},ea=function(){var e=Object(ne.a)(),a=e.t,t=(e.i18n,Ze().format("HH:mm, dddd, MMM D, YYYY")),c=Object(n.useContext)(me),l=(Object(n.useContext)(Ee),c.state.user),i=r.a.useState(l.balance),s=Object(m.a)(i,2),o=s[0],d=s[1],v=r.a.useState(l.publicAddress),p=Object(m.a)(v,2),b=p[0],f=p[1],E=Object(n.useState)(!1),y=Object(m.a)(E,2),h=y[0],g=y[1],_=Object(n.useState)(!1),O=Object(m.a)(_,2),N=O[0],w=O[1],k=Object(n.useState)(!1),x=Object(m.a)(k,2),j=x[0],S=x[1],L=Object(n.useState)(""),T=Object(m.a)(L,2),M=T[0],B=T[1],A=Object(n.useState)("#"),I=Object(m.a)(A,2),D=I[0],F=I[1],R=Object(n.useState)(!1),U=Object(m.a)(R,2),W=U[0],G=U[1],H=Object(n.useState)(!1),V=Object(m.a)(H,2),z=V[0],Y=V[1];r.a.useEffect((function(){void 0!=l&&void 0!=l.balance&&d(l.balance.toFixed(2))}),[l.balance]),r.a.useEffect((function(){f(l.publicAddress)}),[l.publicAddress]),Object(n.useEffect)((function(){if(1==(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)&&window.ethereum&&window.ethereum.isImToken&&(Y(!0),void 0!=l.uuid)){var e="en";u().includes("zh")&&(e="zh"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return K({url:"/user/sumsub/external_link",method:"GET"},{language:e},null)}(e).then((function(e){!0===e.data.result&&F(e.data.url)})).catch((function(){}))}1==h&&void 0!=l.uuid&&(K({url:"/user/sumsub/access_token",method:"GET"},{},null).then((function(e){!0===e.data.result&&ta(P.apis.sumsubApi,"basic-kyc",e.data.content.token,l.email,null,a)})).catch((function(e){})),-1==l.kycReviewAnswer&&K({url:"/user/sumsub/set_verification/started",method:"GET"},{},null).then((function(){})).catch((function(){})))}),[l,h,localStorage.getItem("i18nextLng")]);var Z=function(e){w(""!==M),B(e.target.value)};return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"p-header"},r.a.createElement("h2",{className:"p-header-title"},a("Profile.my.profile")),r.a.createElement("span",{className:"p-header-datetime"},t)),r.a.createElement("div",{className:"p-body"},r.a.createElement("div",{className:"o-fourth"},r.a.createElement(Ke.a,{seed:l.publicAddress||"loading",size:12,scale:13,color:"#7521c8",bgColor:"#EC663C",spotColor:"#F9B426"})),r.a.createElement("div",{className:"profile-content"},r.a.createElement("div",{key:"wallet",className:"p-section"},r.a.createElement("h3",{className:"p-section-title"},a("Profile.wallet.info")),r.a.createElement("div",{className:"p-section-content"},r.a.createElement("h4",{className:"p-content-title"},a("Profile.wallet.addr")),r.a.createElement("div",{className:"p-wallet-address"},b),r.a.createElement("div",{className:"p-balance"},r.a.createElement("div",{className:"p-small-title"},a("Profile.balance")),r.a.createElement("div",{className:"p-balance-value"},r.a.createElement(C,{value:o}),r.a.createElement("div",null,r.a.createElement(ge,{url:"/buy-tokens",className:"--orange --disabled",text:a("Profile.buy.ovr")}))))),r.a.createElement("div",{key:"KYC",className:"p-section --m-t"},r.a.createElement("h3",{className:"p-section-title"},a("Profile.identify.verification")),r.a.createElement("div",{className:"p-tiny-message"},na(a)," ",r.a.createElement("br",null),1==l.kycReviewAnswer?a("Profile.whitelisted.ok"):a("Profile.whitelisted.no.ok"),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"p-section-content"},l.email?r.a.createElement("div",{className:"p-balance-value"},r.a.createElement(_e.a,{id:"quantity",label:"Email address",type:"email",className:"Signup__email_textfield",value:l.email,disabled:!0})):r.a.createElement("div",{className:"p-balance-value"},r.a.createElement(_e.a,{id:"quantity",label:"Email address",type:"email",className:"Signup__email_textfield",error:!1!==j,helperText:!1!==j?j:"",value:M,onFocus:Z,onChange:Z,onKeyUp:Z}),r.a.createElement("div",null,!W&&r.a.createElement(ge,{url:"#",className:"--blue ".concat(N?"":"--disabled"),text:a("Email.add"),onClick:function(e){console.log(M),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(M)?(G(!0),S(!1),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return K({url:"/user/set/email",method:"POST"},{email:e},null)}(M).then((function(e){if(!0===e.data.result)c.actions.setUserEmail(M),ae(a("Generic.congrats.label"),a("Signup.email.saved.title")),Xe.a.set({page:window.location.pathname+"/email-saved"}),Xe.a.pageview(window.location.pathname+"/email-saved"),window.gtag_report_email_inserted_conversion();else{var t=e.data.errors[0].message;G(!1),w(!1),S(t)}})).catch((function(e){}))):(S(a("Signup.email.not.valid")),w(!1))}}),W&&r.a.createElement(Ge.a,null)))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"p-section-content"},r.a.createElement("h4",{className:"p-content-title"},a("Profile.status.label")),z?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-tiny-message"},a("Profile.imwallet.sumsub")),r.a.createElement("br",null)):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"p-balance-value"},aa(l.kycReviewAnswer,a),r.a.createElement("div",null,z?r.a.createElement(ge,{target:"_blank",url:D,className:"--blue",text:a("Generic.external.link"),onClick:function(e){l.email||(e.preventDefault(),$(a("Warning.email.not.detected.title"),a("Warning.email.not.detected.desc")))}}):r.a.createElement(ge,{url:"#",className:"--blue",text:-1==l.kycReviewAnswer?a("Profile.start.verification"):a("Profile.check.verification"),onClick:function(e){e.preventDefault(),l.email?(g(!h),Xe.a.set({page:window.location.pathname+"/kyc-started"}),Xe.a.pageview(window.location.pathname+"/kyc-started")):$(a("Warning.email.not.detected.title"),a("Warning.email.not.detected.desc"))}})))),r.a.createElement("div",{className:"p-tiny-message"},null!=l.kycClientComment&&1!=l.kycReviewAnswer&&l.kycClientComment),r.a.createElement("div",{id:"sumsub-websdk-container"})),r.a.createElement("div",{className:"p-tiny-message"}))))))},aa=function(e,a){var t=r.a.createElement("div",null,"\xa0");switch(e){case-1:t=r.a.createElement("div",{className:"c-status-badge  --open"},a("Profile.not.started"));break;case-10:t=r.a.createElement("div",{className:"c-status-badge  --open"},a("Profile.started"));break;case 1:t=r.a.createElement("div",{className:"c-status-badge  --open"},a("Profile.completed"));break;case 0:t=r.a.createElement("div",{className:"c-status-badge  --open"},a("Profile.failed"));break;default:t=r.a.createElement("div",null,"\xa0")}return t},ta=function(e,a,t,n,r,c){var l,i="en";(u().includes("zh")&&(i="zh"),window.web3&&window.web3.eth&&window.web3.eth.defaultAccount&&window.web3.eth.defaultAccount.toLowerCase()&&(l=window.web3.eth.defaultAccount.toLowerCase()),l)?Qe.a.Builder(e,a).withAccessToken(t,(function(e){e("...")})).withConf({lang:i,email:n,phone:r,metadata:[{key:"walletAddress",value:l}],onMessage:function(e,a){console.log("WebSDK onMessage",e,a)},customCss:"url",onError:function(e){console.error("WebSDK onError",e)}}).build().launch("#sumsub-websdk-container"):$(c("Warning.metamask.not.detected.title"),c("Warning.metamask.not.detected.desc"))},na=function(e){var a=+new Date(0).setUTCSeconds(1606737600)-+new Date,t="";if(a>0){var n={days:Math.floor(a/864e5),hours:Math.floor(a/36e5%24),minutes:Math.floor(a/1e3/60%60),seconds:Math.floor(a/1e3%60)};t=e("Profile.ovr.sale.start")+" "+n.days+" "+e("Profile.days")+" "+n.hours+" "+e("Profile.hours")+" "+n.minutes+" "+e("Profile.mins")+" "+n.seconds+" "+e("Profile.secs")+"."}return t},ra=function(){var e=Object(ne.a)(),a=e.t,t=(e.i18n,Object(n.useContext)(me).state),c=t.isLoggedIn;return Object(n.useEffect)((function(){var e="";c&&(e="/authenticated"),Xe.a.set({page:window.location.pathname+e}),Xe.a.pageview(window.location.pathname+e)}),[c]),c?r.a.createElement(ea,{state:t}):r.a.createElement($e,{t:a})},ca=t(352),la=t(178),ia=t(118),sa=t.n(ia),oa=t(353),ua=t(27),ma=function(e){var a,n=Object(ne.a)(),c=n.t,l=(n.i18n,Object(ua.g)()),i=r.a.useState(null),s=Object(m.a)(i,2),o=s[0],u=s[1],d=r.a.useState(0===e.data.status),v=Object(m.a)(d,2),p=v[0],b=(v[1],Boolean(o));return r.a.createElement("div",{key:e.data.uuid,className:"ActivityTile ".concat(p?"":"--new"),onClick:function(){}},r.a.createElement("div",{className:"ActivityTile__head"},r.a.createElement("div",{className:"ActivityTile__icon"},function(){switch(console.log("props.data.typeOf",e.data.typeOf),e.data.typeOf){case 10:return r.a.createElement("img",{src:t(269)});case 13:return r.a.createElement("img",{src:t(270)});case 11:return r.a.createElement("img",{src:t(271)});case 12:return r.a.createElement("img",{src:t(272)});case 14:return r.a.createElement("img",{src:t(273)});default:return r.a.createElement("img",{src:t(274)})}}())),r.a.createElement("div",{className:"ActivityTile__body"},r.a.createElement("div",{className:"ActivityTile__time"},Ze(e.data.createdAt).format("HH:mm, dddd, MMM D, YYYY")),r.a.createElement("div",{className:"ActivityTile__content",dangerouslySetInnerHTML:{__html:(a=e.data.content,a.replace(e.data.landSentence,"<span>"+e.data.landSentence+"</span>"))}})),r.a.createElement(ca.a,{"aria-label":"more","aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)}},r.a.createElement(sa.a,null)),r.a.createElement(la.a,{id:"fade-menu",anchorEl:o,keepMounted:!0,open:b,onClose:function(){u(null)},TransitionComponent:oa.a},r.a.createElement(Te.a,{onClick:function(){u(null),l.push("/map/land/"+e.data.hexId)}},c("ActivityTile.goto.land")),e.data.txHash&&r.a.createElement(Te.a,{onClick:function(){u(null);var a=P.apis.etherscan+"/tx/"+e.data.txHash;window.open(a,"_blank")}},c("ActivityTile.view.ether"))))},da=function(){var e=Object(ne.a)(),a=e.t;e.i18n;return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},a("Activity.login.required"),r.a.createElement("span",{role:"img","aria-label":"Cool dude"},"\ud83d\ude0e")),r.a.createElement("div",{className:"c-dialog-sub-title"},a("Activity.login.now")))))},va=function(){var e=Ze().format("HH:mm, dddd, MMM D, YYYY"),a=Object(ne.a)(),t=a.t;a.i18n;return r.a.createElement("div",{className:"activity"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"p-header"},r.a.createElement("h2",{className:"p-header-title"},"Activity"),r.a.createElement("span",{className:"p-header-datetime"},e)),r.a.createElement("div",{className:"sub-title"},t("Activity.list.transactions"))),r.a.createElement(pa,{t:t}))},pa=function(e){var a=Object(n.useContext)(me).state,t=Object(n.useContext)(me).actions,c=Object(n.useState)(!1),l=Object(m.a)(c,2),i=l[0],s=l[1],o=Object(n.useContext)(Ee),u=a.user;return Object(n.useEffect)((function(){q().then((function(e){t.setUserActivity(e.data.user)}))}),[]),Object(n.useEffect)((function(){q().then((function(e){t.setUserActivity(e.data.user)}))}),[a.user.notifications]),Object(n.useEffect)((function(){if(a.user.activities&&a.user.activities.content){var t=[];0===(t=a.user.activities.content.map((function(e){return r.a.createElement(ma,{key:e.uuid,data:e,context:{userState:u,web3Context:o}})}))).length&&(t=r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-sub-title"},e("Activity.no.activity"),r.a.createElement("span",{role:"img","aria-label":"Cool dude"},"\ud83e\udd19")))))),s(t)}}),[a.user.activities]),r.a.createElement("div",{className:"activity-content"},r.a.createElement("div",{className:"o-container"},i))},ba=function(){var e=Object(n.useContext)(me).state;return e.isLoggedIn?r.a.createElement(va,{state:e}):r.a.createElement(da,null)},fa=he((function(e){var a=Object(ne.a)(),t=a.t,c=(a.i18n,Object(n.useContext)(Ee),Object(n.useContext)(_),Object(n.useContext)(me)),l=e.history;return Object(n.useEffect)((function(){Xe.a.set({page:window.location.pathname}),Xe.a.pageview(window.location.pathname),c.state.isLoggedIn&&l.push("/profile")}),[c.state.isLoggedIn]),r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",null,t("Login.welcome.back")),r.a.createElement("div",{className:"Login__sub-title"},t("Login.use.metamask")),r.a.createElement("div",{className:"Login__footer"},t("Login.contact.us")," "," ",r.a.createElement(T.b,{to:"mailto:info@ovr.ai"},"info@ovr.ai"))))})),Ea=t(87),ya=t.n(Ea),ha=t(123),ga=t.n(ha),_a=he((function(){var e=Object(ne.a)(),a=e.t,t=(e.i18n,Object(n.useContext)(Ee)),c=Object(n.useContext)(me),l=Object(ua.g)(),i=Object(n.useState)(!1),s=Object(m.a)(i,2),o=s[0],u=s[1];return Object(n.useEffect)((function(){Xe.a.set({page:window.location.pathname}),Xe.a.pageview(window.location.pathname),t.actions.setupWeb3((function(e){0==e?l.push("/login-helper"):l.push("/profile")})),c.state.isLoggedIn&&l.push("/profile")}),[]),r.a.createElement("div",{className:"Signup"},function(){var e=null!==t.state.provider,n=!1,c=!1;return e&&(n=null!==t.state.address,c=parseInt(t.state.chainId,16)===P.web3network),o?r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box --tutorial"},r.a.createElement("h1",null,a("Signup.imwallet.tutorial.title")),r.a.createElement("div",{className:"Signup__section --left"},a("Signup.imwallet.tutorial.body")),r.a.createElement("br",null),r.a.createElement(T.b,{to:"#",className:"Signup__section__small-link",onClick:function(){u(!1)}},a("Generic.back.link")))):r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box"},r.a.createElement("h1",null,a("Signup.first.things")),r.a.createElement("div",{className:"Signup__section --left"},e?r.a.createElement("div",{className:"o-list"},r.a.createElement(ga.a,{className:"CheckCircleSharpIcon"})," ",a("Signup.web3.install")):r.a.createElement("div",{className:"o-list"},r.a.createElement(ya.a,{className:"CancelIcon"})," ",a("Signup.web3.install")),n?r.a.createElement("div",{className:"o-list"},r.a.createElement(ga.a,{className:"CheckCircleSharpIcon"})," ",a("Signup.web3.login")):r.a.createElement("div",{className:"o-list"},r.a.createElement(ya.a,{className:"CancelIcon"})," ",a("Signup.web3.login")),c?r.a.createElement("div",{className:"o-list"},r.a.createElement(ga.a,{className:"CheckCircleSharpIcon"})," ",a("Signup.connect.to")," ","3"===String(P.web3network)?"Ropsten":"Mainnet"," ",a("Signup.network")):r.a.createElement("div",{className:"o-list"},r.a.createElement(ya.a,{className:"CancelIcon"})," ",a("Signup.connect.to")," ","3"===String(P.web3network)?"Ropsten":"Mainnet"," ",a("Signup.network"))),e&&c&&n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Signup__section Signup__msg --positive"},a("Signup.web3.present"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Signup__section Signup__msg --negative"},a("Signup.web3.not.present")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(ge,{url:"https://metamask.io",text:a("Signup.web3.install.metamask"),target:"_blank",className:"--purple"}),r.a.createElement(ge,{url:"https://token.im/",text:a("Signup.web3.install.imtoken"),target:"_blank",className:"--purple --install-imtoken"})),r.a.createElement("br",null),r.a.createElement(T.b,{to:"#",className:"Signup__section__small-link",onClick:function(){u(!0)}},a("Signup.imwallet.tutorial.link")))))}())})),Oa=t(182),Na=t.n(Oa),wa=t(351),ka=(ve(he((function(e){var a=Object(ne.a)(),t=a.t,c=(a.i18n,e.web3Provider.state),l=c.perEth,i=c.perUsd,s=c.setupComplete,o=e.web3Provider.actions,u=o.getPrices,d=o.buy,v=e.userProvider.state.user,p=Object(n.useState)(100),b=Object(m.a)(p,2),f=b[0],E=b[1],y=Object(n.useState)(10),h=Object(m.a)(y,2),g=h[0],_=h[1],O=Object(n.useState)(0),N=Object(m.a)(O,2),w=N[0],k=N[1];Object(n.useEffect)((function(){s&&u()}),[s]);var x=function(){if("DEVELOPMENT"!=P.environment&&v.kycReviewAnswer<1)return ee(t("Danger.require.verification.title"),t("Danger.require.verification.desc"));if(f<=0)return $(t("Warning.amount.empty.title"),t("Warning.amount.empty.desc"));var e="https://indacoin.com/gw/payment_form?partner=".concat("ovrproduction","&cur_from=USD&cur_to=USD&amount=").concat(g,"&address=").concat(window.web3.eth.accounts[0],"&user_id=").concat(v.uuid);window.location=e},C=function(e){1==e?(_(1),E(10*l)):(_(10),E(100)),k(e)};return r.a.createElement("div",{className:"activity v-buy-tokens"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"p-header"},r.a.createElement("h2",{className:"p-header-title"},t("BuyTokens.buy.tokens")),r.a.createElement("span",{className:"p-header-datetime"},Ze().format("HH:mm, dddd, MMM D, YYYY"))),r.a.createElement("div",{className:"sub-title--black"},r.a.createElement("p",null,t("BuyTokens.use.ovr.insted")," "," ",r.a.createElement(T.b,{to:"#"},t("BuyTokens.read.more")),".",r.a.createElement("br",null)),r.a.createElement("p",null,r.a.createElement(re.a,{i18nKey:"BuyTokens.kyc.required"},"To buy OVR token it is required that you pass our KYC. Go to your ",r.a.createElement(T.b,{to:"/profile"},"profile")," and start the Identity Verification process."),r.a.createElement("br",null))),r.a.createElement("div",{className:"sub-title--black"},r.a.createElement("h3",null,t("BuyTokens.purchase.with"))),r.a.createElement("div",{className:"c-currency-selector_cont"},r.a.createElement("div",{className:"c-currency-selector ".concat(0==w?"--selected":" "),onClick:function(){return C(0)}},t("BuyTokens.credit.card")),r.a.createElement("div",{className:"c-currency-selector ".concat(1==w?"--selected":" "),onClick:function(){return C(1)}},t("Currency.eth.label")),r.a.createElement("div",{className:"c-currency-selector ".concat(2==w?"--selected":" "),onClick:function(){return C(2)}},t("Currency.dai.label")),r.a.createElement("div",{className:"c-currency-selector ".concat(3==w?"--selected":" "),onClick:function(){return C(3)}},t("Currency.usdt.label")),r.a.createElement("div",{className:"c-currency-selector ".concat(4==w?"--selected":" "),onClick:function(){return C(4)}},t("Currency.usdc.label")))),r.a.createElement("div",{className:"o-container"},function(){switch(w){case 0:return r.a.createElement("div",{className:"c-active-currency__cont"},r.a.createElement("div",null,r.a.createElement(_e.a,{id:"outlined-start-adornment",className:"c-currency-input",label:"Buy",type:"number",value:g,InputProps:{startAdornment:r.a.createElement(wa.a,{position:"start"},t("Currency.usd.label"))},onChange:function(e){_(e.target.value),E((e.target.value*i).toFixed(0))},variant:"outlined"}),r.a.createElement("div",{className:"c-active-currency__swap"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.87 44.24"},r.a.createElement("g",{"data-name":"Livello 2"},r.a.createElement("g",{fill:"#c3c4c3","data-name":"Livello 1"},r.a.createElement("path",{d:"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z"}))))),r.a.createElement(_e.a,{label:"Get",id:"outlined-start-adornment",className:"c-currency-input",value:f,type:"number",InputProps:{startAdornment:r.a.createElement(wa.a,{position:"start"},t("Currency.ovr.label"))},onChange:function(e){_((e.target.value/i).toFixed(2)),E(e.target.value)},variant:"outlined"})),r.a.createElement("div",{className:"c-active-currency__rate"},r.a.createElement(re.a,{i18nKey:"BuyTokens.exchange.rate.usd",perUsd:i},"Exchange rate: 1 USD = ",{perUsd:i}," OVR")),r.a.createElement("div",{className:"c-active-currency__buttons"},r.a.createElement(ge,{url:"#",text:t("BuyTokens.buy.ovr"),className:"--orange",onClick:x}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--orange-light",onClick:function(){_(0),E(0)}})));case 1:return r.a.createElement("div",{className:"c-active-currency__cont"},r.a.createElement("div",null,r.a.createElement(_e.a,{id:"outlined-start-adornment",className:"c-currency-input",label:"Buy",type:"number",value:g,InputProps:{startAdornment:r.a.createElement(wa.a,{position:"start"},t("Currency.eth.label"))},onChange:function(e){_(e.target.value),E((e.target.value*l*10).toFixed(0))},variant:"outlined"}),r.a.createElement("div",{className:"c-active-currency__swap"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.87 44.24"},r.a.createElement("g",{"data-name":"Livello 2"},r.a.createElement("g",{fill:"#c3c4c3","data-name":"Livello 1"},r.a.createElement("path",{d:"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z"}))))),r.a.createElement(_e.a,{label:"Get",id:"outlined-start-adornment",className:"c-currency-input",value:f,type:"number",InputProps:{startAdornment:r.a.createElement(wa.a,{position:"start"},t("Currency.ovr.label"))},onChange:function(e){_((e.target.value/l).toFixed(2)),E(e.target.value)},variant:"outlined"})),r.a.createElement("div",{className:"c-active-currency__rate"},r.a.createElement(re.a,{i18nKey:"BuyTokens.exchange.rate.eth",perEth:10*l},"Exchange rate: 1 ETH = ",{perEth:l}," OVR")),r.a.createElement("div",{className:"c-active-currency__buttons"},r.a.createElement(ge,{url:"#",text:t("BuyTokens.buy.ovr"),className:"--orange",onClick:function(){return d(f,"eth")}}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--orange-light",onClick:function(){_(0),E(0)}})));case 2:return r.a.createElement("div",{className:"c-active-currency__cont"},r.a.createElement("div",null,r.a.createElement(_e.a,{id:"outlined-start-adornment",className:"c-currency-input",label:"Buy",type:"number",value:g,InputProps:{startAdornment:r.a.createElement(wa.a,{position:"start"},t("Currency.dai.label"))},onChange:function(e){_(e.target.value),E((e.target.value*i).toFixed(0))},variant:"outlined"}),r.a.createElement("div",{className:"c-active-currency__swap"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.87 44.24"},r.a.createElement("g",{"data-name":"Livello 2"},r.a.createElement("g",{fill:"#c3c4c3","data-name":"Livello 1"},r.a.createElement("path",{d:"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z"}))))),r.a.createElement(_e.a,{label:"Get",id:"outlined-start-adornment",className:"c-currency-input",value:f,type:"number",InputProps:{startAdornment:r.a.createElement(wa.a,{position:"start"},t("Currency.ovr.label"))},onChange:function(e){_((e.target.value/i).toFixed(2)),E(e.target.value)},variant:"outlined"})),r.a.createElement("div",{className:"c-active-currency__rate"},r.a.createElement(re.a,{i18nKey:"BuyTokens.exchange.rate.dai",perUsd:i},"Exchange rate: 1 DAI = ",{perUsd:i}," OVR")),r.a.createElement("div",{className:"c-active-currency__buttons"},r.a.createElement(ge,{url:"#",text:t("BuyTokens.buy.ovr"),className:"--orange",onClick:function(){return d(f,"dai")}}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--orange-light",onClick:function(){_(0),E(0)}})));case 3:return r.a.createElement("div",{className:"c-active-currency__cont"},r.a.createElement("div",null,r.a.createElement(_e.a,{id:"outlined-start-adornment",className:"c-currency-input",label:"Buy",type:"number",value:g,InputProps:{startAdornment:r.a.createElement(wa.a,{position:"start"},t("Currency.usdt.label"))},onChange:function(e){_(e.target.value),E((e.target.value*i).toFixed(0))},variant:"outlined"}),r.a.createElement("div",{className:"c-active-currency__swap"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.87 44.24"},r.a.createElement("g",{"data-name":"Livello 2"},r.a.createElement("g",{fill:"#c3c4c3","data-name":"Livello 1"},r.a.createElement("path",{d:"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z"}))))),r.a.createElement(_e.a,{label:"Get",id:"outlined-start-adornment",className:"c-currency-input",value:f,type:"number",InputProps:{startAdornment:r.a.createElement(wa.a,{position:"start"},t("Currency.ovr.label"))},onChange:function(e){_((e.target.value/i).toFixed(2)),E(e.target.value)},variant:"outlined"})),r.a.createElement("div",{className:"c-active-currency__rate"},r.a.createElement(re.a,{i18nKey:"BuyTokens.exchange.rate.usdt",perUsd:i},"Exchange rate: 1 USDT = ",{perUsd:i}," OVR")),r.a.createElement("div",{className:"c-active-currency__buttons"},r.a.createElement(ge,{url:"#",text:t("BuyTokens.buy.ovr"),className:"--orange",onClick:function(){return d(f,"usdt")}}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--orange-light",onClick:function(){_(0),E(0)}})));case 4:return r.a.createElement("div",{className:"c-active-currency__cont"},r.a.createElement("div",null,r.a.createElement(_e.a,{id:"outlined-start-adornment",className:"c-currency-input",label:"Buy",type:"number",value:g,InputProps:{startAdornment:r.a.createElement(wa.a,{position:"start"},t("Currency.usdc.label"))},onChange:function(e){_(e.target.value),E((e.target.value*i).toFixed(0))},variant:"outlined"}),r.a.createElement("div",{className:"c-active-currency__swap"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.87 44.24"},r.a.createElement("g",{"data-name":"Livello 2"},r.a.createElement("g",{fill:"#c3c4c3","data-name":"Livello 1"},r.a.createElement("path",{d:"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z"}))))),r.a.createElement(_e.a,{label:"Get",id:"outlined-start-adornment",className:"c-currency-input",value:f,type:"number",InputProps:{startAdornment:r.a.createElement(wa.a,{position:"start"},t("Currency.ovr.label"))},onChange:function(e){_((e.target.value/i).toFixed(2)),E(e.target.value)},variant:"outlined"})),r.a.createElement("div",{className:"c-active-currency__rate"},r.a.createElement(re.a,{i18nKey:"BuyTokens.exchange.rate.usdc",perUsd:i},"Exchange rate: 1 USDC = ",{perUsd:i}," OVR")),r.a.createElement("div",{className:"c-active-currency__buttons"},r.a.createElement(ge,{url:"#",text:t("BuyTokens.buy.ovr"),className:"--orange",onClick:function(){return d(f,"usdc")}}),r.a.createElement(ge,{url:"#",text:t("Generic.cancel.label"),className:"--orange-light",onClick:function(){_(0),E(0)}})));default:return"na"}}()))}))),t(183)),xa=t.n(ka);ve((function(){var e=Object(ne.a)(),a=e.t,t=(e.i18n,Object(n.useState)(0)),c=Object(m.a)(t,2),l=c[0],i=c[1],s=Object(n.useState)(0),o=Object(m.a)(s,2),u=o[0],d=o[1],v=Object(n.useState)(window.location.search.split("transaction_id=")[1]),p=Object(m.a)(v,1)[0],b=Object(ua.g)();function f(){b.push("map/discover")}Object(n.useEffect)((function(){E()}),[]);var E=function(){var e=Object(se.a)(ie.a.mark((function e(){var a,t;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(P.apis.indacoinHelperApi,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({transactionId:p})});case 3:return a=e.sent,e.next=6,a.json();case 6:(t=e.sent).ok?i(1):(i(2),d(t.msg)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i(2),d(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"activity v-buy-tokens"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"p-header"},r.a.createElement("h2",{className:"p-header-title"},a("IndacoinResponse.buy.tokens")),r.a.createElement("span",{className:"p-header-datetime"},Ze().format("HH:mm, dddd, MMM D, YYYY"))),0==l?r.a.createElement("div",null,r.a.createElement("div",{className:"o-centered-box"},r.a.createElement("h2",null,a("IndacoinResponse.trans.token")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Ge.a,null)),r.a.createElement("div",{className:"Signup__section"},a("IndacoinResponse.no.leave")," ",r.a.createElement("br",null)))):1==l?r.a.createElement("div",null,r.a.createElement("div",{className:"o-centered-box"},r.a.createElement("h2",null,a("Generic.congrats.label")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(xa.a,{className:"CheckCircleIcon"})),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(re.a,{i18nKey:"IndacoinResponse.success.bought"},"You've succesfully bought some OVR.",r.a.createElement("br",null),"Now you can go to the marketplace and partecipate.")),r.a.createElement("div",{className:"Signup__section --small"}),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(ge,{url:"#",text:a("IndacoinResponse.to.mrktplace"),className:"--purple",onClick:f})))):2==l?r.a.createElement("div",null,r.a.createElement("div",{className:"o-centered-box"},r.a.createElement("h2",null,a("IndacoinResponse.something.wrong")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(ya.a,{className:"CancelIcon"})),r.a.createElement("div",{className:"Signup__section"},a("IndacoinResponse.contact.assistance")," ",r.a.createElement("br",null),r.a.createElement(T.b,{to:"mailto:help@ovr.ai"},"help@ovr.ai"),"."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"Signup__section"},a("IndacoinResponse.error.label"),": ",u),void 0!=p&&r.a.createElement("div",{className:"Signup__section --small"},a("IndacoinResponse.transaction.id"),": ",p),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(ge,{url:"#",text:a("IndacoinResponse.assistance.label"),className:"--purple",onClick:function(){window.location="mailto:help@ovr.ai"}})))):void 0))}));var Ca=function(){var e=Object(ne.a)(),a=(e.t,e.i18n,r.a.useState("buy")),t=Object(m.a)(a,2),c=t[0],l=t[1],i=r.a.useState(0),s=Object(m.a)(i,2),o=(s[0],s[1]),u=Object(n.useContext)(Ee).state,d=r.a.useState(u.ibcoPendingTransactions),v=Object(m.a)(d,2),p=v[0],b=v[1],f=r.a.useState(u.ibcoMyTransactions),E=Object(m.a)(f,2),y=E[0],h=E[1],g=r.a.useState(u.ibcoCurveHistory),_=Object(m.a)(g,2),O=(_[0],_[1]);r.a.useEffect((function(){b(u.ibcoPendingTransactions),h(u.ibcoMyTransactions),O(u.ibcoCurveHistory)}),[u.ibcoPendingTransactions,u.ibcoMyTransactions,u.ibcoCurveHistory]);var N=function(e){l(e)};return r.a.createElement("div",{className:"PublicSale"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-section"},r.a.createElement("div",{className:"s-f-curve"},r.a.createElement("div",{className:"o-card"},r.a.createElement("div",{className:"o-row"},r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"o-label"},"Buy Price"),r.a.createElement("div",{className:"o-value"},r.a.createElement(C,{value:"0.066",currency:"dai"}))),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"o-label"},"Reserve"),r.a.createElement("div",{className:"o-value"},r.a.createElement(C,{value:"420,420,420",currency:"dai"}))),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"o-label"},"Curve Issuance"),r.a.createElement("div",{className:"o-value"},r.a.createElement(C,{value:"1,000,000"}))),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"o-label"},"Total Supply"),r.a.createElement("div",{className:"o-value"},r.a.createElement(C,{value:"10,000,000"})))),r.a.createElement("div",{className:"o-row"},r.a.createElement("div",{className:"chart-js"},"TODO: Chart")))),r.a.createElement("div",{className:"s-f-panel"},r.a.createElement("div",{className:"o-card"},r.a.createElement("div",{className:"o-row"},r.a.createElement("div",{className:"c-transaction-selector_cont"},r.a.createElement("div",{className:"c-transaction-selector ".concat("buy"==c?"--selected":""),onClick:function(){return N("buy")}},"Buy"),r.a.createElement("div",{className:"c-transaction-selector ".concat("sell"==c?"--selected":""),onClick:function(){N("sell")}},"Sell"))),r.a.createElement("div",{className:"o-row o-row__your_wallet"},r.a.createElement("h3",{class:"p-section-title"},"Your Wallet"),r.a.createElement(C,{value:"5000.00",currency:"dai"}),r.a.createElement(C,{value:"0.00"})),r.a.createElement("div",{className:"o-line"}),r.a.createElement("div",{className:"o-row o-info-row"},r.a.createElement("div",{className:"o-half"},r.a.createElement("h3",{class:"o-info-title"},"Price")),r.a.createElement("div",{className:"o-half"},"0.00")),r.a.createElement("div",{className:"o-row o-info-row"},r.a.createElement("div",{className:"o-half"},r.a.createElement("h3",{class:"o-info-title"},"Receive Amount")),r.a.createElement("div",{className:"o-half"},"0.00")),r.a.createElement("div",{className:"o-row o-info-row"},r.a.createElement("div",{className:"o-half"},r.a.createElement("h3",{class:"o-info-title"},"Slippage")),r.a.createElement("div",{className:"o-half"},"0.00")),r.a.createElement("div",{className:"o-line"}),r.a.createElement("div",{className:"o-row o-field-row"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"Overlay__bid_title o-info-title"},"Buy OVR"),r.a.createElement("div",null,r.a.createElement(_e.a,{type:"number",onChange:function(e){!function(e){o(e)}(e.target.value)}}),r.a.createElement(ge,{url:"#",text:"Buy Now",className:"--orange ",onClick:function(){}}))))))),r.a.createElement("div",{className:"o-section"},r.a.createElement("div",{className:"o-card"},r.a.createElement("div",{className:"o-row"},r.a.createElement("h3",{class:"o-card-title"},"Pending Transactions")),r.a.createElement("div",{className:"o-line --venti"}),r.a.createElement("div",{className:"o-row"},void 0===p||0==p.length?r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Title__container"},r.a.createElement("h3",{className:"o-small-title"})),r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},"You have no open transactions"))):r.a.createElement("div",{className:"Table__container"},r.a.createElement("table",{className:"Table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"TX ID"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Price (DAI)"),r.a.createElement("th",null,"Amount (OVR)"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,p.map((function(e){return r.a.createElement("tr",{key:e.txId,className:"Table__line"},r.a.createElement("td",{className:"max --trans"},r.a.createElement("a",{href:"".concat(P.apis.etherscan,"tx/").concat(e.txId),target:"_blank"},e.txId.slice(0,8),"...",e.txId.slice(-8))),r.a.createElement("td",{className:"min"},e.type),r.a.createElement("td",{className:"min"},r.a.createElement(C,{value:e.price,currency:"dai"})),r.a.createElement("td",{className:"min"},r.a.createElement(C,{value:e.amount})),r.a.createElement("td",{className:"min"},e.status))})))))))),r.a.createElement("div",{className:"o-section"},r.a.createElement("div",{className:"o-card"},r.a.createElement("div",{className:"o-row"},r.a.createElement("h3",{class:"o-card-title"},"My Transactions")),r.a.createElement("div",{className:"o-line --venti"}),r.a.createElement("div",{className:"o-row"},void 0===y||0==y.length?r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Title__container"},r.a.createElement("h3",{className:"o-small-title"})),r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},"You have no transactions"))):r.a.createElement("div",{className:"Table__container"},r.a.createElement("table",{className:"Table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"TX ID"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Price (DAI)"),r.a.createElement("th",null,"Amount (OVR)"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,p.map((function(e){return r.a.createElement("tr",{key:e.txId,className:"Table__line"},r.a.createElement("td",{className:"max --trans"},r.a.createElement("a",{href:"".concat(P.apis.etherscan,"tx/").concat(e.txId),target:"_blank"},e.txId.slice(0,8),"...",e.txId.slice(-8))),r.a.createElement("td",{className:"min"},e.type),r.a.createElement("td",{className:"min"},r.a.createElement(C,{value:e.price,currency:"dai"})),r.a.createElement("td",{className:"min"},r.a.createElement(C,{value:e.amount})),r.a.createElement("td",{className:"min"},e.status))})))))))),r.a.createElement("div",{className:"o-section"},r.a.createElement("div",{className:"o-card"},r.a.createElement("div",{className:"o-row"},r.a.createElement("h3",{class:"o-card-title"},"Curve Historys"))))))},ja=function(e){var a,t=Object(ne.a)(),n=t.t,c=(t.i18n,Object(ua.g)()),l=r.a.useState(null),i=Object(m.a)(l,2),s=i[0],o=i[1],u=r.a.useState(0!==e.data.status),d=Object(m.a)(u,2),v=d[0],p=d[1],b=r.a.useState(!1),f=Object(m.a)(b,2),E=f[0],y=f[1],h=Boolean(s),g=function(e){o(e.currentTarget)},_=function(){o(null)},O=function(){o(null),c.push("/map/land/"+e.data.hexId),e.actions.toggleNotificationCenter()},N=function(){o(null),y(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return K({url:"/notification/hide",method:"POST"},{notification_uuid:e},null)}(e.data.uuid).then((function(){}))},w=function(){p(!0),v||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return K({url:"/notification/read",method:"POST"},{notification_uuid:e},null)}(e.data.uuid).then((function(a){e.actions.setAsReaded(e.data.uuid)}))};return r.a.createElement(r.a.Fragment,null,E?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{key:e.data.uuid,className:"Notification ".concat(v?"":"--new"),onClick:w},r.a.createElement("div",{className:"Notification__body"},r.a.createElement("div",{className:"Notification__content",dangerouslySetInnerHTML:{__html:(a=e.data.content,a.replace(e.data.landSentence,"<span>"+e.data.landSentence+"</span>"))}}),r.a.createElement("div",{className:"Notification__time"},r.a.createElement(L,{date_end:e.data.createdAt}))),r.a.createElement(ca.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:g},r.a.createElement(sa.a,null)),r.a.createElement(la.a,{id:"fade-menu",anchorEl:s,keepMounted:!0,open:h,onClose:_,TransitionComponent:oa.a},r.a.createElement(Te.a,{onClick:O},n("Notification.go.to.land")),r.a.createElement(Te.a,{onClick:N},n("Notification.hide.label")))))},Sa=function(){var e=Object(ne.a)(),a=e.t,t=(e.i18n,Object(n.useContext)(me)),c=t.state,l=t.actions,i=Object(n.useRef)(null);Object(n.useEffect)((function(){}),[c.user.notifications]);var s;return r.a.createElement("div",{ref:i,className:"NotificationCenter"},(s=i,void Object(n.useEffect)((function(){function e(e){!s.current||s.current.contains(e.target)||document.getElementById("js-open-notification-link").contains(e.target)||e.target.classList.contains("MuiMenuItem-root")||l.closeNotificationCenter()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[s])),r.a.createElement("div",{className:"NotificationCenter__header"},r.a.createElement("div",{className:"NotificationCenter__title"},"Notifications"),r.a.createElement("div",{className:"NotificationCenter__toggle"})),r.a.createElement("div",{className:"NotificationCenter__body"},null!==c.user.notifications&&c.user.notifications.content&&c.user.notifications.content.length>0?c.user.notifications.content.map((function(e){return r.a.createElement(ja,{key:e.uuid,data:e,actions:{toggleNotificationCenter:l.toggleShowNotificationCenter,setAsReaded:l.notification.setAsReaded}})})):r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-sub-title"},r.a.createElement(re.a,{i18nKey:"NotificationCenter.no.notifications"},"There is currently ",r.a.createElement("br",null),"no notifications to display.")))),r.a.createElement("div",{className:"NotificationCenter__footer"},r.a.createElement(T.b,{to:"#",onClick:function(){K({url:"/notifications/read",method:"POST"},{},null).then((function(){l.notification.setAllAsReaded(),l.closeNotificationCenter()}))}},a("NotificationCenter.mark.all"))))},La=ve((function(){return Object(n.useContext)(me).state.showNotificationCenter?r.a.createElement(Sa,null):null})),Ta=t(184),Ma=t.n(Ta),Ba=ve(he((function(){var e=Object(ne.a)(),a=e.t,c=e.i18n,l=Object(n.useContext)(me),i=l.state,s=l.actions,o=Object(n.useContext)(Ee),u=(o.state,o.actions),d=r.a.useState(0),v=Object(m.a)(d,2),p=v[0],b=v[1],f=r.a.useState(i.user.balance),E=Object(m.a)(f,2),y=E[0],h=E[1],g=r.a.useState(!1),_=Object(m.a)(g,2),O=_[0],N=_[1],w=r.a.useRef(null),k=r.a.useState(!1),x=Object(m.a)(k,2),j=x[0],S=x[1],L=r.a.useRef(O),M=r.a.useRef(p),B=function(e){c.changeLanguage(e)},P=Object(ua.g)(),A=function(){N((function(e){return!e}))},I=function(e){P.push(e)},D=function(e){w.current&&w.current.contains(e.target)||N(!1)},F=function(e){e&&w.current&&w.current.contains(e.target)||b(!1)},R=function(){S(!0),window.gtag_report_metamask_conversion(),window.twitter_push_wallet_connect(),u.setupWeb3((function(e){0==e?P.push("/login-helper"):P.push("/profile"),S(!1)}))};function U(e){e.preventDefault(),s.toggleShowNotificationCenter(!0)}return r.a.useEffect((function(){i.isLoggedIn&&(!0===L.current&&!1===O&&w.current.focus(),L.current=O)}),[O]),r.a.useEffect((function(){void 0!=i.user&&void 0!=i.user.balance&&h(i.user.balance.toFixed(2))}),[i.user.balance]),r.a.useEffect((function(){}),[i]),r.a.createElement("div",{className:"NavBar"},r.a.createElement(T.b,{to:"/",className:"Logo__link"},r.a.createElement("div",{className:"Icon NavBar__logo"},r.a.createElement("img",{src:t(162)}))),r.a.createElement("div",{className:"Navbar__link_container"},(r.a.Fragment,r.a.createElement("div",{className:"Navbar__left_container"},r.a.createElement(T.b,{to:"#",className:"NavBar__link Language__link",ref:M,"aria-controls":p?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(e){F(e),b((function(e){return!e}))}},r.a.createElement(Ma.a,{className:"Translate",shapeRendering:"auto"})),r.a.createElement(Ae.a,{open:p,anchorEl:M.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,t=e.placement;return r.a.createElement(Be.a,Object.assign({},a,{style:{transformOrigin:"bottom"===t?"center top":"center bottom"}}),r.a.createElement(Pe.a,null,r.a.createElement(Me.a,{onClickAway:F},r.a.createElement(Ie.a,{autoFocusItem:p,id:"menu-lang-list-grow",className:"navbar-lang-submenu"},r.a.createElement(Te.a,{onClick:function(e){B("en"),F()}},"English"),r.a.createElement(Te.a,{onClick:function(e){B("zh"),F()}},"\u4e2d\u6587")))))})))),function(){var e=r.a.createElement("div",null);return!0===i.isLoggedIn&&null!==i.user&&(e=r.a.createElement(r.a.Fragment,null,r.a.createElement(T.c,{className:"NavBar__link",to:"/profile"},a("Navbar.profile.label")),r.a.createElement(T.c,{className:"NavBar__link",to:"/map/overview"},"My Assets"),r.a.createElement(T.c,{className:"NavBar__link",to:"/map/discover"},"Marketplace"))),e}(),!0===i.isLoggedIn&&null!==i.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Navbar__right_container"},r.a.createElement(T.b,{to:"/",id:"js-open-notification-link",className:"Notifications__link",onClick:U},r.a.createElement("div",{className:"Notifications__icon"},r.a.createElement("svg",{width:"18px",height:"20px",viewBox:"0 0 18 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"icons/icon_notification"),r.a.createElement("desc",null,"Created with Sketch."),r.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"header",transform:"translate(-1243.000000, -25.000000)"},r.a.createElement("g",{id:"icons/icon_notification",transform:"translate(1242.000000, 25.000000)"},r.a.createElement("rect",{id:"frame",x:"0",y:"0",width:"20",height:"20"}),r.a.createElement("path",{d:"M15.2321227,8.31973225 C12.6665198,2.77582053 11.3339364,0.670834332 7.14155795,0.75810667 C5.64837822,0.788892058 6.00782137,-0.327572512 4.86958472,0.0960796141 C3.73134807,0.51973174 4.70814468,1.13967602 3.54347011,2.098542 C0.278387518,4.79042761 0.57932975,7.2806548 2.09444733,13.2148914 C2.73261361,15.7150038 0.556266888,15.8375804 1.41746793,18.2603057 C2.04607157,20.0275 6.68001944,20.7669142 11.5713151,18.9443627 C16.4614858,17.1226586 19.5474093,13.506364 18.9190869,11.7400171 C18.0576046,9.31616205 16.3141084,10.6543379 15.2321227,8.31973225 Z M11.039463,17.4514126 C6.67242557,19.0788016 3.08305662,18.1221951 2.93146049,17.696566 C2.67017513,16.9628005 4.34110766,14.5146561 9.33449868,12.6545408 C14.3278897,10.7944255 17.113996,11.4838488 17.4050944,12.3037568 C17.5775033,12.7870027 15.4079067,15.824306 11.039463,17.4514126 Z M9.63656593,13.5041045 C7.35362378,14.354798 5.76594257,15.3277857 4.73992643,16.2036159 C5.46162528,16.8633835 6.81642784,17.0246537 8.16644907,16.521355 C9.88491359,15.8816403 10.9396177,14.4121323 10.5219549,13.2391807 C10.517736,13.225059 10.5098609,13.2129143 10.5045171,13.1985101 C10.2232627,13.2922785 9.93441437,13.3925428 9.63656593,13.5041045 Z",id:"Fill-1",fill:"#2B3034",fillRule:"evenodd",opacity:"0.400000006",transform:"translate(10.000000, 10.000000) scale(-1, 1) translate(-10.000000, -10.000000) "})))))),r.a.createElement("div",{className:"Notifications__counter"},i.user&&i.user.notifications&&i.user.notifications.unreadedCount?i.user.notifications.unreadedCount:0)),r.a.createElement("div",{className:"Funds__container"},r.a.createElement(C,{value:y})),r.a.createElement(T.b,{ref:w,"aria-controls":O?"menu-list-grow":void 0,"aria-haspopup":"true",to:"#",className:"Profile__link",onClick:A},r.a.createElement("span",null,i.user&&i.user.reducedPublicAddress),r.a.createElement("div",{className:"Profile__img-cont"},r.a.createElement("div",{id:"Profile__img",className:"Profile__img",style:{backgroundImage:"url(../../assets/img/auction-map.png)"}},r.a.createElement(Ke.a,{seed:i.user&&i.user.publicAddress||"loading",size:12,scale:3,color:"#7521c8",bgColor:"#EC663C",spotColor:"#F9B426"})))),r.a.createElement(Ae.a,{open:O,anchorEl:w.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,n=e.placement;return r.a.createElement(Be.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(Pe.a,null,r.a.createElement(Me.a,{onClickAway:D},r.a.createElement(Ie.a,{autoFocusItem:O,id:"menu-list-grow",className:"navbar-submenu"},r.a.createElement(Te.a,{onClick:function(e){D(e),I("/profile")}},a("Navbar.profile.label")),r.a.createElement(Te.a,{onClick:function(e){D(e),I("/activity")}},"Activity"),r.a.createElement(Te.a,{onClick:function(e){D(e),s.logoutUser()}},a("Navbar.Logout.label"))))))})),r.a.createElement(La,null))):r.a.createElement("div",{className:"AuthLogin__link"},r.a.createElement("div",{className:"HexButton --orange ".concat(j?"--disabled":""),onClick:R},a("Navbar.wallet.connect")))))}))),Pa=t(185),Aa=t(102),Ia=t.n(Aa),Da=(t(275),t(186)),Fa=t(124),Ra=t.n(Fa),Ua=t(363),Wa=t(187),Ga=t.n(Wa),Ha=function(e){var a=e.previousLinks,t=e.currentPageLabel,n=e.className,c=Ze().format("HH:mm, dddd, MMM D, YYYY");return r.a.createElement("div",{className:"breadcrumbs ".concat(n)},r.a.createElement(Ua.a,{className:"breadcrumbs--items",separator:r.a.createElement(Ga.a,{fontSize:"small"}),"aria-label":"breadcrumb"},a.map((function(e,a){return r.a.createElement(T.b,{className:"breadcrumbs--prevlink",key:"prev_link_".concat(a),color:"inherit",to:e.href},e.label)})),r.a.createElement("span",{className:"breadcrumbs--currentlabel"},t)),r.a.createElement("span",{className:"breadcrumbs--datetime"},c))};Ha.defaultProps={previousLinks:[],currentPageLabel:"undefined",className:""};var Va,za=Ha,Ya=function(){var e=Object(n.useContext)(_).state,a=Object(ua.h)().pathname,t=e.hex_id,c=e.landData,l=a.split("/")[2];l=l.charAt(0).toUpperCase()+l.slice(1);var i=[],s=1===c.marketStatus,o=0!==c.userPerspective;"Land"===l&&(0===Object.keys(c).length&&c.constructor===Object?l="":(i.push({href:"".concat(o?"/map/overview":"/map/discover"),label:"".concat(o?"My ":"").concat(s?"Auctions":"Lands")}),l=c.name&&c.name.sentence||t));return r.a.createElement(za,{currentPageLabel:l,previousLinks:i})},Za=(t(356),t(357),t(121),N((function(e){var a=Object(n.useState)(null),t=Object(m.a)(a,2),c=t[0],l=t[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),o=s[0],u=s[1],d=e.mapProvider.actions.changeMultipleLandSelectionList,v=e.mapProvider.state,p=v.onSingleView,b=v.onMultipleLandSelection,f=v.multipleLandSelectionList,E=v.auctionList,h=v.hex_id;function _(){Va.isStyleLoaded()?u(!0):setTimeout(_,200)}function O(e){var a=y.h3ToGeo(e);Va.flyTo({center:[a[1],a[0]],zoom:18,speed:1.8});var t=Ra.a.h3ToFeature(e),n="".concat("h3-hexes_selected","-layer"),r=Va.getSource("h3-hexes_selected");r||(Va.addSource("h3-hexes_selected",{type:"geojson",data:t}),Va.addLayer({id:n,source:"h3-hexes_selected",type:"fill",interactive:!1,paint:{"fill-outline-color":"#4A90E2","fill-color":"rgba(74,144,226,0.20)","fill-opacity":1}}),r=Va.getSource("h3-hexes_selected")),r.setData(t),Va.setLayoutProperty(n,"visibility","visible")}return Object(n.useEffect)((function(){Ia.a.accessToken="pk.eyJ1IjoibWFudG9uZWxsaSIsImEiOiJjam9hNmljdHkwY2Y0M3JuejJrenhmMWE1In0.dC9b8oqj24iiSfm-qbNqmw",Va=new Ia.a.Map({container:"Map",center:[P.map.lng,P.map.lat],zoom:P.map.zoom,style:"mapbox://styles/mapbox/light-v9"}),_();var e=new Da({accessToken:Ia.a.accessToken,marker:!1});Va.addControl(e),Va.on("load",(function(){e.on("result",(function(e){Va.flyTo({center:[e.result.geometry.coordinates[0],e.result.geometry.coordinates[1]],zoom:18,speed:1.8})})),Va.addLayer({id:"mapbox-mapbox-satellite",source:{type:"raster",url:"mapbox://mapbox.satellite",tileSize:256},type:"raster"}),Va.setLayoutProperty("mapbox-mapbox-satellite","visibility","none");var a=document.getElementById("js-map-view");a&&a.addEventListener("click",(function(){"on"===a.className?(a.setAttribute("class","off"),Va.setLayoutProperty("mapbox-mapbox-satellite","visibility","none"),a.innerHTML="Satellite"):(a.setAttribute("class","on"),Va.setLayoutProperty("mapbox-mapbox-satellite","visibility","visible"),a.innerHTML="Streets")}))}));Va.on("moveend",(function(){Va.getZoom()>17&&function(e){var a=Ra.a.h3SetToFeatureCollection(Object.keys(e),(function(a){return{value:e[a]}})),t="".concat("h3-hexes","-layer"),n=Va.getSource("h3-hexes");n||(Va.addSource("h3-hexes",{type:"geojson",data:a}),Va.addLayer({id:t,source:"h3-hexes",type:"fill",interactive:!1,paint:{"fill-outline-color":"rgba(255,255,255,1)"}}),n=Va.getSource("h3-hexes"));n.setData(a),Va.setPaintProperty(t,"fill-opacity",P.map.fillOpacity),Va.setPaintProperty(t,"fill-color",{property:"value",stops:[[0,P.map.colorScale[0]],[.5,P.map.colorScale[0]],[1,P.map.colorScale[0]]]})}(function(){var e=Va.getCenter(),a=y.geoToH3(e.lat,e.lng,12),t=y.kRing(a,20),n=Object.assign({},t);return Object.keys(n).reduce((function(e,a){return e[n[a]]=Math.random(),e}),{})}())}))}),[]),Object(n.useEffect)((function(){var a;return Va&&(a=function(a){var t=y.geoToH3(a.lngLat.lat,a.lngLat.lng,12);if(b){if(O(t),c==t){var n=f;n.includes(t)?(g.a.remove(n,(function(e){return e===t})),d(n)):(n.push(t),d(n))}l(t)}else{O(t),e.history.push("/map/land/".concat(t));var r=new CustomEvent("land-selected",{detail:{clicked_hex_id:t}});document.dispatchEvent(r)}},Va.on("click",a)),function(){Va&&Va.off("click",a)}}),[b,c,Va]),Object(n.useEffect)((function(){1==o&&(!function(){!1===p&&!1===b&&Va.flyTo({center:[P.map.lng,P.map.lat],zoom:P.map.zoom,speed:1.8});!0===p&&O(h);if(!0===b&&f.length>0){var e=Ra.a.h3SetToFeatureCollection(f),a="".concat("h3-hexes_multi_selected","-layer"),t=Va.getSource("h3-hexes_multi_selected");t||(Va.addSource("h3-hexes_multi_selected",{type:"geojson",data:e}),Va.addLayer({id:a,source:"h3-hexes_multi_selected",type:"fill",interactive:!1,paint:{"fill-outline-color":"#ec663c","fill-color":"rgba(249,180,38,0.5)","fill-opacity":1}}),t=Va.getSource("h3-hexes_multi_selected")),t.setData(e),Va.setLayoutProperty(a,"visibility","visible")}console.log("changeAuctionList",E)}(),1==b?Va.doubleClickZoom.disable():Va.doubleClickZoom.enable())}),[o,p,b,f]),Object(n.useEffect)((function(){1==o&&E.length>0&&function(){Va.flyTo({center:[P.map.lng,P.map.lat],zoom:P.map.zoom,speed:1.8});var e=document.getElementsByClassName("Map__ping_container");for(;e[0];)e[0].parentNode.removeChild(e[0]);var a,t=Object(Pa.a)(E);try{for(t.s();!(a=t.n()).done;){var n=a.value,r=0;switch(n.land.userPerspective){case 3:r="--outbidded";break;case 2:r="--bestbid";break;default:r="--open"}var c=document.createElement("div");if(c.className="Map__ping_container ".concat(r),c.insertAdjacentHTML("beforeend",'<div class="c-ping-layer c-ping-layer-1"></div>'),n.land.address&&!isNaN(n.land.address.geocenterString[1])&&!isNaN(n.land.address.geocenterString[0]))new Ia.a.Marker(c).setLngLat([n.land.address.geocenterString[1],n.land.address.geocenterString[0]]).addTo(Va)}}catch(o){t.e(o)}finally{t.f()}for(var l=function(){var e=s[i];e.getElement().addEventListener("mouseenter",(function(){e.togglePopup()}))},i=0,s=[];i<s.length;i++)l()}()}),[o,E]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ya,null),r.a.createElement("div",{id:"Map",className:"Map"},r.a.createElement("div",{id:"js-map-view"},"Satellite")))}))),qa=function(e){Object(f.a)(n,e);var a=Object(E.a)(n);function n(){return Object(v.a)(this,n),a.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"Footer"},r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container"},r.a.createElement(T.b,{to:"/",className:"Logo__footer_link"},r.a.createElement("div",{className:"Footer__logo Icon"},r.a.createElement("img",{src:t(162)}))),r.a.createElement("div",{className:"Footer__copyright"},"Over Holding Srl \xa9 2020"))),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container --large"},"OVRGLOBAL O\xdc",r.a.createElement("br",null),"Registry Code: 14721068",r.a.createElement("br",null),"Harju maakond, Tallinn, Kesklinna linnaosa, Roseni tn 12-85, 10111 Estonia")),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container"},r.a.createElement("div",{className:"Footer__title"},"Legal"),r.a.createElement("a",{href:"https://www.ovr.ai/privacy-policy/",rel:"noopener noreferrer",target:"_blank",className:"Footer__link"},"Privacy policy"))),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container"},r.a.createElement("div",{className:"Footer__title"},"Community"),r.a.createElement("a",{href:"https://t.me/OVRtheReality",rel:"noopener noreferrer",target:"_blank",className:"Footer__link"},"Telegram"),r.a.createElement("a",{href:"https://medium.com/ovrthereality/",rel:"noopener noreferrer",target:"_blank",className:"Footer__link"},"Medium"),r.a.createElement("a",{href:"https://www.facebook.com/OVRtheReality",rel:"noopener noreferrer",target:"_blank",className:"Footer__link"},"Facebook"))))}}]),n}(n.Component),Ka=function(){var e=Object(ne.a)(),a=e.t,t=(e.i18n,Object(n.useState)(R("firstAfterSignup"))),c=Object(m.a)(t,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){l&&(U("firstAfterSignup"),i(!1))}),[]),r.a.createElement(r.a.Fragment,null,l&&r.a.createElement("div",{className:"BannerNotification"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"--positive"},r.a.createElement("div",{className:"BannerNotification__title"},a("BannerNotification.welcome")," ","\ud83e\udd73"),r.a.createElement("div",{className:"BannerNotification__content"},a("BannerNotification.intro"))))))},Ja=t(41),Qa=t(188),Xa=t(358),$a=["en","zh"];var et=function(){i.a.use(Qa.a).init({order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,lng:navigator.language||navigator.userLanguage,caches:["localStorage","cookie"],excludeCacheFor:["cimode"]}),$a.includes(i.a.language)||(localStorage.removeItem("i18nextLng"),i.a.changeLanguage("en"));var e=Object(Ja.a)();return e.listen((function(e){console.log("GA",e.pathname),Xe.a.initialize("UA-128415861-1"),Xe.a.set({page:e.pathname}),Xe.a.pageview(e.pathname)})),window.historyPush=function(a){e.push(a)},r.a.createElement(n.Suspense,{fallback:"loading"},r.a.createElement(Xa.a,null,(function(a,t){var n=t.i18n;return r.a.createElement(de,{t:a,i18n:n},r.a.createElement(ye,{t:a,i18n:n},r.a.createElement(O,null,r.a.createElement(me.Consumer,null,(function(a){return r.a.createElement(Ee.Consumer,null,(function(t){return r.a.createElement(_.Consumer,null,(function(t){return r.a.createElement(T.a,{history:e},r.a.createElement("div",{className:"App"},r.a.createElement(Q.a,null),r.a.createElement(Ba,null),r.a.createElement(Ka,null),r.a.createElement("div",{className:"o-container"},r.a.createElement(ua.b,{path:"/map/",component:Za})),r.a.createElement(ua.d,null,r.a.createElement(ua.b,{exact:!0,path:"/"},a.state.isLoggedIn?r.a.createElement(ua.a,{to:"/profile"}):r.a.createElement(ua.a,{to:"/login"})),r.a.createElement(ua.b,{path:"/map/discover",component:ce}),r.a.createElement(ua.b,{path:"/map/overview",component:pe}),r.a.createElement(ua.b,{path:"/map/lands",component:Ye}),r.a.createElement(ua.b,{path:"/map/land/:id",component:ze}),r.a.createElement(ua.b,{path:"/profile",component:ra}),r.a.createElement(ua.b,{path:"/activity",component:ba}),r.a.createElement(ua.b,{path:"/login",component:fa}),r.a.createElement(ua.b,{path:"/signup",component:Na.a}),r.a.createElement(ua.b,{path:"/public-sale",component:Ca}),r.a.createElement(ua.b,{path:"/login-helper",component:_a})),r.a.createElement(qa,null)))}))}))})))))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(et,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[202,1,2]]]);
//# sourceMappingURL=main.4d098282.chunk.js.map