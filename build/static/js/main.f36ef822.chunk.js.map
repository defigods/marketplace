{"version":3,"sources":["assets/img/ovr.png","i18n.js","context/MapContext.js","components/TextCounter/TextCounter.js","components/LandName/LandName.js","components/ValueCounter/ValueCounter.js","components/TimeCounter/TimeCounter.js","components/AuctionCard/AuctionCard.js","components/LandCard/LandCard.js","lib/config.js","lib/auth.js","lib/api.js","lib/notifications.js","views/Discover/Discover.js","context/UserContext.js","views/Overview/Overview.js","lib/contracts.js","lib/abis.js","context/Web3Context.js","components/HexButton/HexButton.js","components/BidOverlay/BidOverlay.js","components/MintOverlay/MintOverlay.js","components/SellOverlay/SellOverlay.js","components/BuyOfferOverlay/BuyOfferOverlay.js","components/BuyOfferOrder/BuyOfferOrder.js","components/BuyLandOverlay/BuyLandOverlay.js","views/Land/Land.js","views/Lands/Lands.js","views/Profile/Profile.js","components/ActivityTile/ActivityTile.js","views/Activity/Activity.js","views/Login/Login.js","views/LoginHelper/LoginHelper.js","facebook/objectToParams.js","facebook/decodeParam.js","facebook/facebook.js","facebook/facebook-with-button.js","views/Signup/Signup.js","components/Notification/Notification.js","views/BuyTokens/BuyTokens.js","views/IndacoinResponse/IndacoinResponse.js","components/NotificationCenter/NotificationCenter.js","components/NavBar/NavBar.js","components/Breadcrumbs/Breadcrumbs.js","components/Map/Map.js","components/Breadcrumbs/MapBreadcrumbs.js","components/MapNavigationBox/MapNavigationBox.js","components/Footer/Footer.js","components/BannerNotification/BannerNotification.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","getCurrentLocale","i18n","language","window","localStorage","i18nextLng","use","Backend","initReactI18next","init","lng","getItem","backend","loadPath","fallbackLng","debug","ns","defaultNS","keySeparator","interpolation","escapeValue","formatSeparator","react","wait","MapContext","createContext","MapProvider","props","state","onSingleView","hex_id","isAuction","isUserRelated","activeBidOverlay","activeMintOverlay","activeSellOverlay","activeBuyOfferOverlay","activeBuyOverlay","onMultipleLandSelection","multipleLandSelectionList","auctionList","landData","changeHexId","bind","disableSingleView","enableMultipleLandSelection","disableMultipleLandSelection","changeMultipleLandSelectionList","changeAuctionList","changeActiveBidOverlay","changeActiveMintOverlay","changeActiveSellOverlay","changeActiveBuyOfferOverlay","changeLandData","changeActiveBuyOverlay","h3","this","setState","list","_","uniq","activeVal","Provider","value","actions","overviewList","children","Component","withMapContext","Consumer","mapProvider","React","TextCounter","className","label","LandName","mode","max","name","sentence","location","ValueCounter","width","height","viewBox","xmlns","x","y","x1","y1","x2","y2","id","stopColor","offset","transform","stroke","protocol","host","pathname","fill","fillRule","d","TimeCounter","local","fromNow","date_end","AuctionCard","user_perspective","background_image","hex","statusClassName","statusText","to","style","backgroundImage","time","signature","LandCard","is_minimal","config","web3network","environment","apis","hostname","socket","indacoinHelperApi","etherscan","cookieDomain","sumsubApi","map","lat","zoom","fillOpacity","colorScale","camelCaseKeys","object","camelCaseObject","cloneDeep","isArray","isString","mapKeys","key","camelCase","mapValues","isPlainObject","Array","prototype","readNotification","notification_uuid","foundItem","find","item","uuid","status","readAllNotifications","forEach","promisify","inner","Promise","resolve","reject","err","res","saveToken","tokenName","tokenValue","Cookies","set","domain","getToken","get","removeToken","remove","isLogged","undefined","cookieName","getUser","userProfile","userToken","cookieValue","saveUser","request","url","method","auctionCreate","landUuid","worth","auctionBid","hexId","userActivities","endpoint","params","req_config","headers","token","axios","defaults","common","post","then","response","catch","networkError","store","addNotification","title","message","type","insert","container","animationIn","animationOut","showIcon","dismiss","duration","warningNotification","dangerNotification","successNotification","Discover","useTranslation","t","useState","listAuctions","setListAuctions","numberOfAuctionPages","setNumberOfAuctionPages","currentAuctionPage","setCurrentAuctionPage","listLands","setListLands","numberOfLandPages","setNumberOfLandPages","currentLandPage","setCurrentLandPage","useContext","loadAuctionsByPage","page","sort","indexOpenAuctions","data","auctions","length","obj","land","auction","currentWorth","mapTileUrl","sentenceId","address","full","market_status","marketStatus","userPerspective","closeAt","numberOfPages","Trans","i18nKey","loadLandsByPage","indexLands","lands","error","useEffect","Pagination","count","onChange","event","number","ActionCable","require","UserContext","UserProvider","setUserState","user","setUserEmail","email","setUserActivity","activities","loginUser","isLoggedIn","liveSocket","logoutUser","toggleShowNotificationCenter","showNotificationCenter","closeNotificationCenter","setNotificationAsReaded","notifications_content","notifications","content","unreaded_count","unreadedCount","setAllNotificationsAsReaded","subscribedToLiveSockets","createConsumer","subscriptions","create","channel","user_uuid","received","kyc_review_answer","kycReviewAnswer","notification","balance","participate","bid","landId","a","getPrices","perEth","icoParticipate","participateAsync","gasPrice","web3","toWei","tx","result","setAsReaded","setAllAsReaded","withUserContext","userProvider","Overview","userAuthenticated","setUserAuthenticated","mapActions","userState","indexMyOpenAuctions","console","log","indexMyLands","icon","isSvg","ico","ovrsOwned","role","aria-label","tokenBuyAddress","icoAddress","icoParticipateAddress","tokenBuyAbi","erc20Abi","constant","inputs","outputs","internalType","payable","stateMutability","anonymous","indexed","icoAbi","ovr721Abi","icoParticipateAbi","Web3Context","Web3Provider","waitTx","txHash","blockCounter","filter","eth","watch","blockHash","stopWatching","warn","cb","getBlock","block","transactions","indexOf","waitTxWithCallback","callBackSuccess","updateBalance","setupWeb3","callback","ethereum","enable","Web3","currentProvider","defaultAccount","accounts","web3NetworkVersion","parseInt","chainId","publicAddress","toLowerCase","handleCentralizedLogin","refreshWhenAccountsChanged","setupContracts","getOvrsOwned","lightSetupWeb3","_dai","contract","at","_tether","_usdc","_tokenBuy","_ovr","_ico","_ovr721","_icoParticipate","dai","promisifyAll","tether","usdc","tokenBuy","ovr","ovr721","setupComplete","updateBalanceInterval","on","networkId","context","setInterval","String","balanceOfAsync","fromWei","handleUserSignMessage","nonce","personal","sign","fromUtf8","handleAuthenticate","singedNonce","public_address","signed_nonce","signIn","errors","redeemLands","getActiveLandsAsync","activeLandsIds","landsRedeemed","i","landsAsync","auctionLandDurationAsync","auctionTime","now","Math","trunc","Date","timePassedInSeconds","redeemWonLandAsync","redeemSingleLand","approveErc721Token","isLandId","getApprovedAsync","approveAsync","approveOvrTokens","toIcoParticipate","currentBalance","allowanceAsync","currentAllowance","greaterThan","buyLand","buyLandAsync","putLandOnSale","price","onSale","putLandOnSaleAsync","getOffersToBuyLand","getLandOffersAsync","landOfferIds","offers","groupCountersAsync","latestGroupCounter","landOfferId","landOffersAsync","offer","push","by","group","timestamp","expirationDate","cancelBuyOffer","offerId","cancelBuyOfferAsync","declineBuyOffer","respondToBuyOfferAsync","acceptBuyOffer","Number","ethPriceAsync","tokensPerUsdAsync","perUsd","buy","tokensToBuy","toBigNumber","ovrsPerEth","ceil","div","buyTokensWithEthAsync","buyWithToken","lessThan","buyTokensWithDaiAsync","buyTokensWithUsdtAsync","buyTokensWithUsdcAsync","participateMint","bidInWei","landIdBase16","lastTransaction","participateBid","participateBuyOffer","proposedValue","offerToBuyLandAsync","signUpLoginMetamask","getUserNonce","withWeb3Context","web3Provider","contextType","HexButton","onClick","text","target","ariaControls","ariaHaspopup","hexRef","href","ref","aria-controls","aria-haspopup","autoFocus","bidValid","setBidValid","nextBid","setNextBid","activeStep","setActiveStep","metamaskMessage","setBid","currentBid","setCurrentBid","bidProjection","setBidProjection","bidProjectionCurrency","setBidProjectionCurrency","showOverlay","setShowOverlay","classShowOverlay","setClassShowOverlay","useRef","open","setOpen","setDeactiveOverlay","e","preventDefault","setTimeout","updateBidProjectionCurrency","setNextBidSelectedLand","toFixed","participateInAuction","version","strokeWidth","step","TextField","myBid","eventBid","Tooltip","Fragment","placement","rel","getStepContent","initialLandBidAsync","initialBid","nextPayment","toUpperCase","boughtAt","setBoughtAt","sellWorth","setNewSellWorth","setMetamaskMessage","paid","handleNext","prevActiveStep","sellLand","reloadLandStatefromApi","sellAt","today","tomorrow","setDate","getDate","setProposedValue","setExpirationDate","solidityExpirationDate","setSolidityExpirationDate","anchorRef","handleClose","current","contains","handleClick","handleDateChange","val","propVal","utils","MomentUtils","DateTimePicker","variant","format","margin","Popper","anchorEl","transition","disablePortal","TransitionProps","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","MenuItem","confirmDeleteBuyOffer","transactionInProcess","confirmSell","newTx","openDeclineModal","openDeclineBuyModal","pathHexId","split","openModal","handleOpen","buttonRender","document","addEventListener","detail","setupListeners","isOwner","Modal","aria-labelledby","aria-describedby","onClose","buyAt","setBuyAt","checkUserLoggedIn","setHexId","setValue","setMarketStatus","setUserPerspective","setName","setLocation","setAuction","openBuyOffers","setOpenBuyOffers","isRedeemingLand","setIsRedeemingLand","isNotValidH3","setIsNotValidH3","match","loadLandStateFromApi","landSocket","unsubscribe","cable","decentralizedSetup","getBuyOffers","getLand","openSellOrder","redeemLand","setActiveSellOverlay","renderOverlayButton","button","setActiveMintOverlay","setActiveBidOverlay","setActiveBuyOfferOverlay","setActiveBuyOverlay","renderPrice","badge","renderBadge","custom_return","renderOpenSell","renerOpenBuyOffers","displayBuyOffers","displaySells","web3Provide","renderActiveOpenOrders","bidHistory","when","from","hex_ids","getLands","join","ProfileContentLoginRequired","ProfileLayout","currentDatetimeStamp","moment","userContext","web3Context","sumsubShowPanel","setSumsubShowPanel","userEmailValid","setUserEmailValid","userEmailInputError","setUserEmailInputError","userEmail","urlKyc","setUrlKyc","isSignupLoading","setIsSignupLoading","isIMWallet","setIsIMWallet","includes","navigator","platform","userAgent","isImToken","sumsubLang","getSumsubExternalLink","launchWebSdk","updateUserEmail","seed","size","scale","color","bgColor","spotColor","countdownTimer","disabled","helperText","onFocus","onKeyUp","test","setDbUserEmail","ReactGA","pageview","error_message","CircularProgress","kycClientComment","apiUrl","flowName","accessToken","applicantEmail","applicantPhone","userWallet","snsWebSdk","Builder","withAccessToken","newAccessTokenCallback","withConf","lang","phone","metadata","onMessage","payload","customCss","onError","build","launch","difference","parts","days","floor","hours","minutes","seconds","Profile","authenticated","ActivityTile","history","useHistory","setAnchorEl","pending","Boolean","createdAt","dangerouslySetInnerHTML","__html","replace","landSentence","IconButton","currentTarget","Menu","keepMounted","TransitionComponent","Fade","etherscanLink","ActivityContentLoginRequired","ActivityLayout","ActivityContent","userActions","activityList","setActivityList","Activity","imWalletInstruction","setImWalletInstruction","startEth","isWeb3Active","isWeb3Account","metamaskComponent","Object","keys","param","encodeURIComponent","paramString","decodeURIComponent","RegExp","FacebookLogin","isSdkLoaded","isProcessing","responseApi","authResponse","FB","api","locale","fields","me","assign","checkLoginState","setStateIfMounted","onFailure","checkLoginAfterRefresh","login","loginResponse","click","isDisabled","scope","appId","returnScopes","responseType","redirectUri","disableMobileRedirect","authType","defaultPrevented","client_id","redirect_uri","return_scopes","response_type","auth_type","isMobile","getParamsFromObject","getLoginStatus","_isMounted","getElementById","sdkLoaded","setFbAsyncInit","loadSdkAsynchronously","fbRoot","createElement","body","appendChild","nextProps","autoLoad","xfbml","cookie","fbAsyncInit","isRedirectedFromFb","search","decodeParamForKey","s","element","getElementsByTagName","fjs","js","src","parentNode","insertBefore","render","Error","propsForRender","defaultProps","standalone","ex","getIsMobile","ReactFacebookLoginWithButton","renderProps","opacity","containerStyle","tag","cssClass","textButton","typeButton","buttonStyle","isIconString","optionalProps","renderOwnButton","facebookToken","setFacebookToken","googleToken","setGoogleToken","username","setUsername","usernameValid","setUsernameValid","usernameInputError","setUsernameInputError","emailRegexAndNext","updateUsername","handleSubscribe","provider","userName","signUpHybrid","error_code","code","oauth","oauth_provider","signUpHybridSocial","handleLogin","responseGoogle","tokenId","responseFacebook","clientId","buttonText","onSuccess","cookiePolicy","xmlnsXlink","cx","cy","fx","fy","r","stopOpacity","mixBlendMode","Notification","setTokensToBuy","usdToSpend","setUsdToSpend","activeCurrency","setActiveCurrency","buyWithIndacoin","selectCurrency","currencyIndex","InputProps","startAdornment","InputAdornment","position","data-name","getCurrencyContent","respStatus","setRespStatus","errorTraceback","setErrorTraceback","transactionId","handleMarketplace","getIndacoinPayment","fetch","JSON","stringify","req","json","ok","msg","readed","setReaded","hidden","setHidden","handleGoTo","toggleNotificationCenter","handleHide","notificationUuid","hideNotification","NotificationCenterContent","wrapperRef","handleClickOutside","classList","removeEventListener","web3State","web3Actions","langOpen","setLangOpen","isConnecting","setIsConnecting","prevOpen","langRef","changeLanguage","string","handleToggle","link","handleCloseLang","handleMetamaskAuthentication","gtag_report_metamask_conversion","focus","shapeRendering","cont","centerContainer","reducedPublicAddress","Breadcrumbs","previousLinks","currentPageLabel","separator","fontSize","index","MapBreadcrumbs","useLocation","charAt","slice","prevLinks","constructor","CircularList","array","nextIndex","prevIndex","MapNavigationBox","items","getCurrent","setCurrent","getPrevious","previous","setPrevious","getNext","next","setNext","setIndex","currentCity","city","NavigateBefore","grey","country","lastSelectedLand","setLastSelectedLand","isMapReady","setIsMapReady","waitMapStyle","isStyleLoaded","focusMap","hexCenterCoordinates","flyTo","center","speed","singleHexGeojson","geojson2h3","h3ToFeature","selected_layerId","selected_source","getSource","addSource","addLayer","source","interactive","paint","setData","setLayoutProperty","mapboxgl","Map","geocoder","MapboxGeocoder","marker","addControl","ev","geometry","coordinates","tileSize","switchy","setAttribute","innerHTML","getZoom","hexagons","geojson","h3SetToFeatureCollection","layerId","setPaintProperty","property","stops","renderHexes","getCenter","centerHex","kRing","reduce","random","onClickMap","clicked_hex_id","lngLat","el","landSelectedEvent","CustomEvent","dispatchEvent","off","featureOfSelectedLands","paras","getElementsByClassName","removeChild","insertAdjacentHTML","isNaN","geocenter","Marker","setLngLat","addTo","plotAuctions","plotPOI","doubleClickZoom","disable","Footer","BannerNotification","firstAfterSignup","setFirstAfterSignup","supportedLangs","App","i18next","LanguageDetector","order","lookupQuerystring","lookupCookie","lookupLocalStorage","lookupSessionStorage","lookupFromPathIndex","lookupFromSubdomainIndex","userLanguage","caches","excludeCacheFor","removeItem","createBrowserHistory","listen","initialize","fallback","Translation","userValue","web3Value","mapValue","path","component","exact","Lands","Land","Login","Signup","LoginHelper","ReactDOM","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f36ef822.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ovr.ee984550.png\";","\nimport i18n from 'i18next'\nimport Backend from 'i18next-xhr-backend'\nimport { initReactI18next } from 'react-i18next'\n\nconst supportedLangs = ['en', 'zh'];\n\ni18n\n  .use(Backend)\n  .use(initReactI18next)\n  .init({\n    lng: localStorage.getItem('i18nextLng'),\n    backend: {\n      /* translation file path */\n      loadPath: '/assets/i18n/{{ns}}/{{lng}}.json'\n    },\n    fallbackLng: 'en',\n    debug: true,\n    /* can have multiple namespace, in case you want to divide a huge translation into smaller pieces and load them on demand */\n    ns: ['translations'],\n    defaultNS: 'translations',\n    keySeparator: false,\n    interpolation: {\n      escapeValue: false,\n      formatSeparator: ','\n    },\n    react: {\n      wait: true\n    }\n\t})\n\t\nexport function getCurrentLocale() {\n  return i18n.language || window.localStorage.i18nextLng || '';\n}\n\nexport default i18n","import React, { createContext, Component } from 'react';\nimport * as h3 from 'h3-js';\nimport _ from 'lodash';\n\nexport const MapContext = createContext();\n\nexport class MapProvider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tonSingleView: false,\n\t\t\thex_id: '8c81326dda43dff',\n\t\t\tisAuction: false,\n\t\t\tisUserRelated: false,\n\t\t\tactiveBidOverlay: false,\n\t\t\tactiveMintOverlay: false,\n\t\t\tactiveSellOverlay: false,\n\t\t\tactiveBuyOfferOverlay: false,\n\t\t\tactiveBuyOverlay: false,\n\t\t\tonMultipleLandSelection: false,\n\t\t\tmultipleLandSelectionList: [],\n\t\t\tauctionList: [],\n\t\t\tlandData: {},\n\t\t};\n\n\t\tthis.changeHexId = this.changeHexId.bind(this);\n\t\tthis.disableSingleView = this.disableSingleView.bind(this);\n\t\tthis.enableMultipleLandSelection = this.enableMultipleLandSelection.bind(this);\n\t\tthis.disableMultipleLandSelection = this.disableMultipleLandSelection.bind(this);\n\t\tthis.changeMultipleLandSelectionList = this.changeMultipleLandSelectionList.bind(this);\n\t\tthis.changeAuctionList = this.changeAuctionList.bind(this);\n\t\tthis.changeActiveBidOverlay = this.changeActiveBidOverlay.bind(this);\n\t\tthis.changeActiveMintOverlay = this.changeActiveMintOverlay.bind(this);\n\t\tthis.changeActiveSellOverlay = this.changeActiveSellOverlay.bind(this);\n\t\tthis.changeActiveBuyOfferOverlay = this.changeActiveBuyOfferOverlay.bind(this);\n\t\tthis.changeLandData = this.changeLandData.bind(this);\n\t\tthis.changeActiveBuyOverlay = this.changeActiveBuyOverlay.bind(this);\n\t}\n\n\tchangeHexId(hex_id) {\n\t\t// TODO change it as it could accept 3words names\n\t\tif (h3.h3IsValid(hex_id)) {\n\t\t\tthis.setState({ onSingleView: true, hex_id: hex_id, isAuction: true });\n\t\t}\n\t}\n\tenableMultipleLandSelection() {\n\t\tthis.setState({ onMultipleLandSelection: true });\n\t}\n\tdisableMultipleLandSelection() {\n\t\tthis.setState({ onMultipleLandSelection: false });\n\t}\n\tdisableSingleView() {\n\t\tthis.setState({ onSingleView: false });\n\t}\n\tchangeLandData(landData) {\n\t\tthis.setState({ landData });\n\t}\n\tchangeAuctionList(list) {\n\t\tthis.setState({ auctionList: list });\n\t}\n\tchangeMultipleLandSelectionList(list) {\n\t\tthis.setState({ multipleLandSelectionList: \t_.uniq(list) });\n\t}\n\tchangeActiveBidOverlay(activeVal) {\n\t\tthis.setState({ activeBidOverlay: activeVal });\n\t}\n\tchangeActiveMintOverlay(activeVal) {\n\t\tthis.setState({ activeMintOverlay: activeVal });\n\t}\n\tchangeActiveSellOverlay(activeVal) {\n\t\tthis.setState({ activeSellOverlay: activeVal });\n\t}\n\tchangeActiveBuyOfferOverlay(activeVal) {\n\t\tthis.setState({ activeBuyOfferOverlay: activeVal });\n\t}\n\tchangeActiveBuyOverlay(activeVal) {\n\t\tthis.setState({ activeBuyOverlay: activeVal });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<MapContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\tstate: this.state,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tchangeHexId: this.changeHexId,\n\t\t\t\t\t\tchangeActiveBidOverlay: this.changeActiveBidOverlay,\n\t\t\t\t\t\tchangeActiveMintOverlay: this.changeActiveMintOverlay,\n\t\t\t\t\t\tchangeAuctionList: this.changeAuctionList,\n\t\t\t\t\t\tdisableSingleView: this.disableSingleView,\n\t\t\t\t\t\tchangeActiveSellOverlay: this.changeActiveSellOverlay,\n\t\t\t\t\t\tchangeActiveBuyOfferOverlay: this.changeActiveBuyOfferOverlay,\n\t\t\t\t\t\tchangeLandData: this.changeLandData,\n\t\t\t\t\t\tchangeActiveBuyOverlay: this.changeActiveBuyOverlay,\n\t\t\t\t\t\tenableMultipleLandSelection: this.enableMultipleLandSelection,\n\t\t\t\t\t\tdisableMultipleLandSelection: this.disableMultipleLandSelection,\n\t\t\t\t\t\tchangeMultipleLandSelectionList: this.changeMultipleLandSelectionList,\n\t\t\t\t\t},\n\t\t\t\t\toverviewList: this.overviewList,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.props.children}\n\t\t\t</MapContext.Provider>\n\t\t);\n\t}\n}\n\nexport function withMapContext(Component) {\n\tclass ComponentWithContext extends React.Component {\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<MapContext.Consumer>{(value) => <Component {...this.props} mapProvider={{ ...value }} />}</MapContext.Consumer>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn ComponentWithContext;\n}\n","import React, { Component } from 'react';\n\nclass TextCounter extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"TextCounter\">\n\t\t\t\t<div className=\"TextCounter__text\"> {this.props.value} </div>\n\t\t\t\t<div className=\"TextCounter__label\"> {this.props.label} </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default TextCounter;\n","import React, { Component } from 'react';\nimport TextCounter from '../TextCounter/TextCounter';\n\nimport { Textfit } from 'react-textfit';\n\n\nclass LandName extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"LandName\">\n\t\t\t\t{this.props.value && <TextCounter value={this.props.value} label=\"OVR\"></TextCounter>}\n\t\t\t\t<div className=\"LandName__name\">\n\t\t\t\t\t<Textfit mode=\"single\" max={17}>\n\t\t\t\t\t\t{this.props.name.sentence}\n\t\t\t\t\t</Textfit>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"LandName__location\"> {this.props.location} </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LandName;\n","import React, { Component } from 'react';\n\nclass ValueCounter extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ValueCounter\">\n\t\t\t\t<div className=\"ValueCounter__icon\">\n\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t<svg width=\"18px\" height=\"20px\" viewBox=\"0 0 18 20\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0\" y=\"0\">\n\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t<linearGradient x1=\"109.444%\" y1=\"100%\" x2=\"0%\" y2=\"0%\" id=\"prefix__a\">\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#EB663B\" offset=\"0%\" />\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#F9B326\" offset=\"100%\" />\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t<g transform=\"translate(-1)\" stroke={`url(${window.location.protocol+'//'+window.location.host+window.location.pathname}#prefix__a)`} fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t<path d=\"M18.5 5.246v9.462a2.01 2.01 0 01-1.21 1.842l-5.624 2.41-.886.38a1.984 1.984 0 01-1.56 0l-1.274-.546L2.71 16.55a2.01 2.01 0 01-1.21-1.842V5.246A2.01 2.01 0 012.721 3.4l.218-.091L9.23.656a1.973 1.973 0 011.538 0l3.974 1.674L17.279 3.4A2.01 2.01 0 0118.5 5.246z\" />\n\t\t\t\t\t\t\t\t<path d=\"M15.958 5.47a1.472 1.472 0 00-.62-.518l-1.86-.817-2.914-1.28a1.4 1.4 0 00-1.128 0L4.822 4.881l-.16.07a1.472 1.472 0 00-.62.517 1.582 1.582 0 00-.275.896V13.6c0 .327.099.638.273.892.153.224.363.405.614.517l3.84 1.716.934.417a1.4 1.4 0 001.144 0l.65-.29 4.124-1.843c.251-.112.461-.293.614-.517.174-.254.273-.565.273-.892V6.365c0-.329-.1-.64-.275-.896z\" />\n\t\t\t\t\t\t\t\t<path d=\"M6.033 10c0-2.16 1.776-3.912 3.967-3.912 2.19 0 3.967 1.752 3.967 3.912S12.19 13.912 10 13.912c-2.19 0-3.967-1.752-3.967-3.912z\" />\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ValueCounter__value\"> {this.props.value}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ValueCounter;\n","import React, { Component } from 'react';\nimport Moment from 'react-moment';\n// https://github.com/moment/moment/issues/537 updateLocale\n\nclass TimeCounter extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"TimeCounter\">\n\t\t\t\t{/* <span>{this.props.time}</span>{this.props.signature} */}\n\t\t\t\t<Moment local fromNow>\n\t\t\t\t\t{this.props.date_end}\n\t\t\t\t</Moment>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default TimeCounter;\n","import React from 'react';\nimport LandName from '../LandName/LandName';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport { Link } from 'react-router-dom';\n\nconst AuctionCard = (props) => {\n\tconst { user_perspective, background_image, name, value, location, date_end } = props;\n\tconst { sentence, hex } = name;\n\tlet statusClassName = '--open';\n\tlet statusText = 'OPEN';\n\n\tswitch (user_perspective) {\n\t\tcase 1:\n\t\t\tstatusClassName = '--open';\n\t\t\tstatusText = 'OPEN';\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tstatusClassName = '--bestbid';\n\t\t\tstatusText = 'BEST BID';\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tstatusClassName = '--outbidded';\n\t\t\tstatusText = 'OUTBIDDED';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tstatusClassName = '--open';\n\t\t\tstatusText = 'OPEN';\n\t\t\tbreak;\n\t}\n\n\treturn (\n\t\t<div className={`AuctionCard ${statusClassName}`}>\n\t\t\t<Link to={`/map/land/${hex}`}>\n\t\t\t\t<div className=\"AuctionCard__header\" style={{ backgroundImage: background_image }}>\n\t\t\t\t\t<div className=\"c-status-badge AuctionCard__status\">{statusText}</div>\n\t\t\t\t\t<div className=\"AuctionCard__ping_container\">\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-1\"> </div>\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-2\"> </div>\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-3\"> </div>\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-4\"> </div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t\t<div className=\"AuctionCard__body\">\n\t\t\t\t<LandName name={{ sentence: sentence, hex: hex }} location={location}></LandName>\n\t\t\t\t<div className=\"AuctionCard__bottom_line\">\n\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t<ValueCounter value={value}></ValueCounter>\n\t\t\t\t\t\t{/* className={reloadLandStatefromApi} */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t<TimeCounter time={20} signature=\"mins\" date_end={date_end}></TimeCounter>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default AuctionCard;\n","import React from 'react';\nimport LandName from '../LandName/LandName';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport { Link } from 'react-router-dom';\nimport { Textfit } from 'react-textfit';\n\nconst LandCard = (props) => {\n\tlet card;\n\tif (props.is_minimal) {\n\t\tcard = (\n\t\t\t<div className=\"LandCard --minimal\">\n\t\t\t\t<div className=\"LandCard__cont\">\n\t\t\t\t\t<div className=\"LandCard__body\">\n\t\t\t\t\t\t<div className=\"LandName\">\n\t\t\t\t\t\t\t<div className=\"LandName__name\">\n\t\t\t\t\t\t\t\t<Textfit mode=\"single\" max={17}>\n\t\t\t\t\t\t\t\t\t{props.name.sentence}\n\t\t\t\t\t\t\t\t</Textfit>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"LandCard__body__footer\">\n\t\t\t\t\t\t\t<ValueCounter value={props.value}></ValueCounter>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tcard = (\n\t\t\t<Link to={`/map/land/${props.name.hex}`} className=\"LandCard\">\n\t\t\t\t<div className=\"LandCard__header\" style={{ backgroundImage: props.background_image }}></div>\n\t\t\t\t<div className=\"LandCard__cont\">\n\t\t\t\t\t<div className=\"LandCard__body\">\n\t\t\t\t\t\t<LandName name={props.name} location={props.location}></LandName>\n\t\t\t\t\t\t<div className=\"LandCard__body__footer\">\n\t\t\t\t\t\t\t<TimeCounter time={20} signature=\"mins\" date_end={props.date_end}></TimeCounter>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t);\n\t}\n\n\treturn card;\n};\n\nexport default LandCard;\n","import _ from 'lodash';\n\n//\n// General Configs\n//\n\n// Possible values are STAGING, DEVELOPMENT, PRODUCTION\nconst environment = 'DEVELOPMENT';\n\nlet apis;\n\nif (environment === 'PRODUCTION') {\n\tapis = {\n\t\thostname: 'https://mws.ovr.ai/api/v1',\n\t\tsocket: 'wss://mws.ovr.ai/cable',\n\t\tindacoinHelperApi: 'https://web3-helper.ovr.ai/indacoin',\n\t\tetherscan: 'https://etherscan.io/',\n\t\tcookieDomain: 'ovr.ai',\n\t\tsumsubApi: 'https://api.sumsub.com',\n\t};\n} else if (environment === 'STAGING') {\n\tapis = {\n\t\thostname: 'https://mws-staging.ovr.ai/api/v1',\n\t\tsocket: 'wss://mws-staging.ovr.ai/cable',\n\t\tindacoinHelperApi: 'https://web3-helper-staging.ovr.ai/indacoin',\n\t\tetherscan: 'https://ropsten.etherscan.io/',\n\t\tcookieDomain: 'ovr.ai',\n\t\tsumsubApi: 'https://test-api.sumsub.com',\n\t};\n} else {\n\tapis = {\n\t\thostname: 'http://localhost:3000/api/v1',\n\t\tsocket: 'ws://localhost:3000/cable',\n\t\tindacoinHelperApi: 'https://web3-helper-staging.ovr.ai/indacoin',\n\t\tetherscan: 'https://ropsten.etherscan.io/',\n\t\tcookieDomain: 'localhost',\n\t\tsumsubApi: 'https://test-api.sumsub.com',\n\t};\n}\n\nconst map = {\n\tlat: 46.0922495,\n\tlng: 13.2312417,\n\tzoom: 0,\n\tfillOpacity: 0.3,\n\tcolorScale: ['#5F39BE', '#ffffff', '#1a0731', '#EC663C', '#0081DD'],\n};\n\nlet config = {\n\tweb3network: environment === 'PRODUCTION' ? 1 : 3,\n\tenvironment: environment,\n\tapis: apis,\n\tmap: map,\n};\n\nexport default config;\n\n//\n//  Lib Functions\n//\n\nexport function camelCaseKeys(object) {\n\tlet camelCaseObject = _.cloneDeep(object);\n\n\tif (_.isArray(camelCaseObject)) {\n\t\treturn _.map(camelCaseObject, camelCaseKeys);\n\t}\n\tif (_.isString(camelCaseObject)) {\n\t\treturn camelCaseObject;\n\t}\n\tcamelCaseObject = _.mapKeys(camelCaseObject, (value, key) => _.camelCase(key));\n\n\t// Recursively apply throughout object\n\treturn _.mapValues(camelCaseObject, (value) => {\n\t\tif (_.isPlainObject(value)) {\n\t\t\treturn camelCaseKeys(value);\n\t\t} else if (_.isArray(value)) {\n\t\t\treturn _.map(value, camelCaseKeys);\n\t\t}\n\t\treturn value;\n\t});\n}\n\nArray.prototype.readNotification = function (notification_uuid) {\n\tlet foundItem = this.find((item) => item.uuid === notification_uuid);\n\tif (foundItem) {\n\t\tfoundItem.status = 1;\n\t}\n};\n\nArray.prototype.readAllNotifications = function () {\n\tthis.forEach((item) => {\n\t\titem.status = 1;\n\t});\n};\n\nexport const promisify = (inner) =>\n\tnew Promise((resolve, reject) =>\n\t\tinner((err, res) => {\n\t\t\tif (err) {\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\tresolve(res);\n\t\t\t}\n\t\t}),\n\t);\n\n\nexport function isiOS() {\n\treturn [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod'\n  ].includes(navigator.platform)\n  // iPad on iOS 13 detection\n  || (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document)\n} \n\nexport function isImToken(){\n\treturn !!window.imToken\n}","import Cookies from 'js-cookie';\nimport config from './config';\n\nexport function saveToken(tokenName = 'token', tokenValue) {\n\tCookies.set(tokenName, tokenValue, { domain: config.apis.cookieDomain });\n}\n\nexport function getToken(tokenName = 'token') {\n\treturn Cookies.get(tokenName);\n}\n\nexport function removeToken(tokenName = 'token') {\n\tCookies.remove(tokenName);\n\tCookies.remove(tokenName, { domain: config.apis.cookieDomain });\n}\n\nexport function checkToken(tokenName = 'token') {\n\treturn Cookies.get(tokenName) !== undefined;\n}\n\nexport function saveUser(cookieName = 'user', cookieValue) {\n\tCookies.set(cookieName, cookieValue, { domain: config.apis.cookieDomain });\n}\n\nexport function getUser(cookieName = 'userToken') {\n\treturn Cookies.get(cookieName);\n}\n\nexport function removeUser(cookieName = 'userToken') {\n\tCookies.remove(cookieName);\n\tCookies.remove(cookieName, { domain: config.apis.cookieDomain });\n}\n\nexport function isLogged() {\n\treturn getUser() !== undefined;\n}\n","import config, { camelCaseKeys } from '../lib/config';\nimport { getToken, saveUser } from '../lib/auth';\nimport axios from 'axios';\n\n// TRANSFORMATIONS -> funzioni di trasformazione dati app -> server e server -> app.\n// ----------------------------------------------------------------------------------------\nexport function example(user) {\n\treturn {\n\t\tuuid: user.uuid,\n\t\tbleId: user.ble_id,\n\t\tbleName: user.ble_name,\n\t\tbleCode: user.ble_code,\n\t\ttimestampCreation: user.timestamp_creation,\n\t};\n}\n\n// AUTHENTICATION REQUEST\n// ----------------------------------------------------------------------------------------\n\n/**\n * @function signIn\n * @param {*}\n */\nexport function signIn(publicAddress, singedNonce) {\n\treturn request(\n\t\t{ url: '/authentication/login', method: 'POST' },\n\t\t{ public_address: publicAddress, signed_nonce: singedNonce },\n\t\tnull,\n\t);\n}\n\nexport function getUserNonce(publicAddress) {\n\treturn request({ url: '/user/nonce', method: 'GET' }, { public_address: publicAddress }, null);\n}\n\nexport function userProfile(userToken) {\n\tsaveUser('user', userToken);\n\treturn request({ url: '/user/profile', method: 'GET' }, {}, null);\n}\n\n// USER REGISTRATION\n// ----------------------------------------------------------------------------------------\n\n/**\n * @function signUp\n * @param {*}\n */\nexport function signUp(userName, password, email) {\n\treturn request(\n\t\t{ url: '/user/registration', method: 'POST' },\n\t\t{ username: userName, password: password, email: email },\n\t\tnull,\n\t);\n}\n\nexport function signUpHybrid(email, userName, publicAddress) {\n\treturn request(\n\t\t{ url: '/user/registration', method: 'POST' },\n\t\t{ email: email, username: userName, public_address: publicAddress },\n\t\tnull,\n\t);\n}\n\nexport function signUpHybridSocial(token, provider, userName, publicAddress) {\n\treturn request(\n\t\t{ url: '/user/registration/social', method: 'POST' },\n\t\t{ oauth: token, oauth_provider: provider, username: userName, public_address: publicAddress },\n\t\tnull,\n\t);\n}\n\nexport function signUpPublicAddress(publicAddress) {\n\treturn request({ url: '/user/registration', method: 'POST' }, { public_address: publicAddress }, null);\n}\n\nexport function signUpLoginMetamask(publicAddress) {\n\treturn request(\n\t\t{ url: '/authentication/metamask', method: 'POST' },\n\t\t{ public_address: publicAddress },\n\t\tnull,\n\t);\n}\n\nexport function setDbUserEmail(email = null) {\n\treturn request(\n\t\t{ url: '/user/set/email', method: 'POST' },\n\t\t{\n\t\t\temail: email,\n\t\t},\n\t\tnull,\n\t);\n}\n\n\n// AUCTIONS\n// ----------------------------------------------------------------------------------------\nexport function indexOpenAuctions(sort = null, page = 1) {\n\treturn request({ url: '/auctions/open', method: 'GET' }, { sort: sort, page: page }, null);\n}\n\nexport function indexMyOpenAuctions(sort = null, page = 1) {\n\treturn request(\n\t\t{ url: '/user/auctions', method: 'GET' },\n\t\t{\n\t\t\tsort: sort,\n\t\t\tpage: page,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function auctionCreate(landUuid = null, worth = 10) {\n\treturn request(\n\t\t{ url: '/auction/start', method: 'POST' },\n\t\t{\n\t\t\thex_id: landUuid,\n\t\t\tworth: worth,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function auctionBid(hexId = null, worth = 10) {\n\treturn request(\n\t\t{ url: '/auction/bid', method: 'POST' },\n\t\t{\n\t\t\thex_id: hexId,\n\t\t\tworth: worth,\n\t\t},\n\t\tnull,\n\t);\n}\n\n\n// export function auctionBidPre(landUuid = null, worth = 10, txHash = null) {\n// \treturn request(\n// \t\t{ url: '/auction/bid/pre', method: 'POST' },\n// \t\t{\n// \t\t\thex_id: landUuid,\n// \t\t\tworth: worth,\n// \t\t\ttx_hash: txHash,\n// \t\t},\n// \t\tnull,\n// \t);\n// }\n\n// export function auctionBidConfirm(landUuid = null, worth = 10) {\n// \treturn request(\n// \t\t{ url: '/auction/bid/confirm', method: 'POST' },\n// \t\t{\n// \t\t\thex_id: landUuid,\n// \t\t\tworth: worth,\n// \t\t},\n// \t\tnull,\n// \t);\n// }\n\n// export function auctionPreStart(landUuid = null, worth = 10, txHash = null) {\n// \treturn request(\n// \t\t{ url: '/auction/start/pre', method: 'POST' },\n// \t\t{\n// \t\t\thex_id: landUuid,\n// \t\t\tworth: worth,\n// \t\t\ttx_hash: txHash,\n// \t\t},\n// \t\tnull,\n// \t);\n// }\n\n// export function auctionConfirmStart(landUuid = null, txHash = null) {\n// \treturn request(\n// \t\t{ url: '/auction/start/confirm', method: 'POST' },\n// \t\t{\n// \t\t\thex_id: landUuid,\n// \t\t\ttx_hash: txHash,\n// \t\t},\n// \t\tnull,\n// \t);\n// }\n\n// export function auctionCheckClose(landUuid = null) {\n// \treturn request(\n// \t\t{ url: '/infura/auction/close', method: 'POST' },\n// \t\t{\n// \t\t\thex_id: landUuid,\n// \t\t},\n// \t\tnull,\n// \t);\n// }\n\n// LANDS\nexport function getLand(hex_id = null) {\n\treturn request(\n\t\t{ url: '/land', method: 'GET' },\n\t\t{\n\t\t\thex_id: hex_id,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function getLands(hex_ids = null) {\n\treturn request(\n\t\t{ url: '/lands/list', method: 'GET' },\n\t\t{\n\t\t\thex_ids: hex_ids,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function indexLands(sort = null, page = 1) {\n\treturn request(\n\t\t{ url: '/lands', method: 'GET' },\n\t\t{\n\t\t\tsort: sort,\n\t\t\tpage: page,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function indexMyLands(sort = null, page = 1) {\n\treturn request(\n\t\t{ url: '/user/lands', method: 'GET' },\n\t\t{\n\t\t\tsort: sort,\n\t\t\tpage: page,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// SELL\nexport function sellLand(landUuid = null, worth = null) {\n\treturn request(\n\t\t{ url: '/order/sell', method: 'POST' },\n\t\t{\n\t\t\thex_id: landUuid,\n\t\t\tworth: worth,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function deleteSellLand(landUuid = null) {\n\treturn request(\n\t\t{ url: '/order/delete/sell', method: 'POST' },\n\t\t{\n\t\t\thex_id: landUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// BUY\nexport function buyLand(landUuid = null) {\n\treturn request(\n\t\t{ url: '/order/buy', method: 'POST' },\n\t\t{\n\t\t\thex_id: landUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// BUY OFFER\nexport function buyOffer(landUuid = null, worth = null, expirationDate = null) {\n\treturn request(\n\t\t{ url: '/order/buy_offer', method: 'POST' },\n\t\t{\n\t\t\thex_id: landUuid,\n\t\t\tworth: worth,\n\t\t\texpiration_date: expirationDate,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function deleteBuyOffer(orderUuid = null) {\n\treturn request(\n\t\t{ url: '/order/delete/buy_offer', method: 'POST' },\n\t\t{\n\t\t\torder_uuid: orderUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function hitBuyOffer(orderUuid = null) {\n\treturn request(\n\t\t{ url: '/order/hit_buy_offer', method: 'POST' },\n\t\t{\n\t\t\torder_uuid: orderUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// NOTIFICATION\nexport function readNotification(notificationUuid = null) {\n\treturn request(\n\t\t{ url: '/notification/read', method: 'POST' },\n\t\t{\n\t\t\tnotification_uuid: notificationUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function readAllNotifications() {\n\treturn request({ url: '/notifications/read', method: 'POST' }, {}, null);\n}\n\nexport function hideNotification(notificationUuid = null) {\n\treturn request(\n\t\t{ url: '/notification/hide', method: 'POST' },\n\t\t{\n\t\t\tnotification_uuid: notificationUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// Centralized helpers\n\nexport function sendPreAuctionStart(landId, bid, txHash) {\n\t// auctionPreStart(landId, bid, txHash)\n\t// \t.then((response) => {\n\t// \t\t// console.log('response', response.data);\n\t// \t})\n\t// \t.catch((error) => {\n\t// \t\t// Notify user if network error\n\t// \t\t// console.log(error);\n\t// \t});\n}\n\nexport function sendConfirmAuctionStart(landId, txHash) {\n\t// auctionConfirmStart(landId, txHash)\n\t// \t.then((response) => {\n\t// \t\tif (response.data.result === true) {\n\t// \t\t\t// console.log('sendConfirmAuctionStart - response true', response.data);\n\t// \t\t} else {\n\t// \t\t  // console.log('responseFalse');\n\t// \t\t\t// console.log('sendConfirmAuctionStart - response false', response.data.errors[0].message);\n\t// \t\t\t// setActiveStep(0);\n\t// \t\t}\n\t// \t})\n\t// \t.catch((error) => {\n\t// \t\t// Notify user if network error\n\t// \t\t// console.log(error);\n\t// \t});\n}\n\nexport function sendPreAuctionBid(landId, nextBid, txHash) {\n\t// auctionBidPre(landId, nextBid, txHash)\n\t// \t.then((response) => {\n\t// \t  // console.log(response)\n\t// \t})\n\t// \t.catch((error) => {\n\t// \t\t// Notify user if network error\n\t// \t\t// console.log(error);\n\t// \t});\n}\nexport function sendAuctionBidConfirm(landId, nextBid) {\n\t// auctionBidConfirm(landId, nextBid)\n\t// \t.then((response) => {\n\t// \t  // console.log(response)\n\t// \t})\n\t// \t.catch((error) => {\n\t// \t\t// Notify user if network error\n\t// \t\t// console.log(error);\n\t// \t});\n}\n\nexport function sendAuctionCheckClose(landId) {\n// \tauctionCheckClose(landId)\n// \t\t.then((response) => {\n// \t\t\t// console.log(response);\n// \t\t})\n// \t\t.catch((error) => {\n// \t\t\t// Notify user if network error\n// \t\t\t// console.log(error);\n// \t\t});\n}\n\n// Activities\nexport function userActivities() {\n\treturn request({ url: '/user/activities', method: 'GET' }, {}, null);\n}\n\n// KYC - SUMSUB\nexport function getSumsubData() {\n\treturn request({ url: '/user/sumsub/access_token', method: 'GET' }, {}, null);\n}\n\nexport function setSumsubVerificationToStarted() {\n\treturn request({ url: '/user/sumsub/set_verification/started', method: 'GET' }, {}, null);\n}\n\nexport function getSumsubExternalLink(language = \"en\") {\n\treturn request(\n\t\t{ url: '/user/sumsub/external_link', method: 'GET' },\n\t\t{\n\t\t\tlanguage: language,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// GENERAL REQUEST\n// ----------------------------------------------------------------------------------------\n\n/**\n * @description This function helps the generation of an axios request with the api server.\n * @param {object} endpoint\n * @param {object} params\n * @param {string} token\n */\nexport function request(endpoint, params, req_config = { headers: { 'Content-Type': 'application/json' } }) {\n\tconst token = getToken('userToken');\n\tif (token) {\n\t\taxios.defaults.headers.common['Authorization'] = token; // eslint-disable-line\n\t}\n\tif(req_config && req_config.headers){\n\t\treq_config.headers['Content-Language'] = localStorage.getItem('i18nextLng');\n\t}else{\n\t\treq_config = { headers: { 'Content-Language': localStorage.getItem('i18nextLng') } }\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tlet req;\n\t\tif (endpoint.method === 'POST') {\n\t\t\treq = axios.post(`${config.apis.hostname}${endpoint.url}`, params, req_config);\n\t\t} else {\n\t\t\treq = axios.get(`${config.apis.hostname}${endpoint.url}`, { params });\n\t\t}\n\t\treq\n\t\t\t.then((response) => {\n\t\t\t\tresolve(camelCaseKeys(response));\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t\t// console.log(err);\n\t\t\t});\n\t});\n}\n","import { store } from 'react-notifications-component';\n\nexport function networkError() {\n\tstore.addNotification({\n\t\ttitle: 'Connection error',\n\t\tmessage: 'Check your internet connection or try again later',\n\t\ttype: 'danger',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n\nexport function warningNotification(title, message) {\n\tstore.addNotification({\n\t\ttitle: title,\n\t\tmessage: message,\n\t\ttype: 'warning',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n\nexport function dangerNotification(title, message) {\n\tstore.addNotification({\n\t\ttitle: title,\n\t\tmessage: message,\n\t\ttype: 'danger',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n\nexport function successNotification(title, message) {\n\tstore.addNotification({\n\t\ttitle: title,\n\t\tmessage: message,\n\t\ttype: 'success',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n","import React, { useState, useEffect, useContext } from 'react';\n\nimport './style.scss';\nimport { MapContext } from '../../context/MapContext';\nimport AuctionCard from '../../components/AuctionCard/AuctionCard';\nimport LandCard from '../../components/LandCard/LandCard';\n\nimport { indexOpenAuctions, indexLands } from '../../lib/api';\nimport { networkError } from '../../lib/notifications';\nimport Pagination from '@material-ui/lab/Pagination';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\nconst Discover = () => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst [listAuctions, setListAuctions] = useState('');\n\tconst [numberOfAuctionPages, setNumberOfAuctionPages] = useState(0);\n\tconst [currentAuctionPage, setCurrentAuctionPage] = useState(1);\n\n\tconst [listLands, setListLands] = useState('');\n\tconst [numberOfLandPages, setNumberOfLandPages] = useState(0);\n\tconst [currentLandPage, setCurrentLandPage] = useState(1);\n\n\tconst { actions } = useContext(MapContext);\n\n\tfunction loadAuctionsByPage(page) {\n\t\t// Call API function\n\t\tindexOpenAuctions(null, page)\n\t\t\t.then((response) => {\n\t\t\t\t// Load Auctions in MapContext\n\t\t\t\tactions.changeAuctionList(response.data.auctions);\n\t\t\t\t// console.log(response.data.auctions);\n\n\t\t\t\tif (response.data.auctions.length > 0) {\n\t\t\t\t\t// Load user data in context store\n\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\tresponse.data.auctions.map((obj) => (\n\t\t\t\t\t\t\t<AuctionCard\n\t\t\t\t\t\t\t\tkey={obj.land.hexId}\n\t\t\t\t\t\t\t\tvalue={obj.land.auction.currentWorth}\n\t\t\t\t\t\t\t\tbackground_image={`url(${obj.land.mapTileUrl}`}\n\t\t\t\t\t\t\t\tname={{ sentence: obj.land.sentenceId, hex: obj.land.hexId }}\n\t\t\t\t\t\t\t\tlocation={obj.land.address.full}\n\t\t\t\t\t\t\t\tmarket_status={obj.land.marketStatus}\n\t\t\t\t\t\t\t\tuser_perspective={obj.land.userPerspective}\n\t\t\t\t\t\t\t\tdate_end={obj.land.auction.closeAt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)),\n\t\t\t\t\t);\n\t\t\t\t\tsetNumberOfAuctionPages(response.data.numberOfPages);\n\t\t\t\t} else {\n\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t\t<Trans i18nKey=\"Discover.no.auctions.open\" >\n\t\t\t\t\t\t\t\t\tThere is currently no <div className=\"c-status-badge\">OPEN</div> auction \n\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t{' '}⚡️\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t{t('Discover.browse.lands')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction loadLandsByPage(page) {\n\t\t// console.log('load land');\n\t\t// Call API function\n\t\tindexLands(null, page)\n\t\t\t.then((response) => {\n\t\t\t\t// Load Lands in MapContext\n\t\t\t\tif (response.data.lands.length > 0) {\n\t\t\t\t\t// Load user data in context store\n\t\t\t\t\tsetListLands(\n\t\t\t\t\t\tresponse.data.lands.map((obj) => (\n\t\t\t\t\t\t\t<LandCard\n\t\t\t\t\t\t\t\tkey={obj.hexId}\n\t\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\t\tvalue={obj.currentWorth}\n\t\t\t\t\t\t\t\tbackground_image={`url(${obj.mapTileUrl}`}\n\t\t\t\t\t\t\t\tname={{ sentence: obj.sentenceId, hex: obj.hexId }}\n\t\t\t\t\t\t\t\tlocation={obj.address.full}\n\t\t\t\t\t\t\t\tdate_end={obj.auction.closeAt}\n\t\t\t\t\t\t\t></LandCard>\n\t\t\t\t\t\t)),\n\t\t\t\t\t);\n\t\t\t\t\tsetNumberOfLandPages(response.data.numberOfPages);\n\t\t\t\t} else {\n\t\t\t\t\tsetListLands(\n\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">{t('Discover.no.lands')}</div>\n\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">{t('Discover.browse.available')}</div>\n\t\t\t\t\t\t</div>,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// console.log(error);\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction handleAuctionPageClick(event, number) {\n\t\tloadAuctionsByPage(number);\n\t\tsetCurrentAuctionPage(number);\n\t}\n\n\tfunction handleLandPageClick(event, number) {\n\t\tloadLandsByPage(number);\n\t\tsetCurrentLandPage(number);\n\t}\n\n\tuseEffect(() => {\n\t\tactions.disableSingleView();\n\t\tloadAuctionsByPage();\n\t\tloadLandsByPage();\n\t}, []);\n\n\treturn (\n\t\t<div className=\"Overview\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<h2 className=\"o-section-title\">{t('Discover.auctions.label')}</h2>\n\t\t\t</div>\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"o-auction-list\">{listAuctions}</div>\n\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t{numberOfAuctionPages > 1 && (\n\t\t\t\t\t\t<Pagination count={numberOfAuctionPages} page={currentAuctionPage} onChange={handleAuctionPageClick} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<h2 className=\"o-section-title\">{t('Discover.closed.auctions')}</h2>\n\t\t\t</div>\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"o-land-list\">{listLands}</div>\n\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t{numberOfLandPages > 1 && (\n\t\t\t\t\t\t<Pagination count={numberOfLandPages} page={currentLandPage} onChange={handleLandPageClick} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Discover;\n","import React, { createContext, Component } from 'react';\nimport { removeToken, saveToken, isLogged, getToken, removeUser } from '../lib/auth';\nimport { successNotification, networkError, dangerNotification, warningNotification } from '../lib/notifications';\nimport { userProfile, getUserNonce, signUpPublicAddress, signIn } from '../lib/api';\nimport config, { camelCaseKeys } from '../lib/config';\nimport { useTranslation } from 'react-i18next'\n\nlet ActionCable = require('actioncable');\n\nexport const UserContext = createContext();\n\nexport class UserProvider extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisLoggedIn: false,\n\t\t\tsubscribedToLiveSockets: false,\n\t\t\tshowNotificationCenter: false,\n\t\t\ttoken: null,\n\t\t\tuser: {\n\t\t\t\tuuid: null,\n\t\t\t}\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (isLogged()) {\n\t\t\tuserProfile()\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t// console.log('userState', response.data.user)\n\t\t\t\t\tthis.setState({ user: response.data.user });\n\t\t\t\t\tthis.liveSocket();\n\t\t\t\t} else {\n\t\t\t\t\t\tdangerNotification(this.props.t('Danger.session.expired.title'), this.props.t('Danger.session.expired.desc'));\n\t\t\t\t\t\tthis.logoutUser();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\t// Notify user if network error\n\t\t\t\t\tnetworkError();\n\t\t\t\t});\n\n\t\t\tthis.loginUser(getToken('userToken'), getToken('userUuid'));\n\t\t}\n\t}\n\n\tsetUserState = (user) => {\n\t\tthis.setState({ user: user });\n\t}\n\n\tsetUserEmail = (email) => {\n\t\tthis.setState({ user: {\n\t\t\t...this.state.user,\n\t\t\temail: email\n\t\t} });\n\t}\n\n\tsetUserActivity = (activities) => {\n\t\tthis.setState({ user: {\n\t\t\t...this.state.user,\n\t\t\tactivities: camelCaseKeys(activities)\n\t\t} });\n\t}\n\n\tloginUser = (token, user) => {\n\t\tthis.setState({ isLoggedIn: true, token: token, user: user });\n\t\t// Cookie management\n\t\tsaveToken('userToken', token);\n\t\tsaveToken('userUuid', user);\n\t\tthis.liveSocket();\n\t};\n\n\tlogoutUser = () => {\n\t\tthis.setState({ isLoggedIn: false, token: null, user: { uuid: null } });\n\t\t// Cookie management\n\t\tremoveToken('userToken');\n\t\tremoveToken('userUuid');\n\t};\n\t\n\t// Centralized Notifications\n\n\ttoggleShowNotificationCenter = () => {\n\t\tthis.setState({ showNotificationCenter: !this.state.showNotificationCenter });\n\t};\n\n\tcloseNotificationCenter = () => {\n\t\tthis.setState({ showNotificationCenter: false });\n\t};\n\n\tsetNotificationAsReaded = (notification_uuid) => {\n\t\tlet notifications_content = this.state.user.notifications.content;\n\t\tlet unreaded_count = this.state.user.notifications.unreadedCount;\n\n\t\tnotifications_content.readNotification(notification_uuid);\n\t\tunreaded_count = unreaded_count - 1;\n\n\t\tthis.setState({\n\t\t\tuser: {\n\t\t\t\t...this.state.user,\n\t\t\t\tnotifications: {\n\t\t\t\t\t...this.state.user.notifications,\n\t\t\t\t\tunreadedCount: unreaded_count,\n\t\t\t\t\tcontent: notifications_content,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tsetAllNotificationsAsReaded = () => {\n\t\tlet notifications_content = this.state.user.notifications.content;\n\t\tnotifications_content.readAllNotifications();\n\t\tthis.setState({\n\t\t\tuser: {\n\t\t\t\t...this.state.user,\n\t\t\t\tnotifications: {\n\t\t\t\t\t...this.state.user.notifications,\n\t\t\t\t\tunreadedCount: 0,\n\t\t\t\t\tcontent: notifications_content,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\t// Sockets\n\n\tliveSocket = () => {\n\t\tif (this.state.isLoggedIn && !this.state.subscribedToLiveSockets){\n\t\t\tthis.setState({subscribedToLiveSockets: true})\n\t\t\tvar cable = ActionCable.createConsumer(config.apis.socket);\n\n\t\t\tcable.subscriptions.create(\n\t\t\t\t{ channel: 'UsersChannel', user_uuid: this.state.user.uuid },\n\t\t\t\t{\n\t\t\t\t\treceived: (data) => {\n\t\t\t\t\t\tif (data['only_kyc'] && data['only_kyc'] == true) {\n\t\t\t\t\t\t\tconst { kyc_review_answer } = data;\n\t\t\t\t\t\t\t// Update KYC Status\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t\t...this.state.user,\n\t\t\t\t\t\t\t\t\tkycReviewAnswer: kyc_review_answer\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst { notification } = data;\n\t\t\t\t\t\t\tconst { balance } = data;\n\t\t\t\t\t\t\tconst { unreaded_count } = data;\n\t\t\t\t\t\t\t// Update state on new notification\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t\t...this.state.user,\n\t\t\t\t\t\t\t\t\tbalance: balance,\n\t\t\t\t\t\t\t\t\tnotifications: {\n\t\t\t\t\t\t\t\t\t\t...this.state.user.notifications,\n\t\t\t\t\t\t\t\t\t\tunreadedCount: unreaded_count,\n\t\t\t\t\t\t\t\t\t\tcontent: [camelCaseKeys(notification), ...this.state.user.notifications.content],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t};\n\n\n\t// Type is a number where\n\t// 0 -> eth\n    // 1 -> Dai\n    // 2 -> Usdt\n\t// 3 -> Usdc\n\t// 4 -> OVR\n\tparticipate = async (type, bid, landId) => {\n\t\tlet tx\n\t\tconst { t, i18n } = useTranslation()\n\n\n\t\ttry {\n\t\t\tawait this.getPrices()\n\t\t} catch (e) {\n\t\t\treturn warningNotification(this.props.t('Warning.get.prices.title'), this.props.t('Warning.get.prices.desc')+ ` ${e.message}`)\n\t\t}\n\t\ttry {\n\t\t\t// For ether we send the value instead of the bid\n\t\t\tif (type === 0) {\n\t\t\t\tconst value = bid / this.state.perEth;\n\t\t\t\t// console.log('value', value, 'bid', bid, 'per eth', this.state.perEth, 'ico participate', this.state.icoParticipate.address)\n\t\t\t\ttx = await this.state.icoParticipate.participateAsync(type, bid, landId, {\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tgasPrice: window.web3.toWei(300, 'gwei'),\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn tx\n\t\t} catch (e) {\n\t\t\treturn warningNotification(this.props.t('Warning.buy.error.title'), this.props.t('Warning.buy.error.desc')+ ` ${e.message}`);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<UserContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\tstate: this.state,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tloginUser: this.loginUser,\n\t\t\t\t\t\tlogoutUser: this.logoutUser,\n\t\t\t\t\t\tsetUserState: this.setUserState,\n\t\t\t\t\t\tsetUserActivity: this.setUserActivity,\n\t\t\t\t\t\tsetUserEmail: this.setUserEmail,\n\t\t\t\t\t\ttoggleShowNotificationCenter: this.toggleShowNotificationCenter,\n\t\t\t\t\t\tcloseNotificationCenter: this.closeNotificationCenter,\n\t\t\t\t\t\tnotification: {\n\t\t\t\t\t\t\tsetAsReaded: this.setNotificationAsReaded,\n\t\t\t\t\t\t\tsetAllAsReaded: this.setAllNotificationsAsReaded,\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.props.children}\n\t\t\t</UserContext.Provider>\n\t\t);\n\t}\n}\n\nexport function withUserContext(Component) {\n\tclass ComponentWithContext extends React.Component {\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<UserContext.Consumer>\n\t\t\t\t\t{(value) => <Component {...this.props} userProvider={{ ...value }} />}\n\t\t\t\t</UserContext.Consumer>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn ComponentWithContext;\n}\n","import React, { useState, useEffect, useContext } from 'react';\nimport './style.scss';\nimport { MapContext } from '../../context/MapContext';\nimport { UserContext } from '../../context/UserContext';\n\nimport AuctionCard from '../../components/AuctionCard/AuctionCard';\nimport LandCard from '../../components/LandCard/LandCard';\n\nimport { indexMyOpenAuctions, indexMyLands } from '../../lib/api';\nimport { networkError } from '../../lib/notifications';\nimport Pagination from '@material-ui/lab/Pagination';\nimport {Trans, useTranslation } from 'react-i18next'\n\nconst Overview = () => {\n\tconst { t, i18n } = useTranslation();\n\tconst [listAuctions, setListAuctions] = useState('');\n\tconst [numberOfAuctionPages, setNumberOfAuctionPages] = useState(0);\n\tconst [currentAuctionPage, setCurrentAuctionPage] = useState(1);\n\n\tconst [listLands, setListLands] = useState('');\n\tconst [numberOfLandPages, setNumberOfLandPages] = useState(0);\n\tconst [currentLandPage, setCurrentLandPage] = useState(1);\n\tconst [userAuthenticated, setUserAuthenticated] = useState(true);\n\n\tconst { actions: mapActions } = useContext(MapContext);\n\tconst { state: userState } = useContext(UserContext);\n\n\tfunction loadAuctionsByPage(page) {\n\t\t// Call API function\n\t\tindexMyOpenAuctions(null, page)\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(response);\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t// Load Auctions in MapContext\n\t\t\t\t\tmapActions.changeAuctionList(response.data.auctions);\n\n\t\t\t\t\tif (response.data.auctions.length > 0) {\n\t\t\t\t\t\t// Load user data in context store\n\t\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\t\tresponse.data.auctions.map((obj) => (\n\t\t\t\t\t\t\t\t<AuctionCard\n\t\t\t\t\t\t\t\t\tkey={obj.land.hexId}\n\t\t\t\t\t\t\t\t\tvalue={obj.land.auction.currentWorth}\n\t\t\t\t\t\t\t\t\tbackground_image={`url(${obj.land.mapTileUrl}`}\n\t\t\t\t\t\t\t\t\tname={{ sentence: obj.land.sentenceId, hex: obj.land.hexId }}\n\t\t\t\t\t\t\t\t\tlocation={obj.land.address.full}\n\t\t\t\t\t\t\t\t\tmarket_status={obj.land.marketStatus}\n\t\t\t\t\t\t\t\t\tuser_perspective={obj.land.userPerspective}\n\t\t\t\t\t\t\t\t\tdate_end={obj.land.auction.closeAt}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNumberOfAuctionPages(response.data.numberOfPages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t\t\t<Trans i18nKey=\"Overview.no.auctions.open\">\n\t\t\t\t\t\t\t\t\t\tThere is currently no <div className=\"c-status-badge\">OPEN</div> auction\n\t\t\t\t\t\t\t\t\t</Trans>{' '}⚡️\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t\t\t{t('Overview.browse.ovr.lands')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetUserAuthenticated(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tconsole.error(error);\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction loadLandsByPage(page) {\n\t\t// Call API function\n\t\tindexMyLands(null, page)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t// Load Lands in MapContext\n\t\t\t\t\tif (response.data.lands.length > 0) {\n\t\t\t\t\t\t// Load user data in context store\n\t\t\t\t\t\tsetListLands(\n\t\t\t\t\t\t\tresponse.data.lands.map((obj) => (\n\t\t\t\t\t\t\t\t<LandCard\n\t\t\t\t\t\t\t\t\tkey={obj.hexId}\n\t\t\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\t\t\tvalue={obj.currentWorth}\n\t\t\t\t\t\t\t\t\tbackground_image={`url(${obj.mapTileUrl}`}\n\t\t\t\t\t\t\t\t\tname={{ sentence: obj.sentenceId, hex: obj.hexId }}\n\t\t\t\t\t\t\t\t\tlocation={obj.address.full}\n\t\t\t\t\t\t\t\t\ticon={{ url: './assets/icons/icon_deal.png', isSvg: false }}\n\t\t\t\t\t\t\t\t\tdate_end={obj.auction.closeAt}\n\t\t\t\t\t\t\t\t></LandCard>\n\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNumberOfLandPages(response.data.numberOfPages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetListLands(\n\t\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">{t('Overview.no.lands')}</div>\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">{t('Overview.browse.lands')}</div>\n\t\t\t\t\t\t\t</div>,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tconsole.error(error);\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction handleAuctionPageClick(event, number) {\n\t\tloadAuctionsByPage(number);\n\t\tsetCurrentAuctionPage(number);\n\t}\n\n\tfunction handleLandPageClick(event, number) {\n\t\tloadLandsByPage(number);\n\t\tsetCurrentLandPage(number);\n\t}\n\n\tfunction loadWeb3Transactions() {\n\t\tif (userState.ico) {\n\t\t\t// let trans = window.web3.eth.getBlock('pending').transactions;\n\t\t\t// console.log(trans);\n\n\t\t\t// window.addEventListener('load', async () => {\n\t\t\t// \tlet trans = await window.web3.eth.getBlock('pending', function (err, transactionHash) {\n\t\t\t// \t\tif (!err) {\n\t\t\t// \t\t\tconsole.log(transactionHash);\n\t\t\t// \t\t}\n\t\t\t// \t});\n\t\t\t// });\n\t\t\t// BEST\n\t\t\t// console.log('window.ethereum.networkVersion', window.ethereum.networkVersion)\n\t\t\t// let userAddress = window.web3.eth.defaultAccount;\n\t\t\t// console.log(userAddress);\n\t\t\t// window.web3.eth.getTransactionCount(userAddress, (err, txCount) => {\n\t\t\t// \tconsole.log('txCount', txCount);\n\t\t\t// \tlet n = txCount;\n\t\t\t// \twindow.web3.eth.getBlockNumber((err, currentBlock) => {\n\t\t\t// \t\tconsole.log('error', err);\n\t\t\t// \t\tconsole.log('currentBlock', currentBlock);\n\t\t\t// \t\twindow.web3.eth.getBalance(userAddress, currentBlock, (err, balance) => {\n\t\t\t// \t\t\tconsole.log('balance', balance);\n\t\t\t// \t\t\tlet bal = userState.ovrsOwned;\n\t\t\t// \t\t\tconsole.log('bal', bal);\n\t\t\t// \t\t\tconsole.log('bal', bal > 0);\n\t\t\t// \t\t\tfor (var i = currentBlock; i >= currentBlock - 5 && (n > 0 || bal > 0); --i) {\n\t\t\t// \t\t\t\twindow.web3.eth.getBlock(i, true, (err, block) => {\n\t\t\t// \t\t\t\t\t// console.log('block', block)\n\t\t\t// \t\t\t\t\tif (block && block.transactions) {\n\t\t\t// \t\t\t\t\t\tblock.transactions.forEach(function (e) {\n\t\t\t// \t\t\t\t\t\t\t// console.log('userAddress ->', userAddress);\n\t\t\t// \t\t\t\t\t\t\t// console.log('e.from ->', e.from);\n\t\t\t// \t\t\t\t\t\t\tif (userAddress == e.from) {\n\t\t\t// \t\t\t\t\t\t\t\tconsole.log('transaction from', e);\n\t\t\t// \t\t\t\t\t\t\t\tif (e.from != e.to) bal = bal.plus(e.value);\n\t\t\t// \t\t\t\t\t\t\t\tconsole.log(i, e.from, e.to, e.value.toString(10));\n\t\t\t// \t\t\t\t\t\t\t\t--n;\n\t\t\t// \t\t\t\t\t\t\t}\n\t\t\t// \t\t\t\t\t\t\tif (userAddress == e.to) {\n\t\t\t// \t\t\t\t\t\t\t\tconsole.log('transaction to', e);\n\t\t\t// \t\t\t\t\t\t\t\tif (e.from != e.to) bal = bal.minus(e.value);\n\t\t\t// \t\t\t\t\t\t\t\tconsole.log(i, e.from, e.to, e.value.toString(10));\n\t\t\t// \t\t\t\t\t\t\t}\n\t\t\t// \t\t\t\t\t\t});\n\t\t\t// \t\t\t\t\t}\n\t\t\t// \t\t\t\t});\n\t\t\t// \t\t\t}\n\t\t\t// \t\t});\n\t\t\t// \t});\n\t\t\t// });\n\n\t\t\t// console.log('window.web3.eth', window.web3.eth)\n\n\t\t\t// console.log('currentBlock',currentBlock)\n\t\t\t// var n = txCount\n\t\t\t// var bal = window.web3.eth.getBalance(userAddress, currentBlock);\n\t\t\t// for (var i = currentBlock; i >= 0 && (n > 0 || bal > 0); --i) {\n\t\t\t// \ttry {\n\t\t\t// \t\tvar block = window.web3.eth.getBlock(i, true);\n\t\t\t// \t\tif (block && block.transactions) {\n\t\t\t// \t\t\tblock.transactions.forEach(function (e) {\n\t\t\t// \t\t\t\tif (userAddress == e.from) {\n\t\t\t// \t\t\t\t\tif (e.from != e.to) bal = bal.plus(e.value);\n\t\t\t// \t\t\t\t\tconsole.log(i, e.from, e.to, e.value.toString(10));\n\t\t\t// \t\t\t\t\t--n;\n\t\t\t// \t\t\t\t}\n\t\t\t// \t\t\t\tif (userAddress == e.to) {\n\t\t\t// \t\t\t\t\tif (e.from != e.to) bal = bal.minus(e.value);\n\t\t\t// \t\t\t\t\tconsole.log(i, e.from, e.to, e.value.toString(10));\n\t\t\t// \t\t\t\t}\n\t\t\t// \t\t\t});\n\t\t\t// \t\t}\n\t\t\t// \t} catch (e) {\n\t\t\t// \t\tconsole.error('Error in block ' + i, e);\n\t\t\t// \t}\n\t\t\t// }\n\t\t}\n\t\t// getTransactionsByAccount(eth.accounts[0])\n\t\t// window.web3.eth.getPendingTransactions().then(console.log);\n\t}\n\n\tuseEffect(() => {\n\t\tmapActions.disableSingleView();\n\t\tloadAuctionsByPage();\n\t\tloadLandsByPage();\n\t\tloadWeb3Transactions();\n\t}, [userState.ico, userState.ovrsOwned]);\n\n\tlet customReturn;\n\n\tif (userAuthenticated) {\n\t\tcustomReturn = (\n\t\t\t<div className=\"Overview\">\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<h2 className=\"o-section-title\">{t('Overview.auctions.label')}</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"o-auction-list\">{listAuctions}</div>\n\t\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t\t{numberOfAuctionPages > 1 && (\n\t\t\t\t\t\t\t<Pagination count={numberOfAuctionPages} page={currentAuctionPage} onChange={handleAuctionPageClick} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<h2 className=\"o-section-title\">{t('Overview.my.ovrlands')}</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"o-land-list\">{listLands}</div>\n\t\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t\t{numberOfLandPages > 1 && (\n\t\t\t\t\t\t\t<Pagination count={numberOfLandPages} page={currentLandPage} onChange={handleLandPageClick} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tcustomReturn = (\n\t\t\t<div className=\"Overview\">\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t{t('Overview.login.required')}\n\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"Cool dude\">\n\t\t\t\t\t\t\t\t😎\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">{t('Overview.login.to.browse')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn customReturn;\n};\n\nexport default Overview;\n","// TODO change this for the final addresses these are the deployed ropsten ones\r\nexport const daiAddress = '0x5af7479e69D503173c3bfe2a0aa2d8F381A96aBB';\r\nexport const usdcAddress = '0x36A9489412E1847db23Ec2F82A414Df45aEe447c';\r\nexport const tetherAddress = '0x2908A1968189a692d96A0c51A8adE5848da521cF';\r\nexport const ovr721Address = '0xe709BebB528B5Bf1FFBa885381b53a9Af8BAeCad';\r\nexport const ovrAddress = '0x48139bB5Ff6DefD5CDa05D61FB545240fCb50ee3';\r\nexport const tokenBuyAddress = '0xD8d607B332d48E84A6d87245104C63179183d8fb';\r\nexport const icoAddress = '0xaEBeC72783729C82edc4f3cB43D7aC00A94266f8';\r\nexport const icoParticipateAddress = '0xA0D5134d70F8E9d5c1d24c5d80171B860E590B26';","const tokenBuyAbi = [\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"usdcToken\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"unpause\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"isPauser\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"paused\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"renouncePauser\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"addPauser\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"pause\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"owner\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address payable\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"usdtToken\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"tokensPerUsd\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"daiToken\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"ovrToken\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address payable\",\r\n        \"name\": \"_newOwner\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"transferOwnership\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"ethPrice\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_ovrToken\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_daiToken\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_usdcToken\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_usdtToken\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": true,\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"constructor\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"from\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"ovrPurchased\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"coinsPaid\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"string\",\r\n        \"name\": \"coinUsed\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"name\": \"TokenPurchase\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"date\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"price\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"PriceUpdated\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"Paused\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"Unpaused\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"PauserAdded\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"PauserRemoved\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"previousOwner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"newOwner\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"OwnershipTransferred\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"updatePrice\",\r\n    \"outputs\": [],\r\n    \"payable\": true,\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"bytes32\",\r\n        \"name\": \"myid\",\r\n        \"type\": \"bytes32\"\r\n      },\r\n      {\r\n        \"internalType\": \"string\",\r\n        \"name\": \"result\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"name\": \"__callback\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"bytes32\",\r\n        \"name\": \"_myid\",\r\n        \"type\": \"bytes32\"\r\n      },\r\n      {\r\n        \"internalType\": \"string\",\r\n        \"name\": \"_result\",\r\n        \"type\": \"string\"\r\n      },\r\n      {\r\n        \"internalType\": \"bytes\",\r\n        \"name\": \"_proof\",\r\n        \"type\": \"bytes\"\r\n      }\r\n    ],\r\n    \"name\": \"__callback\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_tokensPerUsd\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"setTokenPrices\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_tokenstoBuy\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"buyTokensWithEth\",\r\n    \"outputs\": [],\r\n    \"payable\": true,\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_tokensToBuy\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"buyTokensWithUsdt\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_tokensToBuy\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"buyTokensWithUsdc\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_tokensToBuy\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"buyTokensWithDai\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_tokenToExtract\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_amount\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"extractTokens\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"extractEth\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_to\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_amount\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"sendTokensCreditCard\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  }\r\n];\r\n\r\nconst erc20Abi = [\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [],\r\n\t\tname: 'name',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'string',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [],\r\n\t\tname: 'decimals',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint8',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint8',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [],\r\n\t\tname: '_totalSupply',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [],\r\n\t\tname: 'symbol',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'string',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'a',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'b',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'safeSub',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'c',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'a',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'b',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'safeDiv',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'c',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'a',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'b',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'safeMul',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'c',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'a',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'b',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'safeAdd',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'c',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tinputs: [],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'constructor',\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'from',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokens',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'Transfer',\r\n\t\ttype: 'event',\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'tokenOwner',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'spender',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokens',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'Approval',\r\n\t\ttype: 'event',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [],\r\n\t\tname: 'totalSupply',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'tokenOwner',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'balanceOf',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'balance',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'tokenOwner',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'spender',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'allowance',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'remaining',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'spender',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokens',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'approve',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: 'success',\r\n\t\t\t\ttype: 'bool',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokens',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'transfer',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: 'success',\r\n\t\t\t\ttype: 'bool',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'from',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokens',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'transferFrom',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: 'success',\r\n\t\t\t\ttype: 'bool',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function',\r\n\t},\r\n];\r\n\r\nconst icoAbi = [\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"approved\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"tokenBuy\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"usdt\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"usdc\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"unpause\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"isPauser\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"activeLands\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"paused\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"lastLandOfferId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"renouncePauser\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"addPauser\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"landOfferIds\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"pause\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"owner\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address payable\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"initialLandBid\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"ovrLand\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"landOffers\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"id\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"address payable\",\r\n        \"name\": \"by\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"group\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"price\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"timestamp\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"expirationDate\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"enum ICO.LandOfferState\",\r\n        \"name\": \"state\",\r\n        \"type\": \"uint8\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"cashbacks\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"ownedLands\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"tokensPerUsd\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"auctionLandDuration\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"ovrToken\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"contractCreationDate\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"tokensPerEth\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"lands\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address payable\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landToBuy\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"paid\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"lastBidTimestamp\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"enum ICO.AuctionState\",\r\n        \"name\": \"state\",\r\n        \"type\": \"uint8\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"cashbackAmount\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"isCashbackRedeemed\",\r\n        \"type\": \"bool\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"sellPrice\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"onSale\",\r\n        \"type\": \"bool\"\r\n      },\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"hasBeenRedeemed\",\r\n        \"type\": \"bool\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"lastUpdateTimestamp\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"paidWith\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address payable\",\r\n        \"name\": \"_newOwner\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"transferOwnership\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"dai\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"landsOnSaleOrSold\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"groupCounters\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_ovrToken\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_ovrLand\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_tokenBuy\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_initialLandBid\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"constructor\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"winner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"price\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"WonLand\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"price\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"LandSaleStarted\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"receiver\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"amount\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"timestamp\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"CashbackRedeemed\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"LandSaleCancelled\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"id\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"by\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"price\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"timestamp\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"expirationDate\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"LandOfferCreated\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"oldOwner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"buyer\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"price\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"timestamp\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"LandSold\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landOfferId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"LandOfferDeclined\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"offerId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"LandOfferCancelled\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"Paused\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"Unpaused\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"PauserAdded\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"PauserRemoved\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"previousOwner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"newOwner\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"OwnershipTransferred\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_approved\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"setApproved\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_time\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"setAuctionLandDuration\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_landId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"redeemWonLand\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256[]\",\r\n        \"name\": \"_landIds\",\r\n        \"type\": \"uint256[]\"\r\n      }\r\n    ],\r\n    \"name\": \"redeemBulkLands\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_landId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"redeemCashback\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_tokenToExtract\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_amount\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"extractTokens\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"extractEth\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_landId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_price\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"_onSale\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"name\": \"putLandOnSale\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_landId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"buyLand\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_landId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_price\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_expirationDate\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"offerToBuyLand\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_offerId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"cancelBuyOffer\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_landOfferId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"_accept\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"name\": \"respondToBuyOffer\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address payable\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landToBuy\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"paid\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"enum ICO.AuctionState\",\r\n        \"name\": \"state\",\r\n        \"type\": \"uint8\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"paidWith\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"setLands\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_landId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"pushActiveLand\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_landId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"checkMyLandOffers\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256[]\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256[]\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"checkWonLands\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256[]\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256[]\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_landId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"checkEpoch\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"getActiveLands\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256[]\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256[]\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"getLandsOnSaleOrSold\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256[]\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256[]\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_landId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"getLandOffers\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256[]\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256[]\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"operator\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"from\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"bytes\",\r\n        \"name\": \"data\",\r\n        \"type\": \"bytes\"\r\n      }\r\n    ],\r\n    \"name\": \"onERC721Received\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bytes4\",\r\n        \"name\": \"\",\r\n        \"type\": \"bytes4\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  }\r\n];\r\n\r\nconst ovr721Abi = [\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"bytes4\",\r\n          \"name\": \"interfaceId\",\r\n          \"type\": \"bytes4\"\r\n        }\r\n      ],\r\n      \"name\": \"supportsInterface\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"name\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"getApproved\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"approve\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"totalSupply\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"transferFrom\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"tokenOfOwnerByIndex\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"removeMinter\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"safeTransferFrom\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"tokenByIndex\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"ownerOf\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"baseURI\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"balanceOf\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"owner\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"isOwner\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"symbol\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"addMinter\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [],\r\n      \"name\": \"renounceMinter\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"approved\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"name\": \"setApprovalForAll\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"isMinter\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"bytes\",\r\n          \"name\": \"_data\",\r\n          \"type\": \"bytes\"\r\n        }\r\n      ],\r\n      \"name\": \"safeTransferFrom\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"tokenURI\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"OVRLandID\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"mintLand\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"operator\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"isApprovedForAll\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"constructor\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"MinterAdded\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"MinterRemoved\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"Transfer\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"approved\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"Approval\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"operator\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"approved\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"name\": \"ApprovalForAll\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"OVRLandID\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"uri\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"name\": \"setOVRLandURI\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    }\r\n];\r\n\r\nconst icoParticipateAbi = [\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"tokenBuy\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"usdt\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"contract IERC20\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"usdc\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"contract IERC20\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"unpause\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"isPauser\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"paused\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"ico\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"contract ICO\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"renouncePauser\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"addPauser\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"pause\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"ovrLand\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"tokensPerUsd\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"ovrToken\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"contract IERC20\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"tokensPerEth\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": true,\r\n    \"inputs\": [],\r\n    \"name\": \"dai\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"contract IERC20\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_ico\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"constructor\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"lastBidder\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landToBuy\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"paid\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"timestamp\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"AuctionStarted\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"newBidder\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"oldBidder\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"landToBuy\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"paid\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"timestamp\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"AuctionBid\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"Paused\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"Unpaused\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"PauserAdded\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"account\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"PauserRemoved\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [],\r\n    \"name\": \"updateTokenBuyValues\",\r\n    \"outputs\": [],\r\n    \"payable\": false,\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"constant\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_token\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_bid\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"_landId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"participate\",\r\n    \"outputs\": [],\r\n    \"payable\": true,\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"function\"\r\n  }\r\n];\r\n\r\nexport { tokenBuyAbi, erc20Abi, icoAbi, ovr721Abi, icoParticipateAbi }","import React, { createContext, Component } from 'react';\nimport Web3 from 'web3';\nimport { removeToken, saveToken, isLogged, getToken, removeUser } from '../lib/auth';\nimport { successNotification, networkError, dangerNotification, warningNotification } from '../lib/notifications';\nimport { userProfile, getUserNonce, signUpPublicAddress, signIn, sendPreAuctionStart, sendConfirmAuctionStart, sendPreAuctionBid, signUpLoginMetamask } from '../lib/api';\nimport {promisify} from '../lib/config';\nimport config from '../lib/config';\nimport { promisifyAll } from 'bluebird';\nimport {\n  tokenBuyAddress,\n  daiAddress,\n  tetherAddress,\n  usdcAddress,\n  ovrAddress,\n  icoAddress,\n  ovr721Address,\n  icoParticipateAddress,\n} from '../lib/contracts';\nimport { tokenBuyAbi, erc20Abi, icoAbi, ovr721Abi, icoParticipateAbi, } from '../lib/abis';\nimport { UserContext } from './UserContext';\nimport { useHistory } from 'react-router-dom';\n\n\n\nexport const Web3Context = createContext();\n\nexport class Web3Provider extends Component {\n  static contextType = UserContext;\n  constructor(props) {\n    super(props);\n    this.state = {\n      ovrsOwned: 0,\n      dai: null,\n      tether: null,\n      usdc: null,\n      tokenBuy: null,\n      ovr: null,\n      ico: null,\n      ovr721: null,\n      setupComplete: false,\n      perEth: 0,\n      perUsd: 0,\n      lastTransaction: \"0x0\"\n    };\n  }\n\n  componentDidMount() {\n    if (isLogged()) {\n      this.lightSetupWeb3();\n    }\n  }\n\n  waitTx = (txHash) => {\n    return new Promise((resolve, reject) => {\n      let blockCounter = 60; // If it's not confirmed after 30 blocks, move on\n      // Wait for tx to be finished\n      // console.log('watching txHash', txHash);\n      let filter = window.web3.eth.filter('latest').watch(async (err, blockHash) => {\n        if (err) {\n          filter.stopWatching();\n          filter = null;\n          return reject(err);\n        }\n        if (blockCounter <= 0) {\n          filter.stopWatching();\n          filter = null;\n          console.warn('!! Tx expired !!');\n          reject(`Transaction not confirmed after ${blockCounter} blocks`);\n        }\n        // Get info about latest Ethereum block\n        const block = await promisify((cb) => window.web3.eth.getBlock(blockHash, cb));\n        --blockCounter;\n        // Found tx hash?\n        if (block.transactions.indexOf(txHash) > -1) {\n          // Tx is finished\n          // console.log('Tx has completed')\n          filter.stopWatching();\n          filter = null;\n          return resolve();\n          // Tx hash not found yet?\n        }\n      });\n    });\n  };\n\n  waitTxWithCallback = (txHash, callBackSuccess) => {\n    return new Promise((resolve, reject) => {\n      let blockCounter = 60; // If it's not confirmed after 30 blocks, move on\n      // Wait for tx to be finished\n      // console.log('watching txHash', txHash);\n      let filter = window.web3.eth.filter('latest').watch(async (err, blockHash) => {\n        if (err) {\n          filter.stopWatching();\n          filter = null;\n          return reject(err);\n        }\n        if (blockCounter <= 0) {\n          this.updateBalance();\n          filter.stopWatching();\n          filter = null;\n          console.warn('!! Tx expired !!');\n          reject(`Transaction not confirmed after ${blockCounter} blocks`);\n        }\n        // Get info about latest Ethereum block\n        const block = await promisify((cb) => window.web3.eth.getBlock(blockHash, cb));\n        --blockCounter;\n        // Found tx hash?\n        if (block.transactions.indexOf(txHash) > -1) {\n          // Tx is finished\n          this.updateBalance();\n          // console.log('Tx has completed')\n          filter.stopWatching();\n          filter = null;\n          callBackSuccess();\n          return resolve();\n          // Tx hash not found yet?\n        }\n      });\n    });\n  };\n\n  // Note: the web3 version is always 0.20.7 because of metamask\n  setupWeb3 = async (callback) => {\n\t\t// console.log('render setupweb3');\n\t\tconst ethereum = window.ethereum;\n    if (typeof ethereum !== 'undefined') {\n      try {\n        await ethereum.enable();\n      } catch (e) {\n        return warningNotification(this.props.t('Warning.metamask.permission.title'), this.props.t('Warning.metamask.permission.desc'));\n      }\n      window.web3 = new Web3(ethereum);\n    } else if (typeof window.web3 !== 'undefined') {\n      window.web3 = new Web3(window.web3.currentProvider);\n    } else {\n\t\t\tcallback(false)\n\t\t\twarningNotification(this.props.t('Warning.metamask.not.detected.title'), this.props.t('Warning.metamask.not.detected.desc'));\n\t\t\treturn false;\n    }\n    window.web3.eth.defaultAccount = window.web3.eth.accounts[0];\n\t\t\n\t\tlet web3NetworkVersion = parseInt(ethereum.chainId, 16) === config.web3network;\n\t\tconsole.log(web3NetworkVersion)\n\t\tif( web3NetworkVersion === false ) {\n\t\t\tcallback(false);\n\t\t\treturn false;\n\t\t}\n\n    // Sign nonce for centralized login\n    let publicAddress = window.web3.eth.defaultAccount.toLowerCase();\n    await this.handleCentralizedLogin(publicAddress, callback);\n\n    // Helpers\n    await this.refreshWhenAccountsChanged();\n    await this.updateBalance();\n\n    await this.setupContracts();\n    await this.getOvrsOwned();\n  };\n\n  // if the user is logged in with a valid token just reload datas\n  lightSetupWeb3 = async () => {\n    const ethereum = window.ethereum;\n    await ethereum.enable();\n    window.web3.eth.defaultAccount = window.web3.eth.accounts[0];\n    await this.refreshWhenAccountsChanged();\n    await this.updateBalance();\n    await this.setupContracts();\n    await this.getOvrsOwned();\n  };\n\n  setupContracts = async () => {\n    const _dai = window.web3.eth.contract(erc20Abi).at(daiAddress);\n    const _tether = window.web3.eth.contract(erc20Abi).at(tetherAddress);\n    const _usdc = window.web3.eth.contract(erc20Abi).at(usdcAddress);\n    const _tokenBuy = window.web3.eth.contract(tokenBuyAbi).at(tokenBuyAddress);\n    const _ovr = window.web3.eth.contract(erc20Abi).at(ovrAddress);\n    const _ico = window.web3.eth.contract(icoAbi).at(icoAddress);\n    const _ovr721 = window.web3.eth.contract(ovr721Abi).at(ovr721Address);\n    const _icoParticipate = window.web3.eth.contract(icoParticipateAbi).at(icoParticipateAddress);\n\n    this.setState({\n      dai: promisifyAll(_dai),\n      tether: promisifyAll(_tether),\n      usdc: promisifyAll(_usdc),\n      tokenBuy: promisifyAll(_tokenBuy),\n      ovr: promisifyAll(_ovr),\n      ico: promisifyAll(_ico),\n      ovr721: promisifyAll(_ovr721),\n      icoParticipate: promisifyAll(_icoParticipate),\n      setupComplete: true,\n    }, this.updateBalanceInterval);\n\n    await this.getPrices()\n  };\n\n  // Refreshes the page when the metamask account is changed\n  refreshWhenAccountsChanged = () => {\n\t\twindow.ethereum.on('networkChanged', function (networkId) {\n\t\t\tlet web3NetworkVersion = parseInt(window.ethereum.chainId, 16) === config.web3network;\n\t\t\tif( web3NetworkVersion === false ) {\n\t\t\t\tif (this.context && this.context.state.isLoggedIn) {\n\t\t\t\t\t\tthis.context.actions.logoutUser();\n\t\t\t\t\t\tthis.setupWeb3();\n\t\t\t\t} else {\n\t\t\t\t\t\tthis.context.actions.logoutUser();\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n    window.ethereum.on('accountsChanged', (accounts) => {\n      if (this.context.state.isLoggedIn) {\n        this.context.actions.logoutUser();\n        this.setupWeb3();\n      } else {\n        this.context.actions.logoutUser();\n      }\n    });\n  };\n\n  updateBalance = async () => {\n    this.getOvrsOwned()\n  };\n\n  // Checks every half a second if the balance has changed and updates it\n  updateBalanceInterval = async () => {\n    setInterval(this.getOvrsOwned, 5e2)\n  }\n\n  getOvrsOwned = async () => {\n    if (this.state.ovr && this.state.setupComplete && window.web3.eth.defaultAccount) {\n      const ovrsOwned = String(\n        window.web3.fromWei(await this.state.ovr.balanceOfAsync(window.web3.eth.defaultAccount)),\n      );\n      this.setState({ ovrsOwned });\n    }\n  };\n\n  //\n  // Centralized authentication with Metamask\n  //\n\n  handleCentralizedLogin(publicAddress, callback) {\n\t\tsignUpLoginMetamask(publicAddress).then((response) => {\n\t\t\tgetUserNonce(publicAddress).then((response) => {\n\t\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t\t\tlet nonce = response.data.user.nonce;\n\t\t\t\t\t\t\tthis.handleUserSignMessage(publicAddress, nonce, callback);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// dangerNotification(this.props.t('Danger.unable.login.title'), response.data.errors);\n\t\t\t\t\t}\n\t\t\t});\n\t\t});\n  }\n\n  handleUserSignMessage = (publicAddress, nonce, callback) => {\n    return new Promise((resolve, reject) =>\n      window.web3.personal.sign(\n        window.web3.fromUtf8(`I am signing my one-time nonce: ${nonce}`),\n        publicAddress,\n        (err, signature) => {\n          if (err) return reject(err);\n          this.handleAuthenticate(publicAddress, signature, callback);\n        },\n      ),\n    );\n  };\n\n  handleAuthenticate = (publicAddress, signature, callback) => {\n    signIn(publicAddress, signature).then((response) => {\n      if (response.data.result === true) {\n        // Save data in store\n        this.context.actions.loginUser(response.data.token, response.data.user);\n        if (callback) {\n          callback();\n        }\n      } else {\n        dangerNotification(this.props.t('Danger.unable.login.title'), response.data.errors[0].message);\n      }\n    });\n  };\n\n  // Web3 Lands\n\n  redeemLands = async () => {\n\n    const activeLandsIds = await this.state.ico.getActiveLandsAsync();\n    let landsRedeemed = 0;\n    for (let i = 0; i < activeLandsIds.length; i++) {\n      const land = await this.state.ico.landsAsync(activeLandsIds[i]);\n      const auctionTime = await this.state.ico.auctionLandDurationAsync();\n      const now = Math.trunc(Date.now() / 1000);\n      const timePassedInSeconds = now - land[3];\n      const landState = parseInt(land[4]);\n\n      // If this is your land and it hasn't been redeemed already and the auction is done\n      if (landState !== 2 && land[0] === window.web3.eth.defaultAccount && timePassedInSeconds >= auctionTime) {\n        try {\n          await this.state.ico.redeemWonLandAsync(activeLandsIds[i], {\n            gasPrice: window.web3.toWei(300, 'gwei'),\n          });\n          landsRedeemed++;\n        } catch (e) {\n          return dangerNotification(this.props.t('Danger.error.redeem.land.title',{land:activeLandsIds[i]}) , e.message);\n        }\n      }\n    }\n    if (landsRedeemed === 0) {\n      warningNotification(this.props.t('Warning.no.lands.title'),this.props.t('Warning.no.lands.desc'));\n    } else {\n      successNotification(this.props.t('Success.receive.lands.title'),this.props.t('Success.receive.lands.desc'));\n    }\n  };\n\n  redeemSingleLand = async (hexId) => {\n\tconst landId = parseInt(hexId, 16);\n\t\n    try {\n      const tx = await this.state.ico.redeemWonLandAsync(landId, {\n        gasPrice: window.web3.toWei(300, 'gwei'),\n      });\n      await this.waitTx(tx);\n    } catch (e) {\n      return dangerNotification(this.props.t('Danger.error.redeem.land.title',{land:landId}) , e.message);\n    }\n  };\n\n  // Returns true for a successful approval or false otherwise\n  approveErc721Token = async (hexId, isLandId) => {\n\tlet landId = parseInt(hexId, 16);\n\t\n    if (isLandId) {\n      landId = hexId;\n    }\n    const existingApproval = await this.state.ovr721.getApprovedAsync(landId);\n    if (existingApproval === icoAddress) return true;\n    try {\n      const tx = await this.state.ovr721.approveAsync(icoAddress, landId, {\n        gasPrice: window.web3.toWei(300, 'gwei'),\n      });\n      await this.waitTx(tx);\n    } catch (e) {\n      dangerNotification(this.props.t('Danger.error.approving.title'), e.message);\n      return false;\n    }\n    return true;\n  };\n\n  approveOvrTokens = async (toIcoParticipate, token) => {\n    let currentBalance = await token.balanceOfAsync(window.web3.eth.defaultAccount);\n    let currentAllowance = await token.allowanceAsync(window.web3.eth.defaultAccount, toIcoParticipate ? icoParticipateAddress : icoAddress);\n    // Allow all the tokens\n    if (currentBalance.greaterThan(currentAllowance)) {\n      try {\n        const tx = await token.approveAsync(toIcoParticipate ? icoParticipateAddress : icoAddress, currentBalance, {\n          gasPrice: window.web3.toWei(300, 'gwei'),\n        });\n        await this.waitTx(tx);\n      } catch (e) {\n        dangerNotification(this.props.t('Danger.approval.error.title'),this.props.t('Danger.approval.error.desc'));\n        return false;\n      }\n    }\n    return true;\n  };\n\n  buyLand = async (hexId) => {\n    const landId = parseInt(hexId, 16);\n    const tx = await this.state.ico.buyLandAsync(landId, {\n      gasPrice: window.web3.toWei(300, 'gwei'),\n    });\n    await this.waitTx(tx);\n  };\n\n  // To put a land on sale or remove it. Will approve the ERC721 first.\n  // The price can be 0 to give it away for free\n  putLandOnSale = async (hexId, price, onSale) => {\n\tconst landId = parseInt(hexId, 16);\n\t\n    try {\n      const tx = await this.state.ico.putLandOnSaleAsync(landId, price, onSale, {\n        gasPrice: window.web3.toWei(300, 'gwei'),\n      });\n      await this.waitTx(tx);\n    } catch (e) {\n      return dangerNotification(this.props.t('Danger.error.listing.title'), e.message);\n    }\n    successNotification(this.props.t('Success.listing.lands.title'), this.props.t('Success.listing.lands.desc'));\n  };\n\n  setAllNotificationsAsReaded = () => {\n    let notifications_content = this.state.user.notifications.content;\n    notifications_content.readAllNotifications();\n    this.setState({\n      user: {\n        ...this.state.user,\n        notifications: {\n          ...this.state.user.notifications,\n          unreadedCount: 0,\n          content: notifications_content,\n        },\n      },\n    });\n  };\n\n  getOffersToBuyLand = async (hexId) => {\n    const landId = parseInt(hexId, 16);\n    const landOfferIds = await this.state.ico.getLandOffersAsync(landId);\n    let offers = [];\n    const latestGroupCounter = String(await this.state.ico.groupCountersAsync(landId));\n    for (let i = 0; i < landOfferIds.length; i++) {\n      const landOfferId = landOfferIds[i];\n      const offer = await this.state.ico.landOffersAsync(String(landOfferId));\n      // If this offer is not for the most recent group, skip it\n      if (parseInt(offer[2]) != latestGroupCounter) continue;\n      offers.push(offer);\n    }\n    offers = offers.map((offer) => ({\n      id: String(offer[0]),\n      by: offer[1],\n      group: parseInt(offer[2]),\n      landId: String(offer[3]),\n      price: String(window.web3.fromWei(offer[4])),\n      timestamp: String(offer[5]),\n      expirationDate: String(offer[6]),\n      state: String(offer[7]),\n    }));\n    return offers;\n  };\n\n  cancelBuyOffer = async (offerId) => {\n    return this.state.ico.cancelBuyOfferAsync(offerId, {\n      gasPrice: window.web3.toWei(300, 'gwei'),\n    });\n  };\n\n  declineBuyOffer = async (offerId) => {\n    return this.state.ico.respondToBuyOfferAsync(offerId, false, {\n      gasPrice: window.web3.toWei(300, 'gwei'),\n    });\n  };\n\n  acceptBuyOffer = async (offerId) => {\n    return this.state.ico.respondToBuyOfferAsync(offerId, true, {\n      gasPrice: window.web3.toWei(300, 'gwei'),\n    });\n  };\n\n\t/**\n\t * Sets the number of tokens you get per ether and the number of tokens for stablecoins\n\t */\n  getPrices = () => {\n    return new Promise(async resolve => {\n      const perEth = Number(await this.state.tokenBuy.ethPriceAsync());\n      let perUsd = Number(await this.state.tokenBuy.tokensPerUsdAsync());\n      this.setState({\n        perEth,\n        perUsd,\n      }, resolve);\n    })\n  };\n\n\t/**\n\t * To buy OVR ERC20 tokens from the TokenBuy contract.\n\t * When buying with stablecoins, you must first approve them which is done here automatically that's why you can expect to receive 2 transaction notifications from metamask\n\t * @param {String} type The type of payment chosen\n\t */\n  buy = async (tokensToBuy, type) => {\n\n    let user = this.context.state.user;\n    if (config.environment != 'DEVELOPMENT' && user.kycReviewAnswer < 1) { return dangerNotification('Identity verification required', 'To buy OVR token it is required that you pass our KYC. Go to your Profile and Start now the Identity Verification.');}\n    if (tokensToBuy <= 0) return warningNotification(this.props.t('Warning.setup.error.title'), this.props.t('Warning.setup.error.desc'));\n    tokensToBuy = window.web3.toBigNumber(window.web3.toWei(String(tokensToBuy)))\n\n    await this.getPrices()\n    try {\n      switch (type) {\n        case 'eth':\n          const ovrsPerEth = this.state.perEth * this.state.perUsd;\n          const value = String(Math.ceil(tokensToBuy.div(ovrsPerEth)) + 1e6);\n          const tx = await this.state.tokenBuy.buyTokensWithEthAsync(tokensToBuy, {\n            value,\n            gasPrice: window.web3.toWei(300, 'gwei'),\n          });\n          await this.waitTx(tx);\n          break;\n        case 'usdt':\n          await this.buyWithToken(tokensToBuy, this.state.tether, 'usdt');\n          break;\n        case 'usdc':\n          await this.buyWithToken(tokensToBuy, this.state.usdc, 'usdc');\n          break;\n        case 'dai':\n          await this.buyWithToken(tokensToBuy, this.state.dai, 'dai');\n          break;\n        default:\n          warningNotification(this.props.t('Warning.currency.error.title'), this.props.t('Warning.currency.error.desc'));\n          break;\n      }\n      this.getOvrsOwned();\n    } catch (e) {\n      // console.log('Error', e);\n      warningNotification(\n        this.props.t('Warning.buying.error.title'), this.props.t('Warning.buying.error.desc')\n      );\n    }\n  };\n\n  buyWithToken = async (tokensToBuy, token, type) => {\n\n    let currentBalance = await token.balanceOfAsync(window.web3.eth.defaultAccount);\n    let currentAllowance = await token.allowanceAsync(window.web3.eth.defaultAccount, tokenBuyAddress);\n    // Allow all the tokens\n    if (currentBalance.greaterThan(currentAllowance)) {\n      try {\n        const response = await token.approveAsync(tokenBuyAddress, currentBalance);\n        await this.waitTx(response);\n      } catch (e) {\n        return warningNotification(this.props.t('Warning.approving.error.title'), this.props.t('Warning.approving.error.desc'));\n      }\n    }\n    // Check if the user has enough balance to buy those tokens\n    if (currentBalance.lessThan(tokensToBuy)) {\n      return warningNotification(\n\t\tthis.props.t('Not enough tokens'),\n\t\tthis.props.t('Warning.no.tokens.desc', {message: window.web3.fromWei(tokensToBuy)})\n        //`You don't have enough to buy ${window.web3.fromWei(tokensToBuy)} OVR tokens`,\n      );\n    }\n    try {\n      let tx;\n      switch (type) {\n        case 'dai':\n          tx = await this.state.tokenBuy.buyTokensWithDaiAsync(tokensToBuy, {\n            gasPrice: window.web3.toWei(300, 'gwei'),\n          });\n          break;\n        case 'usdt':\n          tx = await this.state.tokenBuy.buyTokensWithUsdtAsync(tokensToBuy, {\n            gasPrice: window.web3.toWei(300, 'gwei'),\n          });\n          break;\n        case 'usdc':\n          tx = await this.state.tokenBuy.buyTokensWithUsdcAsync(tokensToBuy, {\n            gasPrice: window.web3.toWei(300, 'gwei'),\n          });\n          break;\n        default:\n          warningNotification(this.props.t('Warning.currency.error.title'), this.props.t('Warning.currency.error.desc'));\n          break;\n      }\n      await this.waitTxWithCallback(tx, () => {\n        successNotification(this.props.t('Success.receive.ovr.title'), this.props.t('Success.receive.ovr.desc'));\n      });\n    } catch (e) {\n      return warningNotification(this.props.t('Warning.buy.error.title'), this.props.t('Warning.buy.error.desc.token'));\n    }\n  };\n\n  // Type is a number where\n\t// 0 -> eth\n  // 1 -> Dai\n  // 2 -> Usdt\n\t// 3 -> Usdc\n\t// 4 -> OVR\n\tparticipate = async (type, bid, landId) => {\n\t\tlet tx\n\n\t\ttry {\n      await this.getPrices()\n\t\t} catch (e) {\n\t\t\treturn warningNotification(this.props.t('Warning.get.prices.title'), this.props.t('Warning.get.prices.desc')+` ${e.message}`)\n    }\n    bid = window.web3.toBigNumber(String(bid))\n\n\t\ttry {\n      // For ether we send the value instead of the bid\n      let gasPrice = window.web3.toWei('30', 'gwei');\n\t\t\tif (type === 0) {\n        const ovrsPerEth = this.state.perEth * (this.state.perUsd / 2);\n        const value = String(Math.ceil(bid.div(ovrsPerEth)) + 1e6);\n\t\t\t\ttx = this.state.icoParticipate.participateAsync(type, bid, landId, {\n\t\t\t\t\tvalue: value,\n          gasPrice: gasPrice,\n        })\n\t\t\t} else {\n        tx = this.state.icoParticipate.participateAsync(type, bid, landId, {\n          gasPrice: gasPrice,\n        })\n      }\n\t\t\treturn tx\n\t\t} catch (e) {\n\t\t\treturn warningNotification(this.props.t('Warning.buy.error.title'), this.props.t('Warning.buy.error.desc')+ ` ${e.message}`);\n\t\t}\n  };\n  \n  participateMint = async (type, bid, landId) => {\n    let bidInWei = window.web3.toWei(bid)\n    let landIdBase16 = parseInt(landId, 16);\n    let tx = await this.participate(type, bidInWei, landIdBase16);\n    this.setState({lastTransaction: tx});\n    sendPreAuctionStart(landId, bid, tx);\n    this.waitTxWithCallback(tx, () => {\n      sendConfirmAuctionStart(landId, tx)\n    })\n  }\n\n  participateBid = async (type, bid, landId) => {\n    let bidInWei = window.web3.toWei(bid)\n    let landIdBase16 = parseInt(landId, 16);\n    let tx = await this.participate(type, bidInWei, landIdBase16);\n    this.setState({lastTransaction: tx});\n    //sendPreAuctionBid(landId, bid, tx);\n    this.waitTxWithCallback(tx, () => {\n      //sendAuctionBidConfirm(landId, bid)\n    })\n  }\n\n  participateBuyOffer = async (type, proposedValue, expirationDate, landId) => {\n    // TODO all the centralized part \n    // TODO double check behavior with different contract\n    let bidInWei = window.web3.toWei(proposedValue)\n    let landIdBase16 = parseInt(landId, 16);\n    // console.log('bidInWei', bidInWei)\n    // console.log('landIdBase16', landIdBase16)\n    // console.log('expirationDate', expirationDate)\n    const tx = await this.state.ico.offerToBuyLandAsync(landIdBase16, bidInWei, expirationDate, {\n      gasPrice: window.web3.toWei(300, 'gwei'),\n    });\n    await this.waitTx(tx);\n  }\n\n\n\n  render() {\n    return (\n      <Web3Context.Provider\n        value={{\n          state: this.state,\n          actions: {\n            getOvrsOwned: this.getOvrsOwned,\n            waitTx: this.waitTx,\n            waitTxWithCallback: this.waitTxWithCallback,\n\t\t\t\t\t\tsetupWeb3: this.setupWeb3,\n            redeemLands: this.redeemLands,\n            putLandOnSale: this.putLandOnSale,\n            approveErc721Token: this.approveErc721Token,\n            approveOvrTokens: this.approveOvrTokens,\n            buyLand: this.buyLand,\n            getOffersToBuyLand: this.getOffersToBuyLand,\n            cancelBuyOffer: this.cancelBuyOffer,\n            declineBuyOffer: this.declineBuyOffer,\n            acceptBuyOffer: this.acceptBuyOffer,\n            redeemSingleLand: this.redeemSingleLand,\n            buyWithToken: this.buyWithToken,\n            buy: this.buy,\n            getPrices: this.getPrices,\n            participate: this.participate,\n            participateMint: this.participateMint,\n            participateBid: this.participateBid,\n            participateBuyOffer: this.participateBuyOffer\n          },\n        }}\n      >\n        {this.props.children}\n      </Web3Context.Provider>\n    );\n  }\n}\n\nexport function withWeb3Context(Component) {\n  class ComponentWithContext extends React.Component {\n    render() {\n      return (\n        <Web3Context.Consumer>\n          {(value) => <Component {...this.props} web3Provider={{ ...value }} />}\n        </Web3Context.Consumer>\n      );\n    }\n  }\n\n  return ComponentWithContext;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nconst HexButton = ({ className, onClick, url, text, target, ariaControls, ariaHaspopup, hexRef }) => {\n\tif (target) {\n\t\treturn (\n\t\t\t<a href={url} target={target} className={`HexButton ${className}`} onClick={onClick}>\n\t\t\t\t{text}\n\t\t\t</a>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={url}\n\t\t\t\tref={hexRef}\n\t\t\t\ttarget={target}\n\t\t\t\taria-controls={ariaControls}\n\t\t\t\taria-haspopup={ariaHaspopup}\n\t\t\t\tclassName={`HexButton ${className}`}\n\t\t\t\tonClick={onClick}\n\t\t\t\tautoFocus\n\t\t\t>\n\t\t\t\t{text}\n\t\t\t</Link>\n\t\t);\n\t}\n};\nHexButton.propTypes = {\n\thexRef: PropTypes.object,\n\tariaControls: PropTypes.string,\n\tariaHaspopup: PropTypes.string,\n\tclassName: PropTypes.string,\n\ttarget: PropTypes.string,\n\tonClick: PropTypes.func,\n\turl: PropTypes.string,\n\ttext: PropTypes.string,\n};\nexport default HexButton;\n","import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport config from '../../lib/config';\nimport { warningNotification, dangerNotification } from '../../lib/notifications';\nimport PropTypes from 'prop-types';\nimport { auctionBid } from '../../lib/api';\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Help from '@material-ui/icons/Help';\nimport { useTranslation } from 'react-i18next'\n\n\nconst BidOverlay = (props) => {\n\tconst { t, i18n } = useTranslation()\n\tconst { participateBid, approveOvrTokens } = props.web3Provider.actions;\n\tconst { lastTransaction, ovr, dai, tether, usdc, ico, perEth, perUsd, setupComplete } = props.web3Provider.state;\n\tconst { hexId } = props.land;\n\tconst { marketStatus } = props.land;\n\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst [nextBid, setNextBid] = useState(10);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [metamaskMessage, setMetamaskMessage] = useState(t('MetamaskMessage.set.waiting'));\n\tconst [bid, setBid] = useState(0);\n\tconst [currentBid, setCurrentBid] = useState(props.currentBid);\n\tconst [bidProjection, setBidProjection] = useState(0);\n\tconst [bidProjectionCurrency, setBidProjectionCurrency] = useState('ovr');\n\n\tconst [showOverlay, setShowOverlay] = useState(false);\n\tconst [classShowOverlay, setClassShowOverlay] = useState(false);\n\n\tconst anchorRef = React.useRef(null);\n\tconst [open, setOpen] = React.useState(false);\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveBidOverlay(false);\n\t\t// Bring the step at 0\n\t\tsetTimeout(function () {\n\t\t\tsetOpen(false);\n\t\t\tsetActiveStep(0);\n\t\t\tsetBid(0);\n\t\t\tsetBidProjectionCurrency('ovr');\n\t\t\tsetBidValid(false);\n\t\t}, 500);\n\t}\n\n\t// Listener for fadein and fadeout animation of overlay\n\tuseEffect(() => {\n\t\tif (props.mapProvider.state.activeBidOverlay) {\n\t\t\tsetShowOverlay(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassShowOverlay(true);\n\t\t\t}, 50);\n\t\t} else {\n\t\t\tsetClassShowOverlay(false);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowOverlay(false);\n\t\t\t}, 500);\n\t\t}\n\t}, [props.mapProvider.state.activeBidOverlay]);\n\n\tuseEffect(() => {\n\t\tupdateBidProjectionCurrency(bidProjectionCurrency);\n\t}, [bid]);\n\n\t// Init helpers web3\n\tuseEffect(() => {\n\t\tif (setupComplete) setNextBidSelectedLand();\n\t}, [setupComplete, ico, ovr, hexId, marketStatus, props.currentBid]);\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete || !ico || !ovr) {\n\t\t\treturn warningNotification(t('Warning.metamask.not.detected.title'), t('Warning.metamask.not.detected.desc'));\n\t\t}\n\t\t// const landId = parseInt(hexId, 16);\n\t\t// const land = await ico.landsAsync(landId);\n\t\t// const currentBid = String(window.web3.fromWei(land[2]));\n\n\t\tsetCurrentBid(props.currentBid);\n\t\tsetNextBid(props.currentBid * 2);\n\t};\n\n\t// Toggle bidding menu of selection currencies\n\tconst handleClose = (event) => {\n\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\treturn;\n\t\t}\n\t\tsetOpen(false);\n\t};\n\n\tconst handleClick = () => {\n\t\tsetOpen(true);\n\t};\n\n\t// Update bid value in state\n\tconst updateNewBidValue = (myBid) => {\n\t\tif (myBid >= nextBid) {\n\t\t\tsetBidValid(true);\n\t\t} else {\n\t\t\tsetBidValid(false);\n\t\t}\n\t\tsetBid(myBid);\n\t};\n\n\t// Helper used to check if the user is logged in\n\tconst checkUserLoggedIn = () => {\n\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\tsetActiveStep(0);\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc'));\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\t// Change the bid projection on selection\n\tconst updateBidProjectionCurrency = (type) => {\n\t\tswitch (type) {\n\t\t\tcase 'ovr':\n\t\t\t\tsetBidProjection(bid);\n\t\t\t\tsetBidProjectionCurrency('ovr');\n\t\t\t\tbreak;\n\t\t\tcase 'eth':\n\t\t\t\tsetBidProjection(((1 / perEth) * (bid / 10) * 2).toFixed(4));\n\t\t\t\tsetBidProjectionCurrency('eth');\n\t\t\t\tbreak;\n\t\t\tcase 'usdt':\n\t\t\t\tsetBidProjection((bid / 10) * 2);\n\t\t\t\tsetBidProjectionCurrency('usdt');\n\t\t\t\tbreak;\n\t\t\tcase 'usdc':\n\t\t\t\tsetBidProjection((bid / 10) * 2);\n\t\t\t\tsetBidProjectionCurrency('usdc');\n\t\t\t\tbreak;\n\t\t\tcase 'dai':\n\t\t\t\tsetBidProjection((bid / 10) * 2);\n\t\t\t\tsetBidProjectionCurrency('dai');\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst participateInAuction = async (type) => {\n\t\tif (bid < nextBid)\n\t\t\treturn warningNotification(t('Warning.invalid.bid.title'), t('Warning.invalid.bid.desc'));\n\t\tif (!checkUserLoggedIn()) return;\n\n\t\t// Centralized\n\t\tsetActiveStep(2);\n\t\tauctionBid(hexId, bid)\n\t\t.then((response) => {\n\t\t\tif (response.data.result === true) {\n\t\t\t\tconsole.log('sendConfirmAuctionStart - response true', response.data);\n\t\t\t} else {\n\t\t\t\t// console.log('responseFalse');\n\t\t\t\tconsole.log('sendConfirmAuctionStart - response false', response.data.errors[0].message);\n\t\t\t\t// setActiveStep(0);\n\t\t\t}\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\n\t\t// Decentralized\n\t\t// setActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t// try {\n\t\t// \tswitch (type) {\n\t\t// \t\tcase 'eth':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.eth'));\n\t\t// \t\t\tawait participateBid(0, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'dai':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.dai'));\n\t\t// \t\t\tawait approveOvrTokens(true, dai);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.dai'));\n\t\t// \t\t\tawait participateBid(1, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'usdt':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdt'));\n\t\t// \t\t\tawait approveOvrTokens(true, tether);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.usdt'));\n\t\t// \t\t\tawait participateBid(2, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'usdc':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdc'));\n\t\t// \t\t\tawait approveOvrTokens(true, usdc);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.usdc'));\n\t\t// \t\t\tawait participateBid(3, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'ovr':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.ovr'));\n\t\t// \t\t\tawait approveOvrTokens(true, ovr);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.ovr'));\n\t\t// \t\t\tawait participateBid(4, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t}\n\t\t// } catch (e) {\n\t\t// \tsetOpen(false);\n\t\t// \tsetActiveStep(0);\n\t\t// \treturn dangerNotification(t('Danger.error.processing.title'), e.message);\n\t\t// }\n\t\t// setActiveStep(2);\n\t};\n\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BidOverlay.place.bid')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__currency_cont\">\n\t\t\t\t\t\t\t\t<div className=\"c-currency-selector_cont\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'ovr' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('ovr')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.ovr.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'eth' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('eth')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.eth.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'dai' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('dai')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.dai.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'usdt' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('usdt')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.usdt.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'usdc' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('usdc')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.usdc.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__bids_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BidOverlay.current.bid')}</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BidOverlay.min.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={nextBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__your_bid\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BidOverlay.your.bid')}</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tconst eventBid = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\tif (eventBid > 0) updateNewBidValue(eventBid);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__expense_projection\">\n\t\t\t\t\t\t\t\t{bid >= 10 &&\n\t\t\t\t\t\t\t\t\tprops.userProvider.state.isLoggedIn &&\n\t\t\t\t\t\t\t\t\t'Bid using ' + bidProjection + ' ' + bidProjectionCurrency}\n\t\t\t\t\t\t\t\t{bid >= 10 && props.userProvider.state.isLoggedIn && (\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('BidOverlay.use.direct')}\n\t\t\t\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('BidOverlay.click.to.buy')}\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\taria-label=\"info\"\n\t\t\t\t\t\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<a href={'https://www.ovr.ai'} rel=\"noopener noreferrer\" target={'_blank'}>\n\t\t\t\t\t\t\t\t\t\t\t<Help className=\"Help\" />\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('BidOverlay.place.bid.label')}\n\t\t\t\t\t\t\t\t\tclassName={`--orange ${bidValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tariaControls={open ? 'mint-fade-menu' : undefined}\n\t\t\t\t\t\t\t\t\tariaHaspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={() => participateInAuction(bidProjectionCurrency)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BidOverlay.bidding.land')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BidOverlay.current.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BidOverlay.your.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__congrat_title\">\n\t\t\t\t\t\t\t\t<span>{t('Generic.congrats.label')}</span>\n\t\t\t\t\t\t\t\t<br></br>BidOverlay.request.sent\n\t\t\t\t\t\t\t\t<div className=\"Overlay__etherscan_link\">\n\t\t\t\t\t\t\t\t\t<a href={config.apis.etherscan + '/tx/' + lastTransaction} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t{t('BidOverlay.view.status')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Your bid</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__close-button_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.close.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!showOverlay) return null;\n\n\treturn (\n\t\t<div className={`OverlayContainer ${classShowOverlay ? '--js-show' : ''}`}>\n\t\t\t<div className=\"RightOverlay__backpanel\"> </div>\n\t\t\t<div\n\t\t\t\tkey=\"bid-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`RightOverlay BidOverlay NormalInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className=\"Icon Overlay__close_button\" onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#c0c1c0\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nBidOverlay.propTypes = {\n\tcurrentBid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withUserContext(withWeb3Context(withMapContext(BidOverlay)));\n","import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport config from '../../lib/config';\nimport { warningNotification, dangerNotification } from '../../lib/notifications';\nimport PropTypes from 'prop-types';\nimport { auctionCreate } from '../../lib/api';\n\n\n\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport Help from '@material-ui/icons/Help';\nimport { useTranslation } from 'react-i18next'\n\n\nconst MintOverlay = (props) => {\n\tconst { t, i18n } = useTranslation()\n\n\tconst { participateMint, approveOvrTokens } = props.web3Provider.actions;\n\tconst { lastTransaction, ovr, dai, tether, usdc, ico, perEth, perUsd, setupComplete } = props.web3Provider.state;\n\tconst { hexId } = props.land;\n\tconst { marketStatus } = props.land;\n\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst [nextBid, setNextBid] = useState(10);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [metamaskMessage, setMetamaskMessage] = useState(t('MetamaskMessage.set.waiting'));\n\tconst [bid, setBid] = useState(0);\n\tconst [bidProjection, setBidProjection] = useState(0);\n\tconst [bidProjectionCurrency, setBidProjectionCurrency] = useState('ovr');\n\tconst [showOverlay, setShowOverlay] = useState(false);\n\tconst [classShowOverlay, setClassShowOverlay] = useState(false);\n\n\tconst anchorRef = React.useRef(null);\n\tconst [open, setOpen] = React.useState(false);\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveMintOverlay(false);\n\t\tsetTimeout(() => {\n\t\t\tsetOpen(false);\n\t\t\tsetActiveStep(0);\n\t\t\tsetBid(0);\n\t\t\tsetBidProjectionCurrency('ovr');\n\t\t\tsetBidValid(false);\n\t\t}, 500);\n\t}\n\n\t// Listener for fadein and fadeout animation of overlay\n\tuseEffect(() => {\n\t\tif (props.mapProvider.state.activeMintOverlay) {\n\t\t\tsetShowOverlay(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassShowOverlay(true);\n\t\t\t}, 50);\n\t\t} else {\n\t\t\tsetClassShowOverlay(false);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowOverlay(false);\n\t\t\t}, 500);\n\t\t}\n\t}, [props.mapProvider.state.activeMintOverlay]);\n\n\tuseEffect(() => {\n\t\tupdateBidProjectionCurrency(bidProjectionCurrency);\n\t}, [bid]);\n\n\t// Init helpers web3\n\tuseEffect(() => {\n\t\tif (setupComplete) setNextBidSelectedLand();\n\t}, [setupComplete, ico, ovr, hexId, marketStatus]);\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete || !ico || !ovr) {\n\t\t\treturn warningNotification(t('Warning.metamask.not.detected.title'), t('Warning.metamask.not.detected.desc'));\n\t\t}\n\t\tconst initialBid = String(await ico.initialLandBidAsync());\n\t\tlet nextPayment = window.web3.fromWei(initialBid);\n\t\tsetNextBid(nextPayment);\n\t};\n\n\t// Toggle bidding menu of selection currencies\n\tconst handleClose = (event) => {\n\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\treturn;\n\t\t}\n\t\tsetOpen(false);\n\t};\n\tconst handleClick = () => {\n\t\tsetOpen(true);\n\t};\n\n\t// Update bid value in state\n\tconst updateNewBidValue = (myBid) => {\n\t\tif (myBid >= nextBid && myBid >= 10) {\n\t\t\tsetBidValid(true);\n\t\t} else {\n\t\t\tsetBidValid(false);\n\t\t}\n\t\tsetBid(myBid);\n\t};\n\n\t// Helper used to check if the user is logged in\n\tconst checkUserLoggedIn = () => {\n\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\tsetActiveStep(0);\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc'));\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\t// Change the bid projection on selection\n\tconst updateBidProjectionCurrency = (type) => {\n\t\tswitch (type) {\n\t\t\tcase 'ovr':\n\t\t\t\tsetBidProjection(bid);\n\t\t\t\tsetBidProjectionCurrency('ovr');\n\t\t\t\tbreak;\n\t\t\tcase 'eth':\n\t\t\t\tsetBidProjection(((1 / perEth) * (bid / 10) * 2).toFixed(4));\n\t\t\t\tsetBidProjectionCurrency('eth');\n\t\t\t\tbreak;\n\t\t\tcase 'usdt':\n\t\t\t\tsetBidProjection((bid / 10) * 2);\n\t\t\t\tsetBidProjectionCurrency('usdt');\n\t\t\t\tbreak;\n\t\t\tcase 'usdc':\n\t\t\t\tsetBidProjection((bid / 10) * 2);\n\t\t\t\tsetBidProjectionCurrency('usdc');\n\t\t\t\tbreak;\n\t\t\tcase 'dai':\n\t\t\t\tsetBidProjection((bid / 10) * 2);\n\t\t\t\tsetBidProjectionCurrency('dai');\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst participateInAuction = async (type) => {\n\t\tif (bid < nextBid)\n\t\t\treturn warningNotification(t('Warning.invalid.bid.title'), t('Warning.invalid.bid.desc'));\n\t\tif (!checkUserLoggedIn()) return;\n\n\t\t// Centralized\n\t\tsetActiveStep(2);\n\t\tauctionCreate(hexId, bid)\n\t\t.then((response) => {\n\t\t\tif (response.data.result === true) {\n\t\t\t\tconsole.log('sendConfirmAuctionStart - response true', response.data);\n\t\t\t} else {\n\t\t\t\t// console.log('responseFalse');\n\t\t\t\tconsole.log('sendConfirmAuctionStart - response false', response.data.errors[0].message);\n\t\t\t\t// setActiveStep(0);\n\t\t\t}\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\n\n\t\t// Decentralized\n\n\t\t// setActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t// try {\n\t\t// \tswitch (type) {\n\t\t// \t\tcase 'ovr':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.ovr'));\n\t\t// \t\t\tawait approveOvrTokens(true, ovr);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.ovr'));\n\t\t// \t\t\tawait participateMint(4, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'eth':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.eth'));\n\t\t// \t\t\tawait participateMint(0, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'usdt':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdt'));\n\t\t// \t\t\tawait approveOvrTokens(true, tether);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.usdt'));\n\t\t// \t\t\tawait participateMint(2, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'usdc':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdc'));\n\t\t// \t\t\tawait approveOvrTokens(true, usdc);\n\t\t// \t\t\tsetMetamaskMessage(t('\"MetamaskMessage.set.participate.usdc'));\n\t\t// \t\t\tawait participateMint(3, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'dai':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.dai'));\n\t\t// \t\t\tawait approveOvrTokens(true, dai);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.dai'));\n\t\t// \t\t\tawait participateMint(1, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t}\n\t\t// } catch (e) {\n\t\t// \tsetOpen(false);\n\t\t// \tsetActiveStep(0);\n\t\t// \treturn dangerNotification(t('Danger.error.processing.title'), e.message);\n\t\t// }\n\t\t// setActiveStep(2);\n\t};\n\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('MintOverlay.start.auction')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__currency_cont\">\n\t\t\t\t\t\t\t\t<div className=\"c-currency-selector_cont\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'ovr' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('ovr')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.ovr.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'eth' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('eth')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.eth.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'dai' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('dai')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.dai.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'usdt' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('usdt')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.usdt.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'usdc' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('usdc')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.usdc.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__bids_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('MintOverlay.min.bid')}</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={10}></ValueCounter>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid my-bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('MintOverlay.your.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst eventBid = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tif (eventBid > 0) updateNewBidValue(eventBid);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__expense_projection\">\n\t\t\t\t\t\t\t\t\t{bid >= 10 &&\n\t\t\t\t\t\t\t\t\t\tprops.userProvider.state.isLoggedIn &&\n\t\t\t\t\t\t\t\t\t\t'Bid using ' + bidProjection + ' ' + bidProjectionCurrency.toUpperCase()}\n\t\t\t\t\t\t\t\t\t{bid >= 10 && props.userProvider.state.isLoggedIn && (\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('MintOverlay.use.direct')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('MintOverlay.click.to.buy')}\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"info\"\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<a href={'/buy-tokens'} rel=\"noopener noreferrer\" target={'_blank'}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Help className=\"Help\" />\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('MintOverlay.place.bid')}\n\t\t\t\t\t\t\t\t\tclassName={`--orange ${bidValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tariaControls={open ? 'mint-fade-menu' : undefined}\n\t\t\t\t\t\t\t\t\tariaHaspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={() => participateInAuction(bidProjectionCurrency)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('MintOverlay.bidding.land')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('MintOverlay.your.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__congrat_title\">\n\t\t\t\t\t\t\t\t<span>{t('Generic.congrats.label')}</span>\n\t\t\t\t\t\t\t\t<br></br>{t('MintOverlay.about.to.start')}\n\t\t\t\t\t\t\t\t<div className=\"Overlay__etherscan_link\">\n\t\t\t\t\t\t\t\t\t<a href={config.apis.etherscan + '/tx/' + lastTransaction} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t{t('MintOverlay.view.status')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Current bid</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__close-button_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.close.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!showOverlay) return null;\n\n\treturn (\n\t\t<div className={`OverlayContainer ${classShowOverlay ? '--js-show' : ''}`}>\n\t\t\t<div className=\"RightOverlay__backpanel\"> </div>\n\t\t\t<div\n\t\t\t\tkey=\"mint-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`RightOverlay MintOverlay NormalInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className=\"Icon Overlay__close_button\" onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#c0c1c0\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nMintOverlay.propTypes = {\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withUserContext(withWeb3Context(withMapContext(MintOverlay)));\n","import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport { networkError, warningNotification, dangerNotification } from '../../lib/notifications';\nimport { sellLand } from '../../lib/api';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next'\n\n\nconst SellOverlay = (props) => {\n\tconst { t, i18n } = useTranslation()\n\tconst { approveErc721Token, putLandOnSale } = props.web3Provider.actions;\n\tconst { ico, setupComplete } = props.web3Provider.state;\n\n\tconst { hexId } = props.land;\n\tconst { marketStatus } = props.land;\n\n\tconst [boughtAt, setBoughtAt] = useState(props.currentBid);\n\tconst [sellWorth, setNewSellWorth] = useState(props.currentBid);\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [metamaskMessage, setMetamaskMessage] = useState(t('MetamaskMessage.set.waiting'));\n\tconst [showOverlay, setShowOverlay] = useState(false);\n\tconst [classShowOverlay, setClassShowOverlay] = useState(false);\n\n\t// Listener for fadein and fadeout animation of overlay\n\tuseEffect(() => {\n\t\tif (props.mapProvider.state.activeSellOverlay) {\n\t\t\tsetShowOverlay(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassShowOverlay(true);\n\t\t\t}, 50);\n\t\t} else {\n\t\t\tsetClassShowOverlay(false);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowOverlay(false);\n\t\t\t}, 500);\n\t\t}\n\t}, [props.mapProvider.state.activeSellOverlay]);\n\n\t// Init helpers web3\n\tuseEffect(() => {\n\t\tif (setupComplete) setNextBidSelectedLand();\n\t}, [setupComplete, ico, hexId, marketStatus]);\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete || !ico) {\n\t\t\treturn warningNotification(t('Warning.metamask.not.detected.title'), t('Warning.metamask.not.detected.desc'));\n\t\t}\n\t\tconst landId = parseInt(hexId, 16);\n\t\tconst land = await ico.landsAsync(landId);\n\t\tconst paid = String(window.web3.fromWei(land[2]));\n\t\tsetBoughtAt(paid);\n\t};\n\n\t// Update bid value in state\n\tconst updateNewSellWorth = (sellAt) => {\n\t\tif (sellAt === '') {\n\t\t\tsetBidValid(false);\n\t\t} else {\n\t\t\tsetBidValid(true);\n\t\t}\n\t\tsetNewSellWorth(sellAt);\n\t};\n\n\t// Helper used to check if the user is logged in\n\tconst checkUserLoggedIn = () => {\n\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\tsetActiveStep(0);\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc'));\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\t// Manages actions of overlay according to step number\n\tconst handleNext = async () => {\n\t\tif (activeStep + 1 === 1) {\n\t\t\tif (checkUserLoggedIn() === false) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\ttry {\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.erc721'));\n\t\t\t\t\tawait approveErc721Token(hexId);\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.waiting'));\n\t\t\t\t\tawait putLandOnSale(hexId, String(window.web3.toWei(sellWorth)), true);\n\t\t\t\t\t// TODO Centralized flux\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn dangerNotification(t('Danger.error.processing.title'), e.message);\n\t\t\t\t}\n\t\t\t\tsendSell();\n\t\t\t}\n\t\t} else {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t}\n\t};\n\n\t// Call centralized API functions\n\tfunction sendSell() {\n\t\tsellLand(props.land.key, sellWorth)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t// console.log('responseTrue', response.data);\n\t\t\t\t\tprops.reloadLandStatefromApi(props.land.key);\n\t\t\t\t\tsetActiveStep(2);\n\t\t\t\t} else {\n\t\t\t\t\t// response.data.errors[0].message\n\t\t\t\t\t// console.log('responseFalse');\n\t\t\t\t\tdangerNotification(t('Danger.unable.place.sell.title'), response.data.errors[0].message);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveSellOverlay(false);\n\t\t// Bring the step at 0\n\t\tsetTimeout(function () {\n\t\t\tsetActiveStep(0);\n\t\t\tsetNewSellWorth('');\n\t\t}, 200);\n\t}\n\n\t// Show content of overlay according to step number\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('SellOverlay.create.offer')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bids_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('SellOverlay.bought.at')}</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={boughtAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid my-bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Sell at</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSellWorth(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('SellOverlay.place.sell')}\n\t\t\t\t\t\t\t\t\tclassName={`--purple ${bidValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tonClick={handleNext}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('SellOverlay.create.offer')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('SellOverlay.bought.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={boughtAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('SellOverlay.selling.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={sellWorth}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__congrat_title\">\n\t\t\t\t\t\t\t\t<span>{t('Generic.congrats.label')}</span>\n\t\t\t\t\t\t\t\t<br></br>{t('SellOverlay.sell.placed')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('SellOverlay.bought.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={boughtAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('SellOverlay.selling.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={sellWorth}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__close-button_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.close.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!showOverlay) return null;\n\n\treturn (\n\t\t<div className={`OverlayContainer ${classShowOverlay ? '--js-show' : ''}`}>\n\t\t\t<div className=\"RightOverlay__backpanel\"> </div>\n\t\t\t<div\n\t\t\t\tkey=\"sell-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`RightOverlay SellOverlay NormalInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className=\"Icon Overlay__close_button\" onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#c0c1c0\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nSellOverlay.propTypes = {\n\tprops: PropTypes.object,\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withUserContext(withWeb3Context(withMapContext(SellOverlay)));\n","import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport config from '../../lib/config';\nimport { warningNotification, dangerNotification } from '../../lib/notifications';\nimport PropTypes from 'prop-types';\n\nimport MomentUtils from '@date-io/moment';\nimport { MuiPickersUtilsProvider, DateTimePicker } from '@material-ui/pickers';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuList from '@material-ui/core/MenuList';\nimport { useTranslation } from 'react-i18next'\n\nconst today = new Date();\nconst tomorrow = new Date(today);\ntomorrow.setDate(tomorrow.getDate() + 1);\n\nconst BuyOfferOverlay = (props) => {\n\tconst { t, i18n } = useTranslation()\n\tconst { approveOvrTokens, participateBuyOffer } = props.web3Provider.actions;\n\tconst { lastTransaction, ovr, dai, tether, usdc, ico, setupComplete } = props.web3Provider.state;\n\tconst { hexId } = props.land;\n\tconst { marketStatus } = props.land;\n\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst [proposedValue, setProposedValue] = useState('');\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [expirationDate, setExpirationDate] = useState(tomorrow);\n\tconst [metamaskMessage, setMetamaskMessage] = useState(t('MetamaskMessage.set.waiting'));\n\tconst [solidityExpirationDate, setSolidityExpirationDate] = useState(0);\n\tconst [showOverlay, setShowOverlay] = useState(false);\n\tconst [classShowOverlay, setClassShowOverlay] = useState(false);\n\n\tconst anchorRef = React.useRef(null);\n\tconst [open, setOpen] = React.useState(false);\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveBuyOfferOverlay(false);\n\t\t// Bring the step at 0\n\t\tsetTimeout(function () {\n\t\t\tsetOpen(false);\n\t\t\tsetActiveStep(0);\n\t\t\tsetProposedValue('');\n\t\t}, 500);\n\t}\n\n\t// Listener for fadein and fadeout animation of overlay\n\tuseEffect(() => {\n\t\tif (props.mapProvider.state.activeBuyOfferOverlay) {\n\t\t\tsetShowOverlay(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassShowOverlay(true);\n\t\t\t}, 50);\n\t\t} else {\n\t\t\tsetClassShowOverlay(false);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowOverlay(false);\n\t\t\t}, 500);\n\t\t}\n\t}, [props.mapProvider.state.activeBuyOfferOverlay]);\n\n\t// Init helpers web3\n\tuseEffect(() => {\n\t\tif (setupComplete) setNextBidSelectedLand();\n\t}, [setupComplete, ico, ovr, hexId, marketStatus]);\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete || !ico || !ovr) {\n\t\t\treturn warningNotification(t('Warning.metamask.not.detected.title'), t('Warning.metamask.not.detected.desc'));\n\t\t}\n\t};\n\n\t// Toggle bidding menu of selection currencies\n\tconst handleClose = (event) => {\n\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\treturn;\n\t\t}\n\t\tsetOpen(false);\n\t};\n\n\tconst handleClick = () => {\n\t\tsetOpen(true);\n\t};\n\n\t// Update bid value in state\n\tconst updateProposedValue = (val) => {\n\t\tif (val != '') {\n\t\t\tsetBidValid(true);\n\t\t} else {\n\t\t\tsetBidValid(false);\n\t\t}\n\t\tsetProposedValue(val);\n\t};\n\n\t// Helper used to check if the user is logged in\n\tconst checkUserLoggedIn = () => {\n\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\tsetActiveStep(0);\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc'));\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tconst participateInAuction = async (type) => {\n\t\tif (!checkUserLoggedIn()) return;\n\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\ttry {\n\t\t\tconst now = Math.trunc(Date.now() / 1000);\n\t\t\tif (now >= solidityExpirationDate) {\n\t\t\t\twarningNotification(t('Warining.date.error'), t('Warning.future.notify'));\n\t\t\t\tsetActiveStep(0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tswitch (type) {\n\t\t\t\tcase 'ovr':\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.ovr'));\n\t\t\t\t\tawait approveOvrTokens(true, ovr);\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.buy.ovr'));\n\t\t\t\t\tawait participateBuyOffer(4, proposedValue, solidityExpirationDate, hexId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'eth':\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.buy.eth'));\n\t\t\t\t\tawait participateBuyOffer(0, proposedValue, solidityExpirationDate, hexId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'usdt':\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdt'));\n\t\t\t\t\tawait approveOvrTokens(true, tether);\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.buy.usct'));\n\t\t\t\t\tawait participateBuyOffer(2, proposedValue, solidityExpirationDate, hexId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'usdc':\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdc'));\n\t\t\t\t\tawait approveOvrTokens(true, usdc);\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.buy.usdc'));\n\t\t\t\t\tawait participateBuyOffer(3, proposedValue, solidityExpirationDate, hexId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dai':\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.dai'));\n\t\t\t\t\tawait approveOvrTokens(true, dai);\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.buy.dai'));\n\t\t\t\t\tawait participateBuyOffer(1, proposedValue, solidityExpirationDate, hexId);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetOpen(false);\n\t\t\tsetActiveStep(0);\n\t\t\treturn dangerNotification(t('Danger.error.processing.title'), e.message);\n\t\t}\n\t\tsetActiveStep(2);\n\t};\n\n\tfunction handleDateChange(e) {\n\t\tsetSolidityExpirationDate(Math.trunc(e / 1000));\n\t\tsetExpirationDate(e);\n\t}\n\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BuyOfferOverlay.place.offer')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__lower__cont\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOverlay.current.value')}</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={props.currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__input\">\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\t\tlabel={t('BuyOfferOverlay.buy.at.label')}\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tvalue={proposedValue}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tconst propVal = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\tif (propVal > 0) updateProposedValue(propVal);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\n\t\t\t\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t\t\t\tformat=\"DD-MM-YYYY HH:mm\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"date-picker-inline\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('BuyOfferOverlay.expires.at.label')}\n\t\t\t\t\t\t\t\t\t\t\tvalue={expirationDate}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleDateChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\n\t\t\t\t\t\t\t\t\t{({ TransitionProps, placement }) => (\n\t\t\t\t\t\t\t\t\t\t<Grow\n\t\t\t\t\t\t\t\t\t\t\t{...TransitionProps}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t\t\t\t\t\t<ClickAwayListener onClickAway={handleClose}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuList autoFocusItem={open} id=\"mint-fade-menu\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparticipateInAuction('ovr');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu --cons-option\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.buy.using.ovr')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparticipateInAuction('eth');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.buy.using.eth')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparticipateInAuction('dai');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.buy.using.dai')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparticipateInAuction('usdt');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.buy.using.usdt')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparticipateInAuction('usdc');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.buy.using.usdc')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t\t\t\t\t\t\t</ClickAwayListener>\n\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t</Grow>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Popper>\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\thexRef={anchorRef}\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('BuyOfferOverlay.place.buy')}\n\t\t\t\t\t\t\t\t\tclassName={`--orange ${bidValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tariaControls={open ? 'mint-fade-menu' : undefined}\n\t\t\t\t\t\t\t\t\tariaHaspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BuyOfferOverlay.place.offer')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOverlay.current.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={props.currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOverlay.your.offer')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={proposedValue}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__congrat_title\">\n\t\t\t\t\t\t\t\t<span>{t('Generic.congrats.label')}</span>\n\t\t\t\t\t\t\t\t<br></br>{t('BuyOfferOverlay.offer.sent')}\n\t\t\t\t\t\t\t\t<div className=\"Overlay__etherscan_link\">\n\t\t\t\t\t\t\t\t\t<a href={config.apis.etherscan + '/tx/' + lastTransaction} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.view.status')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOverlay.your.offer')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={proposedValue}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__close-button_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Close\" className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!showOverlay) return null;\n\n\treturn (\n\t\t<div className={`OverlayContainer ${classShowOverlay ? '--js-show' : ''}`}>\n\t\t\t<div className=\"RightOverlay__backpanel\"> </div>\n\t\t\t<div\n\t\t\t\tkey=\"bid-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`RightOverlay BuyOfferOverlay NormalInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className=\"Icon Overlay__close_button\" onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#c0c1c0\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nBuyOfferOverlay.propTypes = {\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withUserContext(withWeb3Context(withMapContext(BuyOfferOverlay)));\n","import React, { Component } from 'react';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport HexButton from '../HexButton/HexButton';\nimport Modal from '@material-ui/core/Modal';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\n\nimport { deleteBuyOffer, hitBuyOffer } from '../../lib/api';\nimport { networkError, dangerNotification, successNotification, warningNotification } from '../../lib/notifications';\nimport './style.scss';\nimport { Trans, useTranslation } from 'react-i18next'\n\nexport class BuyOfferOrder extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst pathHexId = window.location.pathname.split('/')[3];\n\t\tthis.state = {\n\t\t\topenModal: false,\n\t\t\tofferId: this.props.offer.id,\n\t\t\topenDeclineBuyModal: false,\n\t\t\tmetamaskMessage: '',\n\t\t\ttransactionInProcess: false,\n\t\t\thexId: pathHexId && pathHexId.length === 15 ? pathHexId : this.props.mapProvider.state.hex_id,\n\t\t};\n\n\t\tthis.confirmDeleteBuyOffer = this.confirmDeleteBuyOffer.bind(this);\n\t\tthis.confirmSell = this.confirmSell.bind(this);\n\t\tthis.handleOpen = this.handleOpen.bind(this);\n\t\tthis.handleClose = this.handleClose.bind(this);\n\t\tthis.buttonRender = this.buttonRender.bind(this);\n\t\tthis.setupComplete = this.props.web3Provider.state.setupComplete;\n\t}\n\n\tsetupListeners() {\n\t\tdocument.addEventListener('land-selected', (event) => {\n\t\t\tthis.setState({ hexId: event.detail.hex_id });\n\t\t});\n\t}\n\n\t// To delete/cancel a buy offer if you created it\n\tconfirmDeleteBuyOffer = async (offerId) => {\n\t\tconst { t, i18n } = useTranslation()\n\t\ttry {\n\t\t\tconst tx = await this.props.web3Provider.actions.cancelBuyOffer(offerId);\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: t('MetamaskMessage.cancel.buy'),\n\t\t\t\ttransactionInProcess: true,\n\t\t\t});\n\t\t\tawait this.props.web3Provider.actions.waitTx(tx);\n\t\t} catch (e) {\n\t\t\treturn dangerNotification(t('Danger.cancel.buy.title'), e.message);\n\t\t}\n\t\tsuccessNotification(t('Success.delete.title'), t('Success.request.process.desc'));\n\t\tthis.handleClose();\n\t};\n\n\t// To decline a buy offer\n\tdeclineBuyOffer = async (offerId) => {\n\t\tconst { t, i18n } = useTranslation()\n\t\ttry {\n\t\t\tconst tx = await this.props.web3Provider.actions.declineBuyOffer(offerId);\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: t('MetamaskMessage.decline.buy'),\n\t\t\t\ttransactionInProcess: true,\n\t\t\t});\n\t\t\tawait this.props.web3Provider.actions.waitTx(tx);\n\t\t} catch (e) {\n\t\t\treturn dangerNotification(t('Danger.decline.buy.title'), e.message);\n\t\t}\n\t\tsuccessNotification(t('Success.decline.title'), t('Success.request.process.desc'));\n\t\tthis.handleClose();\n\t};\n\n\t// To accept a buy offer and sell your land\n\tconfirmSell = async (offerId, landId) => {\n\t\tconst { t, i18n } = useTranslation()\n\t\ttry {\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: t('MetamaskMessage.approve.ovr'),\n\t\t\t\ttransactionInProcess: true,\n\t\t\t});\n\t\t\tawait this.props.web3Provider.actions.approveErc721Token(landId, true);\n\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: t('MetamaskMessage.accept.sell'),\n\t\t\t});\n\t\t\tconst newTx = await this.props.web3Provider.actions.acceptBuyOffer(offerId, landId);\n\t\t\tawait this.props.web3Provider.actions.waitTx(newTx);\n\t\t} catch (e) {\n\t\t\treturn dangerNotification(t('Danger.accept.buy.title'), e.message);\n\t\t}\n\t\tsuccessNotification(t('Success.land.sold.title'), t('Success.request.process.desc'));\n\t\tthis.handleClose();\n\t};\n\n\thandleOpen() {\n\t\tconst { t, i18n } = useTranslation()\n\t\tif (this.props.userProvider.state.isLoggedIn) {\n\t\t\tthis.setState({ openModal: true });\n\t\t} else {\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc.buy'));\n\t\t}\n\t}\n\n\topenDeclineModal = () => {\n\t\tconst { t, i18n } = useTranslation()\n\t\tif (this.props.userProvider.state.isLoggedIn) {\n\t\t\tthis.setState({ openDeclineBuyModal: true });\n\t\t} else {\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc.buy'));\n\t\t}\n\t};\n\n\thandleClose() {\n\t\tthis.setState({\n\t\t\topenModal: false,\n\t\t\topenDeclineBuyModal: false,\n\t\t\tmetamaskMessage: '',\n\t\t\ttransactionInProcess: false,\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.setupComplete) this.setupListeners();\n\t}\n\n\tbuttonRender() {\n\t\tconst { t, i18n } = useTranslation()\n\t\tlet customRender;\n\t\tif (!this.props.isOwner) {\n\t\t\tcustomRender = (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"section\">\n\t\t\t\t\t\t<button type=\"button\" className=\"orderTileButton\" onClick={this.handleOpen}>\n\t\t\t\t\t\t\t{t('BuyOfferOrder.accept.offer')}\n\t\t\t\t\t\t</button>{' '}\n\t\t\t\t\t\t<button type=\"button\" className=\"orderTileButton\" onClick={this.openDeclineModal}>\n\t\t\t\t\t\t\t{t('BuyOfferOrder.decline.offer')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"section\"></div>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\t\t\t\topen={this.state.openModal}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"BuyOfferModal\">\n\t\t\t\t\t\t\t<h2>{t('BuyOfferOrder.sell.confirmation')}</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<Trans i18nKey=\"BuyOfferOrder.sell.conf.ask\">\n\t\t\t\t\t\t\t\t\tDo you confirm the sell of this <b>OVRLand</b>?\n\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"OrderModal__bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOrder.sell.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={this.props.offer.price}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"blinking-message\">{this.state.metamaskMessage}</p>\n\t\t\t\t\t\t\t<div className=\"Modal__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('Generic.confirm.label')}\n\t\t\t\t\t\t\t\t\tclassName={this.state.transactionInProcess ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\t\t\tonClick={() => this.confirmSell(this.props.offer.id, this.props.offer.landId)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--outline\" onClick={this.handleClose}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\t\t\t\topen={this.state.openDeclineBuyModal}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"BuyOfferModal\">\n\t\t\t\t\t\t\t<h2>{t('BuyOfferOrder.decline.confirm')}</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<Trans i18nKey=\"BuyOfferOrder.decline.conf.ask\">\n\t\t\t\t\t\t\t\t\tDo you confirm to decline this buy offer for this <b>OVRLand</b>?\n\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"OrderModal__bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOrder.sell.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={this.props.offer.price}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"blinking-message\">{this.state.metamaskMessage}</p>\n\t\t\t\t\t\t\t<div className=\"Modal__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('Generic.confirm.label')}\n\t\t\t\t\t\t\t\t\tclassName={this.state.transactionInProcess ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\t\t\tonClick={() => this.declineBuyOffer(this.props.offer.id)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--outline\" onClick={this.handleClose}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\tcustomRender = (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"section\">\n\t\t\t\t\t\t<button type=\"button\" className=\"orderTileButton\" onClick={this.handleOpen}>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"section\"></div>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\t\t\t\topen={this.state.openModal}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"BuyOfferModal\">\n\t\t\t\t\t\t\t<h2>{t('BuyOfferOrder.delete.confirmation')}</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<Trans i18nKey=\"BuyOfferOrder.delete.ask\">\n\t\t\t\t\t\t\t\t\tDo you confirm the delete of this <b>Buy offer</b>?\n\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"blinking-message\">{this.state.metamaskMessage}</p>\n\t\t\t\t\t\t\t<div className=\"Modal__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('Generic.confirm.label')}\n\t\t\t\t\t\t\t\t\tclassName={this.state.transactionInProcess ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\t\t\tonClick={() => this.confirmDeleteBuyOffer(this.props.offer.id)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--outline\" onClick={this.handleClose}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\treturn customRender;\n\t}\n\n\trender() {\n\t\tconst { t, i18n } = useTranslation();\n\t\treturn (\n\t\t\t<div className=\"BuyOfferTile\">\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<ValueCounter value={this.props.offer.price}></ValueCounter>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<b>{t('BuyOfferOrder.offer.order')}</b>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<span className=\"c-small-tile-text\">{t('BuyOfferOrder.expires.label')}</span>{' '}\n\t\t\t\t\t<TimeCounter date_end={new Date(this.props.offer.expirationDate * 1000)}></TimeCounter>\n\t\t\t\t</div>\n\t\t\t\t{this.buttonRender()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withUserContext(withWeb3Context(withMapContext(BuyOfferOrder)));\n","import React, { useState, useEffect } from 'react';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport { warningNotification, dangerNotification } from '../../lib/notifications';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuList from '@material-ui/core/MenuList';\n\n// import { sellLand } from '../../lib/api';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next'\n\n\nconst BuyLandOverlay = (props) => {\n\tconst { t, i18n } = useTranslation()\n\tconst { approveOvrTokens, buy, buyLand } = props.web3Provider.actions;\n\tconst { ovr, ico, setupComplete } = props.web3Provider.state;\n\n\tconst { hexId } = props.land;\n\tconst { marketStatus } = props.land;\n\n\tconst [buyAt, setBuyAt] = useState(props.currentBid);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [metamaskMessage, setMetamaskMessage] = useState(t('MetamaskMessage.set.waiting'));\n\tconst [showOverlay, setShowOverlay] = useState(false);\n\tconst [classShowOverlay, setClassShowOverlay] = useState(false);\n\n\tconst anchorRef = React.useRef(null);\n\tconst [open, setOpen] = React.useState(false);\n\n\t// Listener for fadein and fadeout animation of overlay\n\tuseEffect(() => {\n\t\tif (props.mapProvider.state.activeBuyOverlay) {\n\t\t\tsetShowOverlay(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassShowOverlay(true);\n\t\t\t}, 50);\n\t\t} else {\n\t\t\tsetClassShowOverlay(false);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowOverlay(false);\n\t\t\t}, 500);\n\t\t}\n\t}, [props.mapProvider.state.activeBuyOverlay]);\n\n\t// Toggle bidding menu of selection currencies\n\tconst handleClose = (event) => {\n\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\treturn;\n\t\t}\n\t\tsetOpen(false);\n\t};\n\tconst handleClick = () => {\n\t\tsetOpen(true);\n\t};\n\n\t// Init helpers web3\n\tuseEffect(() => {\n\t\tif (setupComplete) setNextBidSelectedLand();\n\t}, [setupComplete, ico, hexId, marketStatus, props.mapProvider.state.activeBuyOverlay]);\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete || !ico || !ovr) {\n\t\t\treturn warningNotification(t('Warning.metamask.not.detected.title'), t('Warning.metamask.not.detected.desc'));\n\t\t}\n\t\tconst landId = parseInt(hexId, 16);\n\t\tconst land = await ico.landsAsync(landId);\n\t\tconst price = String(window.web3.fromWei(land[7]));\n\t\tsetBuyAt(price);\n\t};\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveBuyOverlay(false);\n\t\t// Bring the step at 0\n\t\tsetTimeout(function () {\n\t\t\tsetActiveStep(0);\n\t\t\tsetBuyAt(10);\n\t\t}, 200);\n\t}\n\n\t// Helper used to check if the user is logged in\n\tconst checkUserLoggedIn = () => {\n\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\tsetActiveStep(0);\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc'));\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\t// Manages actions of overlay according to step number\n\tconst handleNext = async () => {\n\t\tif (activeStep + 1 === 1) {\n\t\t\tif (!checkUserLoggedIn()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlet currentBalance = await ovr.balanceOfAsync(window.web3.eth.defaultAccount);\n\t\t\t\tif (!currentBalance.greaterThan(buyAt)) {\n\t\t\t\t\treturn dangerNotification(t('Danger.balance.insuff.title'),t('Danger.balance.insuff.desc'),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.ovr'));\n\t\t\t\tawait approveOvrTokens(true, ovr);\n\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.waiting.buy'));\n\t\t\t\tawait buyLand(hexId);\n\t\t\t\thandleNext();\n\t\t\t\t// TODO Centralized flux\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log('Error', e);\n\t\t\t\treturn dangerNotification(t('Danger.error.processing.title'), e.message);\n\t\t\t}\n\t\t} else {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t}\n\t};\n\n\t// Show content of overlay according to step number\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BuyLandOverlay.buy.land')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bids_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyLandOverlay.price.label')}</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={buyAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\n\t\t\t\t\t\t\t\t\t{({ TransitionProps, placement }) => (\n\t\t\t\t\t\t\t\t\t\t<Grow\n\t\t\t\t\t\t\t\t\t\t\t{...TransitionProps}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t\t\t\t\t\t<ClickAwayListener onClickAway={handleClose}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuList autoFocusItem={open} id=\"mint-fade-menu\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleNext();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu --cons-option\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyLandOverlay.bid.ovr')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (checkUserLoggedIn() === false) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait buy(window.web3.toWei(buyAt), 'eth');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleNext();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyLandOverlay.bid.eth')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.get.ovr.first'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (checkUserLoggedIn() === false) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait buy(window.web3.toWei(buyAt), 'dai');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleNext();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyLandOverlay.bid.dai')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.get.ovr.first'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (checkUserLoggedIn() === false) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait buy(window.web3.toWei(buyAt), 'usdt');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleNext();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyLandOverlay.bid.usdt')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.get.ovr.first'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (checkUserLoggedIn() === false) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait buy(window.web3.toWei(buyAt), 'usdc');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleNext();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyLandOverlay.bid.usdc')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t\t\t\t\t\t\t</ClickAwayListener>\n\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t</Grow>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Popper>\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\thexRef={anchorRef}\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('BuyLandOverlay.confirm.buy')}\n\t\t\t\t\t\t\t\t\tclassName=\"--orange\"\n\t\t\t\t\t\t\t\t\tariaControls={open ? 'mint-fade-menu' : undefined}\n\t\t\t\t\t\t\t\t\tariaHaspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BuyLandOverlay.buy.land')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyLandOverlay.price.label')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={buyAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__congrat_title\">\n\t\t\t\t\t\t\t\t<span>{t('Generic.congrats.label')}</span>\n\t\t\t\t\t\t\t\t<br></br>{t('BuyLandOverlay.requested.buy')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyLandOverlay.price.label')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={buyAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__close-button_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.close.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!showOverlay) return null;\n\n\treturn (\n\t\t<div className={`OverlayContainer ${classShowOverlay ? '--js-show' : ''}`}>\n\t\t\t<div className=\"RightOverlay__backpanel\"> </div>\n\t\t\t<div\n\t\t\t\tkey=\"sell-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`RightOverlay BuyLandOverlay NormalInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className=\"Icon Overlay__close_button\" onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#c0c1c0\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nBuyLandOverlay.propTypes = {\n\tprops: PropTypes.object,\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withUserContext(withWeb3Context(withMapContext(BuyLandOverlay)));\n","import React, { useState, useEffect } from 'react';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../../components/ValueCounter/ValueCounter';\nimport TimeCounter from '../../components/TimeCounter/TimeCounter';\nimport HexButton from '../../components/HexButton/HexButton';\nimport BidOverlay from '../../components/BidOverlay/BidOverlay';\nimport MintOverlay from '../../components/MintOverlay/MintOverlay';\nimport SellOverlay from '../../components/SellOverlay/SellOverlay';\nimport BuyOfferOverlay from '../../components/BuyOfferOverlay/BuyOfferOverlay';\n// import OpenSellOrder from '../../components/OpenSellOrder/OpenSellOrder';\nimport BuyOfferOrder from '../../components/BuyOfferOrder/BuyOfferOrder';\nimport BuyLandOverlay from '../../components/BuyLandOverlay/BuyLandOverlay';\n\nimport { getLand, sendAuctionCheckClose } from '../../lib/api';\nimport { networkError } from '../../lib/notifications';\nimport PropTypes from 'prop-types';\n\nimport config from '../../lib/config';\nimport { Textfit } from 'react-textfit';\nimport ActionCable from 'actioncable';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\n// import { ca } from 'date-fns/esm/locale';\n\nconst Land = (props) => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst {\n\t\tchangeHexId,\n\t\tchangeLandData,\n\t\tchangeActiveBidOverlay,\n\t\tchangeActiveMintOverlay,\n\t\tchangeActiveSellOverlay,\n\t\tchangeActiveBuyOverlay,\n\t\tchangeActiveBuyOfferOverlay,\n\t} = props.mapProvider.actions;\n\tconst { redeemSingleLand, getOffersToBuyLand } = props.web3Provider.actions;\n\tconst { ovr, ico, setupComplete } = props.web3Provider.state;\n\tconst { isLoggedIn } = props.userProvider.state;\n\n\tconst [hexId, setHexId] = useState(props.mapProvider.state);\n\tconst [value, setValue] = useState(10);\n\tconst [marketStatus, setMarketStatus] = useState(0);\n\tconst [userPerspective, setUserPerspective] = useState(0);\n\tconst [name, setName] = useState({ sentence: 'director.connect.overflow', hex: '8cbcc350c0ab5ff' });\n\tconst [location, setLocation] = useState('Venice, Italy');\n\tconst [auction, setAuction] = useState(null);\n\t// const [openSellOrder, setOpenSellOrder] = useState(null);\n\tconst [openBuyOffers, setOpenBuyOffers] = useState([]);\n\tconst [isRedeemingLand, setIsRedeemingLand] = useState(false);\n\tconst [isNotValidH3, setIsNotValidH3] = useState(false);\n\n\t// First load\n\tuseEffect(() => {\n\t\tconst hex_id = props.match.params.id;\n\t\tchangeHexId(hex_id); // Focus map on hex_id\n\t\tloadLandStateFromApi(hex_id); // Load data from API\n\t}, [undefined, props.match.params.id]);\n\n\t// Sockets\n\tuseEffect(() => {\n\t\tif (setupComplete && isLoggedIn && hexId === props.match.params.id) {\n\t\t\t// liveSocket(props.match.params.id);\n\t\t\t// console.log('LIVESOCKET', hexId);\n\t\t\tif (isLoggedIn) {\n\t\t\t\t// console.log('LIVESOCKET PASSED', hexId);\n\t\t\t\tif (window.landSocket) window.landSocket.unsubscribe(); // unsubscribe precedent land\n\t\t\t\tvar cable = ActionCable.createConsumer(config.apis.socket);\n\t\t\t\t// console.log('hexId', hexId);\n\t\t\t\twindow.landSocket = cable.subscriptions.create(\n\t\t\t\t\t{ channel: 'LandsChannel', hex_id: hexId },\n\t\t\t\t\t{\n\t\t\t\t\t\treceived: (data) => {\n\t\t\t\t\t\t\t// console.log('LIVESOCKET data incoming', hexId);\n\t\t\t\t\t\t\t// console.log('LAND SOCKET data', data);\n\t\t\t\t\t\t\tloadLandStateFromApi(hexId);\n\t\t\t\t\t\t\tdecentralizedSetup();\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// console.log('LIVESOCKET UHOH');\n\t\t\t}\n\t\t}\n\t}, [setupComplete, isLoggedIn, hexId]);\n\n\t// On change of decentralized setup, reload values\n\tuseEffect(() => {\n\t\tif (setupComplete) decentralizedSetup();\n\t}, [setupComplete, ico, ovr, hexId, marketStatus]);\n\n\tconst decentralizedSetup = async () => {\n\t\tif (!setupComplete || !ico || !ovr) {\n\t\t\treturn false;\n\t\t}\n\t\tgetBuyOffers();\n\t\t// updateMarketStatusFromSmartContract(hexId);\n\t\t// setContractPrice(hexId);\n\t};\n\n\t// Call API function\n\tfunction loadLandStateFromApi(hex_id) {\n\t\tgetLand(hex_id)\n\t\t\t.then((response) => {\n\t\t\t\tlet data = response.data;\n\t\t\t\t// console.log('data', data);\n\t\t\t\tif (data.error && data.error == 'h3_not_valid') {\n\t\t\t\t\tsetIsNotValidH3(true);\n\t\t\t\t} else {\n\t\t\t\t\tsetIsNotValidH3(false);\n\t\t\t\t\tchangeHexId(data.hexId);\n\t\t\t\t\t// Update state component\n\t\t\t\t\tsetHexId(data.hexId);\n\t\t\t\t\tsetName({ sentence: data.sentenceId, hex: data.hexId });\n\t\t\t\t\tsetLocation(data.address.full);\n\t\t\t\t\tsetUserPerspective(data.userPerspective);\n\t\t\t\t\tsetAuction(data.auction);\n\t\t\t\t\t// Centralized\n\t\t\t\t\tconsole.log(data)\n\t\t\t\t\tsetValue(data.value);\n\t\t\t\t\tsetMarketStatus(data.marketStatus)\n\n\t\t\t\t\t// Update state for MapContext\n\t\t\t\t\tlet state = {\n\t\t\t\t\t\tkey: data.hexId,\n\t\t\t\t\t\tname: { sentence: data.sentenceId, hex: data.hexId },\n\t\t\t\t\t\tlocation: data.address.full,\n\t\t\t\t\t\tuserPerspective: data.userPerspective,\n\t\t\t\t\t\topenSellOrder: data.openSellOrder,\n\t\t\t\t\t\tauction: data.auction,\n\t\t\t\t\t};\n\t\t\t\t\tchangeLandData(state);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tconsole.log(error);\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tconst updateMarketStatusFromSmartContract = async (hex_id) => {\n\t\t// Set 0 for not started, 1 for started and 2 for ended\n\t\tconst landId = parseInt(hex_id, 16);\n\t\tconst land = await ico.landsAsync(landId);\n\n\t\tconst lastPaymentTimestamp = parseInt(land[3]);\n\t\tconst landOwner = land[0];\n\t\tconst auctionLandDuration = parseInt(await ico.auctionLandDurationAsync());\n\t\t// Check is the land is ended by comparing the timestamp to 24 hours\n\t\tconst now = Math.trunc(Date.now() / 1000);\n\t\tconst landContractState = parseInt(land[4]);\n\t\tconst isOnSale = land[8];\n\n\t\t// Checks if the land is on sale also to display the right buy button\n\t\tif (isOnSale) {\n\t\t\treturn setMarketStatus(4);\n\t\t}\n\t\t// If 24 hours have passed, consider it sold\n\t\t// Checks if you're the owner or not to display the appropriate button\n\t\tif (landContractState === 1 && now > lastPaymentTimestamp + auctionLandDuration) {\n\t\t\treturn setMarketStatus(5); // Render redeem land button\n\t\t}\n\n\t\tif (landContractState === 2) {\n\t\t\tif (landOwner === window.web3.eth.defaultAccount) {\n\t\t\t\treturn setMarketStatus(3);\n\t\t\t} else {\n\t\t\t\treturn setMarketStatus(2);\n\t\t\t}\n\t\t} else {\n\t\t\tsetMarketStatus(landContractState);\n\t\t}\n\t};\n\n\tconst getBuyOffers = async () => {\n\t\tlet offers = await getOffersToBuyLand(hexId);\n\t\tsetOpenBuyOffers(offers);\n\t};\n\n\tconst redeemLand = async (e) => {\n\t\te.preventDefault();\n\t\tsetIsRedeemingLand(true);\n\t\tsendAuctionCheckClose(hexId);\n\t\tawait redeemSingleLand(hexId);\n\t\tsetIsRedeemingLand(false);\n\t};\n\n\tfunction setActiveBidOverlay(e) {\n\t\te.preventDefault();\n\t\tchangeActiveBidOverlay(true);\n\t}\n\n\tfunction setActiveMintOverlay(e) {\n\t\te.preventDefault();\n\t\tchangeActiveMintOverlay(true);\n\t}\n\n\tfunction setActiveSellOverlay(e) {\n\t\te.preventDefault();\n\t\tchangeActiveSellOverlay(true);\n\t}\n\n\tfunction setActiveBuyOverlay(e) {\n\t\te.preventDefault();\n\t\tchangeActiveBuyOverlay(true);\n\t}\n\n\tfunction setActiveBuyOfferOverlay(e) {\n\t\te.preventDefault();\n\t\tchangeActiveBuyOfferOverlay(true);\n\t}\n\n\t//\n\t// Render elements\n\t//\n\n\tfunction renderTimer() {\n\t\tif (marketStatus === 1) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.closes.label')}</h3>\n\t\t\t\t\t<TimeCounter date_end={auction ? auction.closeAt : 24}></TimeCounter>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn <div>&nbsp;</div>;\n\t\t}\n\t}\n\n\tfunction renderBadge() {\n\t\tlet badge = <div>&nbsp;</div>;\n\t\tswitch (marketStatus) {\n\t\t\tcase 1:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.status.label')}</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --open\">{t('Land.open.label')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.status.label')}</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --owned\">{t('Land.owned.label')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbadge = <div>&nbsp;</div>;\n\t\t}\n\n\t\tswitch (userPerspective) {\n\t\t\tcase 1:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.status.label')}</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge --bestbid\">{t('Land.owner.label')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.status.label')}</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --bestbid\">{t('Land.best.bid')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.status.label')}</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --outbidded\">{t('Land.outbidded.label')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn badge;\n\t}\n\n\tfunction renderOverlayButton() {\n\t\tlet button = <div>&nbsp;</div>;\n\t\tswitch (marketStatus) {\n\t\t\tcase 0:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton\n\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\ttext={t('Land.init.auction')}\n\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t\tonClick={(e) => setActiveMintOverlay(e)}\n\t\t\t\t\t></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton url=\"/\" text={t('Land.place.bid')} className=\"--purple\" onClick={(e) => setActiveBidOverlay(e)}></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbutton = <></>;\n\t\t\t\tif (userPerspective == 0) {\n\t\t\t\t\tbutton = (\n\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\ttext={t('Land.buy.offer')}\n\t\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t\t\tonClick={(e) => setActiveBuyOfferOverlay(e)}\n\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t);\n\t\t\t\t} else if (userPerspective == 1) {\n\t\t\t\t\tbutton = (\n\t\t\t\t\t\t<HexButton url=\"/\" text={t('Land.sell.land')} className=\"--purple --disabled\" onClick={(e) => setActiveSellOverlay(e)}></HexButton>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton url=\"/\" text={t('Land.sell.land')} className=\"--purple\" onClick={(e) => setActiveSellOverlay(e)}></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton url=\"/\" text={t('Land.buy.now')} className=\"--purple\" onClick={(e) => setActiveBuyOverlay(e)}></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tbutton = <></>;\n\t\t\t\tif (userPerspective != 0) {\n\t\t\t\t\tbutton = (\n\t\t\t\t\t\t<div className=\"redeem-land-map-button\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\t\ttext={t('Land.redeem.land')}\n\t\t\t\t\t\t\t\tclassName={isRedeemingLand ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\t\tonClick={(e) => redeemLand(e)}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t{!isRedeemingLand ? null : <p className=\"Overlay__message__container\">{t('Land.redeeming.land')}</p>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbutton = <div>&nbsp;</div>;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn button;\n\t}\n\n\t// Sets the price displayed below the map\n\tconst setContractPrice = async (hex_id) => {\n\t\tconst landId = parseInt(hex_id, 16);\n\t\tconst land = await ico.landsAsync(landId);\n\t\tlet currentBid = String(window.web3.fromWei(land[2]));\n\t\tif (currentBid == 0) {\n\t\t\tcurrentBid = String(window.web3.fromWei(await ico.initialLandBidAsync()));\n\t\t}\n\t\tsetValue(currentBid);\n\t};\n\n\tfunction renderPrice() {\n\t\tswitch (marketStatus) {\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.closing.price')}</h3>\n\t\t\t\t\t\t<ValueCounter value={value}></ValueCounter>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.price.label')}</h3>\n\t\t\t\t\t\t<ValueCounter value={value}></ValueCounter>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t}\n\t}\n\n\tfunction renderBidHistory() {\n\t\tif (auction === null || auction.bidHistory.length === 0) {\n\t\t\treturn (\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"Title__container\">\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.history.label')}</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t{t('Land.be.the.one')}{' '}\n\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"fire-emoji\">\n\t\t\t\t\t\t\t\t🔥\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t<Trans i18nKey=\"Land.no.active.auction\">\n\t\t\t\t\t\t\t\tThe land has no active Auction at the moment. <br></br>Click on \"Init Auction\" and be the one to own it.\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"Title__container\">\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.bid.history')}</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Table__container\">\n\t\t\t\t\t\t<table className=\"Table\">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>{t('Land.price.label')}</th>\n\t\t\t\t\t\t\t\t\t<th>{t('Land.when.label')}</th>\n\t\t\t\t\t\t\t\t\t<th>{t('Land.from.label')}</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{auction.bidHistory.map((bid) => (\n\t\t\t\t\t\t\t\t\t<tr key={bid.when} className=\"Table__line\">\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid.worth}></ValueCounter>{' '}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<TimeCounter date_end={bid.when}></TimeCounter>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>{bid.from}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction renderActiveOpenOrders() {\n\t\tlet custom_return = <></>;\n\t\tlet renderOpenSell = <></>;\n\t\tlet renerOpenBuyOffers = <></>;\n\t\tconst displayBuyOffers = marketStatus === 2;\n\t\tconst displaySells = marketStatus === 3;\n\n\t\t// If there are Buy Offers\n\t\tif (openBuyOffers.length > 0) {\n\t\t\t// If the land is owned, is not yours and is not on sale show the buy offer option\n\t\t\tif (displayBuyOffers) {\n\t\t\t\trenerOpenBuyOffers = openBuyOffers.map((offer) => (\n\t\t\t\t\t<BuyOfferOrder\n\t\t\t\t\t\tkey={offer.id}\n\t\t\t\t\t\toffer={offer}\n\t\t\t\t\t\tisOwner={true}\n\t\t\t\t\t\tuserPerspective={userPerspective}\n\t\t\t\t\t\tuserProvider={this.props.userProvider}\n\t\t\t\t\t\tweb3Provide={this.props.web3Provider}\n\t\t\t\t\t></BuyOfferOrder>\n\t\t\t\t));\n\t\t\t\t// Else show the offers for the seller to accept or decline them\n\t\t\t} else if (displaySells) {\n\t\t\t\trenderOpenSell = openBuyOffers.map((offer) => (\n\t\t\t\t\t<BuyOfferOrder\n\t\t\t\t\t\tkey={offer.id}\n\t\t\t\t\t\toffer={offer}\n\t\t\t\t\t\tisOwner={false}\n\t\t\t\t\t\tuserPerspective={userPerspective}\n\t\t\t\t\t\tuserProvider={this.props.userProvider}\n\t\t\t\t\t\tweb3Provide={this.props.web3Provider}\n\t\t\t\t\t></BuyOfferOrder>\n\t\t\t\t));\n\t\t\t}\n\t\t}\n\n\t\tif (displaySells || displayBuyOffers) {\n\t\t\tcustom_return = (\n\t\t\t\t<div className=\"Land__section\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"Title__container\">\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t<h3 className=\"o-small-title\">Open Orders</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Body__container\">\n\t\t\t\t\t\t\t{renderOpenSell}\n\t\t\t\t\t\t\t{renerOpenBuyOffers}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn custom_return;\n\t}\n\n\tfunction renderLand() {\n\t\tlet custom_return;\n\t\tif (isNotValidH3 == false) {\n\t\t\tcustom_return = (\n\t\t\t\t<div className=\"Land\">\n\t\t\t\t\t<BidOverlay\n\t\t\t\t\t\tcurrentBid={value}\n\t\t\t\t\t\tland={{ hexId: hexId, marketStatus: marketStatus, name: name, location: location }}\n\t\t\t\t\t></BidOverlay>\n\t\t\t\t\t<MintOverlay\n\t\t\t\t\t\tcurrentBid={value}\n\t\t\t\t\t\tland={{ hexId: hexId, marketStatus: marketStatus, name: name, location: location }}\n\t\t\t\t\t></MintOverlay>\n\t\t\t\t\t<SellOverlay\n\t\t\t\t\t\tcurrentBid={value}\n\t\t\t\t\t\tland={{ hexId: hexId, marketStatus: marketStatus, name: name, location: location }}\n\t\t\t\t\t></SellOverlay>\n\t\t\t\t\t<BuyOfferOverlay\n\t\t\t\t\t\tcurrentBid={value}\n\t\t\t\t\t\tland={{ hexId: hexId, marketStatus: marketStatus, name: name, location: location }}\n\t\t\t\t\t></BuyOfferOverlay>\n\t\t\t\t\t<BuyLandOverlay\n\t\t\t\t\t\tcurrentBid={value}\n\t\t\t\t\t\tland={{ hexId: hexId, marketStatus: marketStatus, name: name, location: location }}\n\t\t\t\t\t></BuyLandOverlay>\n\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"Land__heading__1\">\n\t\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t\t<Textfit mode=\"single\" max={25}>\n\t\t\t\t\t\t\t\t\t{name.sentence}\n\t\t\t\t\t\t\t\t</Textfit>\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<div className=\"Land__location\">{location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Land__heading__2\">\n\t\t\t\t\t\t\t<div className=\"o-fourth\">{renderPrice()}</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">{renderTimer()}</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">{renderBadge()}</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">{renderOverlayButton()}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{renderActiveOpenOrders()}\n\t\t\t\t\t<div className=\"Land__section\">{renderBidHistory()}</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tcustom_return = (\n\t\t\t\t<div className=\"Land\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"c-dialog --centered --not-found\">\n\t\t\t\t\t\t\t<h1>404</h1>\n\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t\tLand not found\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t\tThe requested land name was not found. <br></br>Click anywhere in the map or go to \"Marketplace\" and start from there.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn custom_return;\n\t}\n\n\treturn renderLand();\n};\n\nLand.propTypes = {\n\tmatch: PropTypes.object,\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withWeb3Context(withUserContext(withMapContext(Land)));\n","import React, { useState, useEffect } from 'react';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport HexButton from '../../components/HexButton/HexButton';\n\n// import OpenSellOrder from '../../components/OpenSellOrder/OpenSellOrder';\n// import BuyOfferOrder from '../../components/BuyOfferOrder/BuyOfferOrder';\n// import BuyLandOverlay from '../../components/BuyLandOverlay/BuyLandOverlay';\n\nimport { getLands } from '../../lib/api';\nimport PropTypes from 'prop-types';\nimport LandCard from '../../components/LandCard/LandCard';\nimport { useTranslation } from 'react-i18next'\n\n\n// import config from '../../lib/config';\n\n// import { ca } from 'date-fns/esm/locale';\n\nconst Lands = (props) => {\n\tconst { t, i18n } = useTranslation();\n\tconst { enableMultipleLandSelection, disableMultipleLandSelection } = props.mapProvider.actions;\n\tconst { multipleLandSelectionList } = props.mapProvider.state;\n\tconst [listLands, setListLands] = useState('');\n\n\t// First load\n\tuseEffect(() => {\n\t\tenableMultipleLandSelection();\n\t\treturn () => {\n\t\t\tdisableMultipleLandSelection();\n\t\t};\n\t}, []);\n\n\t// On Change of list\n\tuseEffect(() => {\n\t\tif (multipleLandSelectionList.length > 0) {\n\t\t\tgetLands(multipleLandSelectionList.join(','))\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetListLands(\n\t\t\t\t\t\tresponse.data.lands.map((obj) => (\n\t\t\t\t\t\t\t<LandCard\n\t\t\t\t\t\t\t\tkey={obj.hexId}\n\t\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\t\tvalue={obj.value}\n\t\t\t\t\t\t\t\tbackground_image={`url(${obj.mapTileUrl}`}\n\t\t\t\t\t\t\t\tname={{ sentence: obj.sentenceId, hex: obj.hexId }}\n\t\t\t\t\t\t\t\tlocation={obj.address.full}\n\t\t\t\t\t\t\t\tdate_end={null}\n\t\t\t\t\t\t\t\tis_minimal={true}\n\t\t\t\t\t\t\t></LandCard>\n\t\t\t\t\t\t)),\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t// console.log(error);\n\t\t\t\t});\n\t\t}\n\t}, [multipleLandSelectionList]);\n\n\tfunction renderLand() {\n\t\tlet custom_return;\n\t\tif (multipleLandSelectionList.length > 0) {\n\t\t\tcustom_return = (\n\t\t\t\t<div className=\"Lands\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"Land__heading__1\">\n\t\t\t\t\t\t\t<h2>{t('Lands.selected.lands')}</h2>\n\t\t\t\t\t\t\t<div className=\"Land__location\">{t('Lands.click.to.remove')}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Land__heading__2\">\n\t\t\t\t\t\t\t<div className=\"o-fourth\">&nbsp;</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Lands.selected.label')}</h3>\n\t\t\t\t\t\t\t\t<div>{multipleLandSelectionList.length}/15</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">&nbsp;</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t\t\t\t<HexButton url=\"/\" text={t('Lands.bid.selection')} className=\"--blue\" onClick={(e) => console.log(e)}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"o-container o-land-list__cont\">\n\t\t\t\t\t\t<div className=\"o-land-list\">{listLands}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tcustom_return = (\n\t\t\t\t<div className=\"Land\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"c-dialog --centered --not-found\">\n\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t\t<h2>{t('Lands.selected.lands')}</h2>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t\t{t('Lands.focus.land')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn custom_return;\n\t}\n\n\treturn renderLand();\n};\n\nLands.propTypes = {\n\tmatch: PropTypes.object,\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withWeb3Context(withUserContext(withMapContext(Lands)));\n","import React, { useContext, useEffect, useState } from 'react';\nimport * as moment from 'moment';\n\nimport TextField from '@material-ui/core/TextField';\nimport { UserContext } from '../../context/UserContext';\n// import HexImage from '../../components/HexImage/HexImage';\nimport HexButton from '../../components/HexButton/HexButton';\nimport config from '../../lib/config';\nimport {isiOS, isImToken} from '../../lib/config';\n// import CheckBox from '../../components/CheckBox/CheckBox';\n// import EmailConfirmation from '../../components/EmailConfirmation/EmailConfirmation';\n// import IdensicComp from '../../components/IdensicComp/IdensicComp';\nimport { getSumsubData, setSumsubVerificationToStarted, setDbUserEmail, getSumsubExternalLink } from '../../lib/api';\nimport { successNotification, warningNotification } from '../../lib/notifications';\n\nimport Blockies from 'react-blockies';\n\nimport ValueCounter from '../../components/ValueCounter/ValueCounter';\nimport { Web3Context } from '../../context/Web3Context';\n\nimport snsWebSdk from '@sumsub/websdk';\nimport { useTranslation, Translation} from 'react-i18next';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport i18n from 'i18next';\nimport {getCurrentLocale} from '../../i18n';\n\nimport ReactGA from 'react-ga';\n\nconst ProfileContentLoginRequired = () => {\n\tconst { t, i18n } = useTranslation();\n\treturn (\n\t\t<div className=\"profile\">\n\t\t<div className=\"o-container\">\n\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t{t('Profile.login.required')}\n\t\t\t\t\t<span role=\"img\" aria-label=\"Cool dude\">\n\t\t\t\t\t\t😎\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"c-dialog-sub-title\">{t('Profile.check.profile')}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t)\t\n};\n\nconst ProfileLayout = () => {\n\tconst { t, i18n } = useTranslation();\n\tconst currentDatetimeStamp = moment().format('HH:mm, dddd, MMM D, YYYY');\n\tconst userContext = useContext(UserContext);\n\tconst web3Context = useContext(Web3Context);\n\tconst user = userContext.state.user;\n\tconst [sumsubShowPanel, setSumsubShowPanel] = useState(false);\n\tconst [userEmailValid, setUserEmailValid] = useState(false);\n\tconst [userEmailInputError, setUserEmailInputError] = useState(false);\n\tconst [userEmail, setUserEmail] = useState('');\n\tconst [urlKyc, setUrlKyc] = useState(\"#\");\n\tconst [isSignupLoading, setIsSignupLoading] = useState(false);\n\tconst [isIMWallet, setIsIMWallet] = useState(false);\n\n\tuseEffect(() => {\n\t\t// IMWallet workaround\n\t\tif (isiOS() == true){\n\t\t\tif(window.ethereum){\n\t\t\t\tif(window.ethereum.isImToken){\n\t\t\t\t\tsetIsIMWallet(true)\n\t\t\t\t\tif(user.uuid != undefined){\n\t\t\t\t\t\tlet sumsubLang = \"en\";\n\t\t\t\t\t\tif(getCurrentLocale().includes('zh')){\n\t\t\t\t\t\t\tsumsubLang = \"zh\";\n\t\t\t\t\t\t} \n\t\t\t\t\t\tgetSumsubExternalLink(sumsubLang).then((response) => {\n\t\t\t\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t\t\t\tsetUrlKyc(response.data.url)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(() => {});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// Sumsub reload of webview\n\t\tif (sumsubShowPanel == true && user.uuid != undefined) {\n\t\t\tgetSumsubData()\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t\tlaunchWebSdk(config.apis.sumsubApi, 'basic-kyc', response.data.content.token, user.email, null, t);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t});\n\t\t\tif (user.kycReviewAnswer == -1) {\n\t\t\t\tsetSumsubVerificationToStarted()\n\t\t\t\t\t.then(() => {})\n\t\t\t\t\t.catch(() => {});\n\t\t\t}\n\t\t}\n\t}, [user.uuid, sumsubShowPanel, localStorage.getItem('i18nextLng')]);\n\n\n\tconst toggleKycVerificationFrame = (e) => {\n\t\te.preventDefault();\n\t\tif(user.email){\n\t\t\tsetSumsubShowPanel(!sumsubShowPanel);\n\t\t\tReactGA.set({ page: window.location.pathname + \"/kyc-started\"}); \n\t\t\tReactGA.pageview(window.location.pathname + \"/kyc-started\");\n\t\t} else {\n\t\t\twarningNotification(t('Warning.email.not.detected.title'), t('Warning.email.not.detected.desc'));\n\t\t}\n\t};\n\n\tconst toggleImWalletKycVerificationFrame = (e) => {\t\t\n\t\tif(user.email){\n\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twarningNotification(t('Warning.email.not.detected.title'), t('Warning.email.not.detected.desc'));\n\t\t}\n\t};\n\n\tconst updateUserEmail = (e) => {\n\t\tif (userEmail === '') {\n\t\t\tsetUserEmailValid(false);\n\t\t} else {\n\t\t\tsetUserEmailValid(true);\n\t\t}\n\t\tsetUserEmail(e.target.value);\n\t};\n\n\tconst handleAddEmail = (e) => {\n\t\tconsole.log(userEmail)\n\t\tif (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(userEmail)) {\n\t\t\tsetIsSignupLoading(true);\n\t\t\tsetUserEmailInputError(false);\n\t\t\tsetDbUserEmail(userEmail).then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\tuserContext.actions.setUserEmail(userEmail)\n\t\t\t\t\tsuccessNotification(t('Generic.congrats.label'), t('Signup.email.saved.title'))\n\t\t\t\t\tReactGA.set({ page: window.location.pathname + \"/email-saved\"}); \n\t\t\t\t\tReactGA.pageview(window.location.pathname + \"/email-saved\"); \n\t\t\t\t} else {\n\t\t\t\t\tlet error_message = response.data.errors[0].message;\n\t\t\t\t\tsetIsSignupLoading(false)\n\t\t\t\t\tsetUserEmailValid(false);\n\t\t\t\t\tsetUserEmailInputError(error_message);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t});\n\t\t} else {\n\t\t\tsetUserEmailInputError(t('Signup.email.not.valid'));\n\t\t\tsetUserEmailValid(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"profile\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"p-header\">\n\t\t\t\t\t<h2 className=\"p-header-title\">{t('Profile.my.profile')}</h2>\n\t\t\t\t\t<span className=\"p-header-datetime\">{currentDatetimeStamp}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"p-body\">\n\t\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t\t{/* <HexImage className=\"profile-image\" /> */}\n\t\t\t\t\t\t<Blockies\n\t\t\t\t\t\t\tseed={user.publicAddress || 'loading'}\n\t\t\t\t\t\t\tsize={12}\n\t\t\t\t\t\t\tscale={13}\n\t\t\t\t\t\t\tcolor=\"#7521c8\"\n\t\t\t\t\t\t\tbgColor=\"#EC663C\"\n\t\t\t\t\t\t\tspotColor=\"#F9B426\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"profile-content\">\n\t\t\t\t\t\t<div key=\"wallet\" className=\"p-section\">\n\t\t\t\t\t\t\t<h3 className=\"p-section-title\">{t('Profile.wallet.info')}</h3>\n\t\t\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">{t('Profile.wallet.addr')}</h4>\n\t\t\t\t\t\t\t\t<div className=\"p-wallet-address\">\n\t\t\t\t\t\t\t\t\t{window.web3 &&\n\t\t\t\t\t\t\t\t\t\twindow.web3.eth &&\n\t\t\t\t\t\t\t\t\t\twindow.web3.eth.defaultAccount &&\n\t\t\t\t\t\t\t\t\t\twindow.web3.eth.defaultAccount.toLowerCase()}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"p-balance\">\n\t\t\t\t\t\t\t\t\t<div className=\"p-small-title\">{t('Profile.balance')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"p-balance-value\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={web3Context.state.ovrsOwned} />\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<HexButton url=\"/buy-tokens\" className=\"--orange --disabled\" text={t('Profile.buy.ovr')}></HexButton>\n\t\t\t\t\t\t\t\t\t\t\t{/* history.push('/profile');\n\t\t\t\t\t\t\t\t\t\t\t// TODO: KYC -  */}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div key=\"KYC\" className=\"p-section --m-t\">\n\t\t\t\t\t\t\t\t<h3 className=\"p-section-title\">{t('Profile.identify.verification')}</h3>\n\t\t\t\t\t\t\t\t<div className=\"p-tiny-message\">\n\t\t\t\t\t\t\t\t\t{countdownTimer(t)} <br></br>\n\t\t\t\t\t\t\t\t\t{user.kycReviewAnswer == 1\n\t\t\t\t\t\t\t\t\t\t? t('Profile.whitelisted.ok')\n\t\t\t\t\t\t\t\t\t\t: t('Profile.whitelisted.no.ok')}\n\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t\t\t\t{user.email ? <div className=\"p-balance-value\">\n\t\t\t\t\t\t\t\t\t <TextField\n\t\t\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email address\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"Signup__email_textfield\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={user.email}\n\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div> : <div className=\"p-balance-value\">\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email address\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"Signup__email_textfield\"\n\t\t\t\t\t\t\t\t\t\t\terror={userEmailInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\t\t\thelperText={userEmailInputError !== false ? userEmailInputError : ''}\n\t\t\t\t\t\t\t\t\t\t\tvalue={userEmail}\n\t\t\t\t\t\t\t\t\t\t\tonFocus={updateUserEmail}\n\t\t\t\t\t\t\t\t\t\t\tonChange={updateUserEmail}\n\t\t\t\t\t\t\t\t\t\t\tonKeyUp={updateUserEmail}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{!isSignupLoading && <HexButton\n\t\t\t\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`--blue ${userEmailValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\t\t\t\ttext={t('Email.add')}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleAddEmail}\n\t\t\t\t\t\t\t\t\t\t\t></HexButton>}\n\t\t\t\t\t\t\t\t\t\t\t{isSignupLoading && <CircularProgress />}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">{t('Profile.status.label')}</h4>\n\t\t\t\t\t\t\t\t\t{isIMWallet ? <><div className=\"p-tiny-message\">\n\t\t\t\t\t\t\t\t\t\t{t('Profile.imwallet.sumsub')}\n\t\t\t\t\t\t\t\t\t</div><br></br></> : <></>}\n\n\t\t\t\t\t\t\t\t\t<div className=\"p-balance-value\">\n\t\t\t\t\t\t\t\t\t\t{renderBadge(user.kycReviewAnswer, t)}\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{ !isIMWallet ? <HexButton\n\t\t\t\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t\t\t\t\t\t\t\ttext={user.kycReviewAnswer == -1 ? t('Profile.start.verification') : t('Profile.check.verification')}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={toggleKycVerificationFrame}\n\t\t\t\t\t\t\t\t\t\t\t></HexButton> : <HexButton\n\t\t\t\t\t\t\t\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\t\t\t\t\t\t\t\turl={urlKyc}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t\t\t\t\t\t\t\ttext={t('Generic.external.link')}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={toggleImWalletKycVerificationFrame}\n\t\t\t\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"p-tiny-message\">\n\t\t\t\t\t\t\t\t\t{user.kycClientComment != null && user.kycReviewAnswer != 1 && user.kycClientComment}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=\"sumsub-websdk-container\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"p-tiny-message\">\n\t\t\t\t\t\t\t\t{/* Every account will need to verify it's identity in order to buy OVR. <br></br>\n\t\t\t\t\t\t\t\tStart your verification now. */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* <div key=\"redeem-land\" className=\"p-section --m-t\">\n\t\t\t\t\t\t\t\t<h3 className=\"p-section-title\">Redeem lands</h3>\n\t\t\t\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">Waiting to be redeemed</h4>\n\t\t\t\t\t\t\t\t\t<div className=\"p-balance-value\">\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\t\t\t\turl=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"Funds__buy HexButton --blue redeem-button\"\n\t\t\t\t\t\t\t\t\t\t\t\ttext=\"Redeem lands\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={web3Context.redeemLands}\n\t\t\t\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t{/*\n\t\t\t\t\t\t\t\t<div key=\"notifications\" className=\"p-section\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"p-section-title\">NOTIFICATIONS</h3>\n\t\t\t\t\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">General</h4>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"Hottest Auctions\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"Area of interest\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">My OVRLands</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"New sell request\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"OVRLand sold\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">My auctions</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"Over bidded\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"Auction won\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"p-email-subscription\">\n\t\t\t\t\t\t\t\t\t\t<EmailConfirmation />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t*/}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n\nconst renderBadge = (status, t) => {\n\tlet badge = <div>&nbsp;</div>;\n\tswitch (status) {\n\t\tcase -1:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">{t('Profile.not.started')}</div>;\n\t\t\tbreak;\n\t\tcase -10:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">{t('Profile.started')}</div>;\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">{t('Profile.completed')}</div>;\n\t\t\tbreak;\n\t\tcase 0:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">{t('Profile.failed')}</div>;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbadge = <div>&nbsp;</div>;\n\t}\n\treturn badge;\n};\n\nconst launchWebSdk = (apiUrl, flowName, accessToken, applicantEmail, applicantPhone, t) => {\n\tlet sumsubLang = \"en\";\n\tif(getCurrentLocale().includes('zh')){\n\t\tsumsubLang = \"zh\";\n\t} \n\tlet userWallet;\n\tif (window.web3 && window.web3.eth && window.web3.eth.defaultAccount && window.web3.eth.defaultAccount.toLowerCase()){\n\t\tuserWallet = window.web3.eth.defaultAccount.toLowerCase();\n\t}\n\tif (userWallet){\n\t\tlet snsWebSdkInstance = snsWebSdk\n\t\t\t.Builder(apiUrl, flowName)\n\t\t\t.withAccessToken(accessToken, (newAccessTokenCallback) => {\n\t\t\t\t// Access token expired\n\t\t\t\t// get a new one and pass it to the callback to re-initiate the WebSDK\n\t\t\t\tlet newAccessToken = '...'; // get a new token from your backend\n\t\t\t\tnewAccessTokenCallback(newAccessToken);\n\t\t\t})\n\t\t\t.withConf({\n\t\t\t\tlang: sumsubLang,\n\t\t\t\temail: applicantEmail,\n\t\t\t\tphone: applicantPhone,\n\t\t\t\tmetadata: [{\"key\": \"walletAddress\", \"value\": userWallet}],\n\t\t\t\tonMessage: (type, payload) => {\n\t\t\t\t\tconsole.log('WebSDK onMessage', type, payload);\n\t\t\t\t},\n\t\t\t\tcustomCss: 'url',\n\t\t\t\tonError: (error) => {\n\t\t\t\t\tconsole.error('WebSDK onError', error);\n\t\t\t\t},\n\t\t\t})\n\t\t\t.build();\n\t\tsnsWebSdkInstance.launch('#sumsub-websdk-container');\n\t} else {\n\t\twarningNotification(t('Warning.metamask.not.detected.title'), t('Warning.metamask.not.detected.desc'));\n\t}\n\t\n};\n\nconst countdownTimer = (t) => {\n\tconst difference = +new Date(\"2020-11-30 13:00\") - +new Date();\n\tlet custom_return = '';\n\t\t\n\tif (difference > 0) {\n\t\tconst parts = {\n\t\t\tdays: Math.floor(difference / (1000 * 60 * 60 * 24)),\n\t\t\thours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n\t\t\tminutes: Math.floor((difference / 1000 / 60) % 60),\n\t\t\tseconds: Math.floor((difference / 1000) % 60),\n\t\t};\n\t\t\n\t\tcustom_return =\n\t\tt('Profile.ovr.sale.start')+' ' +\n\t\t\tparts.days +\n\t\t\t' '+t('Profile.days')+' ' +\n\t\t\tparts.hours +\n\t\t\t' '+t('Profile.hours')+' ' +\n\t\t\tparts.minutes +\n\t\t\t' '+t('Profile.mins')+' ' +\n\t\t\tparts.seconds + ' '+t('Profile.secs')+'.';\n\t}\n\treturn custom_return;\n};\n\nconst Profile = () => {\n\tconst { t, i18n } = useTranslation();\n\tconst { state } = useContext(UserContext);\n\tconst { isLoggedIn: userAuthenticated } = state;\n\n\t// Google Analytics\n\tuseEffect(() => {\n\t\tlet authenticated = \"\";\n\t\tif(userAuthenticated){\n\t\t\tauthenticated = \"/authenticated\"\n\t\t}\n\t\tReactGA.set({ page: window.location.pathname + authenticated}); \n\t\tReactGA.pageview(window.location.pathname + authenticated); \n\t}, [userAuthenticated])\n\n\tif (!userAuthenticated) {\n\t\treturn <ProfileContentLoginRequired t={t}/>;\n\t}\n\n\treturn <ProfileLayout state={state}/>;\n};\n\nexport default Profile;\n","import React, { useEffect } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\nimport Fade from '@material-ui/core/Fade';\nimport { useHistory } from 'react-router-dom';\nimport * as moment from 'moment';\nimport { promisify } from '../../lib/config';\nimport config from '../../lib/config';\nimport { useTranslation } from 'react-i18next'\n\nconst ActivityTile = (props) => {\n\tconst { t, i18n } = useTranslation()\n\tlet history = useHistory();\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\n\tconst [pending, setPending] = React.useState(props.data.status === 0);\n\tconst open = Boolean(anchorEl);\n\n\tconst handleClick = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\tconst handleGoTo = () => {\n\t\tsetAnchorEl(null);\n\t\thistory.push('/map/land/' + props.data.hexId);\n\t};\n\n\tconst formatTextContent = (content) => {\n\t\treturn content.replace(props.data.landSentence, '<span>' + props.data.landSentence + '</span>');\n\t};\n\n\tconst handleEtherscan = () => {\n\t\tsetAnchorEl(null);\n\t\tlet etherscanLink = config.apis.etherscan + '/tx/' + props.data.txHash;\n\t\twindow.open(etherscanLink, \"_blank\")\n  };\n\n\tconst setAsReaded = () => {};\n\n\treturn (\n\t\t<div key={props.data.uuid} className={`ActivityTile ${!pending ? '--new' : ''}`} onClick={setAsReaded}>\n\t\t\t<div className=\"ActivityTile__head\">\n\t\t\t\t<div className=\"ActivityTile__icon\"></div>\n\t\t\t</div>\n\t\t\t<div className=\"ActivityTile__body\">\n\t\t\t\t<div className=\"ActivityTile__time\">{moment(props.data.createdAt).format('HH:mm, dddd, MMM D, YYYY')}</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"ActivityTile__content\"\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: formatTextContent(props.data.content) }}\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<IconButton aria-label=\"more\" aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n\t\t\t\t<MoreIcon />\n\t\t\t</IconButton>\n\t\t\t<Menu id=\"fade-menu\" anchorEl={anchorEl} keepMounted open={open} onClose={handleClose} TransitionComponent={Fade}>\n\t\t\t\t<MenuItem onClick={handleGoTo}>{t('ActivityTile.goto.land')}</MenuItem>\n\t\t\t\t{props.data.txHash && <MenuItem onClick={handleEtherscan}>{t('ActivityTile.check.ether')}</MenuItem>}\n\t\t\t</Menu>\n\t\t</div>\n\t);\n};\n\nexport default ActivityTile;\n","import React, { useContext, useEffect, useState } from 'react';\nimport * as moment from 'moment';\n\nimport { userActivities } from '../../lib/api';\nimport { UserContext } from '../../context/UserContext';\nimport { Web3Context } from '../../context/Web3Context';\nimport ActivityTile from '../../components/ActivityTile/ActivityTile';\nimport { useTranslation } from 'react-i18next'\n\n\nconst ActivityContentLoginRequired = (t) => (\n\t<div className=\"profile\">\n\t\t<div className=\"o-container\">\n\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t{t('Activity.login.required')}\n\t\t\t\t\t<span role=\"img\" aria-label=\"Cool dude\">\n\t\t\t\t\t\t😎\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"c-dialog-sub-title\">{t('Activity.login.now')}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n);\n\nconst ActivityLayout = (t) => {\n\tconst currentDatetimeStamp = moment().format('HH:mm, dddd, MMM D, YYYY');\n\treturn (\n\t\t<div className=\"activity\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"p-header\">\n\t\t\t\t\t<h2 className=\"p-header-title\">Activity</h2>\n\t\t\t\t\t<span className=\"p-header-datetime\">{currentDatetimeStamp}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sub-title\">\n\t\t\t\t\t{t('Activity.list.transactions')}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ActivityContent t={t}></ActivityContent>\n\t\t</div>\n\t);\n};\n\nconst ActivityContent = (t) => {\n\tconst { state: userState } = useContext(UserContext);\n\tconst { actions: userActions } = useContext(UserContext);\n\tconst [activityList, setActivityList] = useState(false);\n\tconst web3Context = useContext(Web3Context);\n\tconst { user } = userState;\n\n\t// Update activities when componenet is loaded\n\tuseEffect(() => {\n\t\tuserActivities().then((response) => {\n\t\t\tuserActions.setUserActivity(response.data.user);\n\t\t});\n\t}, []);\n\n\t// Update activities when receive a notification\n\tuseEffect(() => {\n\t\tuserActivities().then((response) => {\n\t\t\tuserActions.setUserActivity(response.data.user);\n\t\t});\n\t}, [userState.user.notifications]);\n\n\tuseEffect(() => {\n\t\tif (userState.user.activities && userState.user.activities.content) {\n\t\t\tlet activities = [];\n\t\t\tactivities = userState.user.activities.content.map((obj) => (\n\t\t\t\t<ActivityTile\n\t\t\t\t\tkey={obj.uuid}\n\t\t\t\t\tdata={obj}\n\t\t\t\t\tcontext={{\n\t\t\t\t\t\tuserState: user,\n\t\t\t\t\t\tweb3Context: web3Context,\n\t\t\t\t\t}}\n\t\t\t\t></ActivityTile>\n\t\t\t));\n\t\t\tif (activities.length === 0) {\n\t\t\t\tactivities = (\n\t\t\t\t\t<div className=\"profile\">\n\t\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t\t\t{t('Activity.no.activity')}\n\t\t\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"Cool dude\">\n\t\t\t\t\t\t\t\t\t\t🤙\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\t// return activities;\n\t\t\tsetActivityList(activities);\n\t\t}\n\t}, [userState.user.activities]);\n\n\treturn (\n\t\t<div className=\"activity-content\">\n\t\t\t<div className=\"o-container\">{activityList}</div>\n\t\t</div>\n\t);\n};\n\nconst Activity = () => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst { state } = useContext(UserContext);\n\tconst { isLoggedIn: userAuthenticated } = state;\n\n\tif (!userAuthenticated) {\n\t\treturn <ActivityContentLoginRequired t={t}/>;\n\t}\n\treturn <ActivityLayout state={state} t={t}/>;\n};\n\nexport default Activity;\n","import React, { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useHistory } from 'react-router-dom';\nimport { withWeb3Context, Web3Context } from '../../context/Web3Context';\nimport { MapContext } from '../../context/MapContext';\nimport { useTranslation } from 'react-i18next'\nimport { UserContext } from '../../context/UserContext';\nimport ReactGA from 'react-ga';\n\n/**\n * Login page component\n */\n\nconst Login = (props) => {\n\tconst { t, i18n } = useTranslation();\n\tconst web3Context = useContext(Web3Context);\n\tconst mapContext = useContext(MapContext);\n\tconst userContext = useContext(UserContext);\n\tlet history = props.history;\n\n\tuseEffect(() => {\n\t\tReactGA.set({ page: window.location.pathname }); // Update the user's current page\n\t\tReactGA.pageview(window.location.pathname); // Record a pageview for the given page\n\t\t// Login via web3\n\n\t\tif(userContext.state.isLoggedIn){\n\t\t\thistory.push('/profile');\n\t\t}\n/* \t\tweb3Context.actions.setupWeb3(() => {\n\t\t\thistory.push('/profile');\n\t\t\t// TODO: KYC - history.push('map/discover');\n\t\t\t// console.log('login here eheh');\n\t\t\tif (mapContext.state.onSingleView) {\n\t\t\t\thistory.push('/map/land/' + mapContext.state.hex_id);\n\t\t\t}\n\t\t\t// onSingleView\n\t\t}); */\n\t}, [userContext.state.isLoggedIn]);\n\n\t//\n\t// Return\n\t//\n\n\treturn (\n\t\t<div className=\"Login\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<h2>{t('Login.welcome.back')}</h2>\n\t\t\t\t<div className=\"Login__sub-title\">\n\t\t\t\t\t{t('Login.use.metamask')}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"Login__footer\">\n\t\t\t\t\t{t('Login.contact.us')} {' '}\n\t\t\t\t\t<Link to=\"mailto:info@ovr.ai\">info@ovr.ai</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withWeb3Context(Login);\n","import React, { useContext, useEffect, useState } from 'react';\nimport HexButton from '../../components/HexButton/HexButton';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport CheckCircleSharpIcon from '@material-ui/icons/CheckCircleSharp';\nimport config from '../../lib/config';\nimport { Web3Context, withWeb3Context } from '../../context/Web3Context';\nimport { UserContext, withUserContext } from '../../context/UserContext';\nimport { useHistory,Link } from 'react-router-dom';\nimport Web3 from 'web3';\nimport { useTranslation } from 'react-i18next'\nimport ReactGA from 'react-ga';\n\n\n/**\n * LoginHelper page component\n */\n\nconst LoginHelper = () => {\n\tconst { t, i18n } = useTranslation()\n\n\tconst context = useContext(Web3Context);\n\tconst userContext = useContext(UserContext);\n\n\tlet history = useHistory();\n\n\tconst [imWalletInstruction, setImWalletInstruction] = useState(false);\n\n\tuseEffect(() => {\n\t\tReactGA.set({ page: window.location.pathname}); \n\t\tReactGA.pageview(window.location.pathname);\n\t\t// If user is logged in\n\t\tif (userContext.state.isLoggedIn) {\n\t\t\thistory.push('/profile');\n\t\t}\n\t\t// Load Web3\n\t\tconst ethereum = window.ethereum;\n\t\tasync function startEth() {\n\t\t\tif (typeof ethereum !== 'undefined') {\n\t\t\t\ttry {\n\t\t\t\t\tawait ethereum.enable();\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// console.log(e);\n\t\t\t\t}\n\t\t\t\twindow.web3 = new Web3(ethereum);\n\t\t\t} else if (typeof window.web3 !== 'undefined') {\n\t\t\t\twindow.web3 = new Web3(window.web3.currentProvider);\n\t\t\t\twindow.web3.eth.defaultAccount = window.web3.eth.accounts[0];\n\t\t\t}\n\t\t}\n\t\tstartEth();\n\t}, []); //window.web3.networkVersion, window.web3.eth.defaultAccount, window.web3.eth.accounts[0]\n\n\tfunction metamaskComponent() {\n\t\tlet isWeb3Active = typeof window.web3 !== 'undefined';\n\t\tlet isWeb3Account = false;\n\t\tlet web3NetworkVersion = false;\n\t\tif (isWeb3Active) {\n\t\t\tisWeb3Account = window.web3.eth.accounts.length > 0;\n\t\t\tweb3NetworkVersion = parseInt(window.ethereum.chainId, 16) === config.web3network;\n\t\t}\n\t\tif(!imWalletInstruction){\n\t\t\treturn(\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"o-box\">\n\t\t\t\t\t\t<h1>{t('Signup.first.things')}</h1>\n\t\t\t\t\t\t<div className=\"Signup__section --left\">\n\t\t\t\t\t\t\t{isWeb3Active ? (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> {t('Signup.web3.install')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> {t('Signup.web3.install')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isWeb3Account ? (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> {t('Signup.web3.login')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> {t('Signup.web3.login')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{web3NetworkVersion ? (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> {t('Signup.connect.to')}{' '}\n\t\t\t\t\t\t\t\t\t{String(config.web3network) === '3' ? 'Ropsten' : 'Mainnet'} {t('Signup.network')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> {t('Signup.connect.to')}{' '}\n\t\t\t\t\t\t\t\t\t{String(config.web3network) === '3' ? 'Ropsten' : 'Mainnet'} {t('Signup.network')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* <div className=\"ignore-this\">\n\t\t\t\t\t\t\tFor debug only, ignore this:\n\t\t\t\t\t\t\t{isWeb3Active.toString()}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t{web3NetworkVersion.toString()}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t{isWeb3Account.toString()}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t{typeof window.web3}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t{window.web3 ? window.web3.eth.accounts : ''}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t{window.web3 ? window.ethereum.networkVersion : ''}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t{isWeb3Active && web3NetworkVersion && isWeb3Account ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"Signup__section Signup__msg --positive\">{t('Signup.web3.present')}</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"Signup__section Signup__msg --negative\">\n\t\t\t\t\t\t\t\t\t{t('Signup.web3.not.present')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\t\turl=\"https://metamask.io\"\n\t\t\t\t\t\t\t\t\t\ttext={t('Signup.web3.install.metamask')}  \n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\tclassName={'--purple'}\n\t\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\t\turl=\"https://token.im/\"\n\t\t\t\t\t\t\t\t\t\ttext={t('Signup.web3.install.imtoken')} \n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\tclassName={'--purple --install-imtoken'}\n\t\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto=\"#\"\n\t\t\t\t\t\t\t\t\tclassName='Signup__section__small-link'\n\t\t\t\t\t\t\t\t\tonClick={() => {setImWalletInstruction(true)}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Signup.imwallet.tutorial.link')}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t} else {\n\t\t\treturn(\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"o-box --tutorial\">\n\t\t\t\t\t\t<h1>{t('Signup.imwallet.tutorial.title')}</h1>\n\t\t\t\t\t\t<div className=\"Signup__section --left\">\n\t\t\t\t\t\t\t{t('Signup.imwallet.tutorial.body')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto=\"#\"\n\t\t\t\t\t\t\tclassName='Signup__section__small-link'\n\t\t\t\t\t\t\tonClick={() => {setImWalletInstruction(false)}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('Generic.back.link')}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div> \n\t\t\t\t</div> \n\t\t\t)\n\t\t}\n\t}\n\t//\n\t// Return\n\t//\n\n\treturn <div className=\"Signup\">{metamaskComponent()}</div>;\n};\n\nexport default withWeb3Context(LoginHelper);\n\n\n{/* <div className=\"ignore-this\">\n\tFor debug only, ignore this:\n\t{isWeb3Active.toString()}\n\t<br></br>\n\t{web3NetworkVersion.toString()}\n\t<br></br>\n\t{isWeb3Account.toString()}\n\t<br></br>\n\t{typeof window.web3}\n\t<br></br>\n\t{window.web3 ? window.web3.eth.accounts : ''}\n\t<br></br>\n\t{window.web3 ? window.ethereum.networkVersion : ''}\n\t<br></br>\n</div> \n\n\n*/}","/**\n * Encode object to url parameters\n *\n * @param      {Object} paramsObj The object needs to encode as url parameters\n * @return     {String} Encoded url parameters\n */\nexport default params => '?' + Object.keys(params)\n  .map(param => `${param}=${encodeURIComponent(params[param])}`)\n  .join('&');\n","/**\n * Extract the value for a given key in a url-encoded parameter string\n *\n * @param      {String} paramString The encoded parameter string\n * @param      {String} key The target key\n * @return     {Object} Decoded value for given parameter key\n */\n\nexport default (paramString, key) => {\n  return decodeURIComponent(\n    paramString.replace(\n      new RegExp(\n        '^(?:.*[&\\\\?]' +\n        encodeURIComponent(key).replace(/[\\.\\+\\*]/g, '\\\\$&') +\n        '(?:\\\\=([^&]*))?)?.*$', 'i'\n      ),\n      '$1'\n    )\n  );\n};\n","// @flow\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport getParamsFromObject from './objectToParams';\nimport decodeParamForKey from './decodeParam';\n\nconst getIsMobile = () => {\n  let isMobile = false;\n\n  try {\n    isMobile = !!((window.navigator && window.navigator.standalone) || navigator.userAgent.match('CriOS') || navigator.userAgent.match(/mobile/i));\n  } catch (ex) {\n    // continue regardless of error\n  }\n\n  return isMobile;\n};\n\nclass FacebookLogin extends React.Component {\n\n  static propTypes = {\n    isDisabled: PropTypes.bool,\n    callback: PropTypes.func.isRequired,\n    appId: PropTypes.string.isRequired,\n    xfbml: PropTypes.bool,\n    cookie: PropTypes.bool,\n    authType: PropTypes.string,\n    scope: PropTypes.string,\n    state: PropTypes.string,\n    responseType: PropTypes.string,\n    returnScopes: PropTypes.bool,\n    redirectUri: PropTypes.string,\n    autoLoad: PropTypes.bool,\n    disableMobileRedirect: PropTypes.bool,\n    isMobile: PropTypes.bool,\n    fields: PropTypes.string,\n    version: PropTypes.string,\n    language: PropTypes.string,\n    onClick: PropTypes.func,\n    onFailure: PropTypes.func,\n    render: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    redirectUri: typeof window !== 'undefined' ? window.location.href : '/',\n    scope: 'public_profile,email',\n    returnScopes: false,\n    xfbml: false,\n    cookie: false,\n    authType: '',\n    fields: 'name',\n    version: '3.1',\n    language: 'en_US',\n    disableMobileRedirect: false,\n    isMobile: getIsMobile(),\n    onFailure: null,\n    state: 'facebookdirect',\n    responseType: 'code',\n  };\n\n  state = {\n    isSdkLoaded: false,\n    isProcessing: false,\n  };\n\n  componentDidMount() {\n    this._isMounted = true;\n    if (document.getElementById('facebook-jssdk')) {\n      this.sdkLoaded();\n      return;\n    }\n    this.setFbAsyncInit();\n    this.loadSdkAsynchronously();\n    let fbRoot = document.getElementById('fb-root');\n    if (!fbRoot) {\n      fbRoot = document.createElement('div');\n      fbRoot.id = 'fb-root';\n      document.body.appendChild(fbRoot);\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    if (this.state.isSdkLoaded && nextProps.autoLoad && ! this.props.autoLoad) {\n      window.FB.getLoginStatus(this.checkLoginAfterRefresh);\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  setStateIfMounted(state) {\n    if (this._isMounted) {\n      this.setState(state);\n    }\n  }\n\n  setFbAsyncInit() {\n    const { appId, xfbml, cookie, version, autoLoad } = this.props;\n    window.fbAsyncInit = () => {\n      window.FB.init({\n        version: `v${version}`,\n        appId,\n        xfbml,\n        cookie,\n      });\n      this.setStateIfMounted({ isSdkLoaded: true });\n      if (autoLoad || this.isRedirectedFromFb()) {\n        window.FB.getLoginStatus(this.checkLoginAfterRefresh);\n      }\n    };\n  }\n\n  isRedirectedFromFb() {\n    const params = window.location.search;\n    return (\n      decodeParamForKey(params, 'state') === 'facebookdirect' && (decodeParamForKey(params, 'code') ||\n      decodeParamForKey(params, 'granted_scopes'))\n    );\n  }\n\n  sdkLoaded() {\n    this.setState({ isSdkLoaded: true });\n  }\n\n  loadSdkAsynchronously() {\n    const { language } = this.props;\n    ((d, s, id) => {\n      const element = d.getElementsByTagName(s)[0];\n      const fjs = element;\n      let js = element;\n      if (d.getElementById(id)) { return; }\n      js = d.createElement(s); js.id = id;\n      js.src = `https://connect.facebook.net/${language}/sdk.js`;\n      fjs.parentNode.insertBefore(js, fjs);\n    })(document, 'script', 'facebook-jssdk');\n  }\n\n  responseApi = (authResponse) => {\n    window.FB.api('/me', { locale: this.props.language, fields: this.props.fields }, (me) => {\n      Object.assign(me, authResponse);\n      this.props.callback(me);\n    });\n  };\n\n  checkLoginState = (response) => {\n    this.setStateIfMounted({ isProcessing: false });\n    if (response.authResponse) {\n      this.responseApi(response.authResponse);\n    } else {\n      if (this.props.onFailure) {\n        this.props.onFailure({ status: response.status });\n      } else {\n        this.props.callback({ status: response.status });\n      }\n    }\n  };\n\n  checkLoginAfterRefresh = (response) => {\n    if (response.status === 'connected') {\n      this.checkLoginState(response);\n    } else {\n      window.FB.login(loginResponse => this.checkLoginState(loginResponse), true);\n    }\n  };\n\n  click = (e) => {\n    if (!this.state.isSdkLoaded || this.state.isProcessing || this.props.isDisabled) {\n      return;\n    }\n    this.setState({ isProcessing: true });\n    const { scope, appId, onClick, returnScopes, responseType, redirectUri, disableMobileRedirect, authType, state } = this.props;\n\n    if (typeof onClick === 'function') {\n      onClick(e);\n      if (e.defaultPrevented) {\n        this.setState({ isProcessing: false });\n        return;\n      }\n    }\n\n    const params = {\n\n      client_id: appId,\n      redirect_uri: redirectUri,\n      state,\n      return_scopes: returnScopes,\n      scope,\n      response_type: responseType,\n      auth_type: authType,\n    };\n\n    if (this.props.isMobile && !disableMobileRedirect) {\n      window.location.href = `https://www.facebook.com/dialog/oauth${getParamsFromObject(params)}`;\n    } else {\n      if (!window.FB) {\n        if (this.props.onFailure) {\n          this.props.onFailure({ status: 'facebookNotLoaded' });\n        }\n\n        return;\n      }\n\n      window.FB.getLoginStatus(response => {\n        if (response.status === 'connected') {\n          this.checkLoginState(response);\n        } else {\n          window.FB.login(this.checkLoginState, { scope, return_scopes: returnScopes, auth_type: params.auth_type });\n        }\n      });\n    }\n  };\n\n  render() {\n    const { render } = this.props;\n\n    if (!render) {\n      throw new Error('ReactFacebookLogin requires a render prop to render');\n    }\n\n    const propsForRender = {\n      onClick: this.click,\n      isDisabled: !!this.props.isDisabled,\n      isProcessing: this.state.isProcessing,\n      isSdkLoaded: this.state.isSdkLoaded,\n    };\n    return this.props.render(propsForRender);\n  }\n}\n\nexport default FacebookLogin;\n","// @flow\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport FacebookLogin from \"./facebook\";\n\n// https://www.w3.org/TR/html5/disabled-elements.html#disabled-elements\nconst _shouldAddDisabledProp = (tag) =>\n  [\n    \"button\",\n    \"input\",\n    \"select\",\n    \"textarea\",\n    \"optgroup\",\n    \"option\",\n    \"fieldset\",\n  ].indexOf((tag + \"\").toLowerCase()) >= 0;\n\nclass ReactFacebookLoginWithButton extends React.Component {\n  static propTypes = {\n    textButton: PropTypes.string,\n    typeButton: PropTypes.string,\n    size: PropTypes.string,\n    cssClass: PropTypes.string,\n    icon: PropTypes.any,\n    containerStyle: PropTypes.object,\n    buttonStyle: PropTypes.object,\n    tag: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  };\n\n  static defaultProps = {\n    textButton: \"Facebook\",\n    typeButton: \"button\",\n    size: \"metro\",\n    fields: \"name\",\n    cssClass: \"kep-login-facebook\",\n    tag: \"button\",\n  };\n\n  containerStyle(renderProps) {\n    const { isProcessing, isSdkLoaded, isDisabled } = renderProps;\n\n    const style = { transition: \"opacity 0.5s\" };\n    if (isProcessing || !isSdkLoaded || isDisabled) {\n      style.opacity = 0.6;\n    }\n    return Object.assign(style, this.props.containerStyle);\n  }\n\n  renderOwnButton(renderProps) {\n    const {\n      cssClass,\n      size,\n      icon,\n      textButton,\n      typeButton,\n      buttonStyle,\n    } = this.props;\n\n    const { onClick, isDisabled } = renderProps;\n\n    const isIconString = typeof icon === \"string\";\n    const optionalProps = {};\n    if (isDisabled && _shouldAddDisabledProp(this.props.tag)) {\n      optionalProps.disabled = true;\n    }\n    return (\n      <span style={this.containerStyle(renderProps)}>\n        {isIconString && (\n          <link\n            rel=\"stylesheet\"\n            href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css\"\n          />\n        )}\n        <this.props.tag\n          type={typeButton}\n          className={`${cssClass} ${size}`}\n          style={buttonStyle}\n          onClick={onClick}\n          {...optionalProps}\n        >\n          {icon && isIconString && <i className={`fa ${icon}`}></i>}\n          {icon && !isIconString && icon}\n          {textButton}\n        </this.props.tag>\n      </span>\n    );\n  }\n\n  render() {\n    return (\n      <FacebookLogin\n        {...this.props}\n        render={(renderProps) => this.renderOwnButton(renderProps)}\n      />\n    );\n  }\n}\n\nexport default ReactFacebookLoginWithButton;\n","import React, { useContext, useEffect, useState } from 'react';\nimport HexButton from '../../components/HexButton/HexButton';\nimport TextField from '@material-ui/core/TextField';\n\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport CheckCircleSharpIcon from '@material-ui/icons/CheckCircleSharp';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nimport config from '../../lib/config';\nimport { signUpHybrid, signUpHybridSocial } from '../../lib/api';\nimport { saveToken } from '../../lib/auth';\nimport { dangerNotification } from '../../lib/notifications';\n\nimport { Web3Context, withWeb3Context } from '../../context/Web3Context';\nimport { UserContext, withUserContext } from '../../context/UserContext';\n\nimport { useHistory } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport Web3 from 'web3';\nimport { GoogleLogin } from 'react-google-login';\nimport FacebookLoginWithButton from '../../facebook/facebook-with-button';\n\nimport { useTranslation } from 'react-i18next'\n\n\n/**\n * Signup page component\n */\n\nconst Signup = () => {\n\tconst { t, i18n } = useTranslation()\n\n\tconst context = useContext(Web3Context);\n\tconst userContext = useContext(UserContext);\n\n\tlet history = useHistory();\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [userEmail, setUserEmail] = useState('');\n\n\tconst [isSignupLoading, setIsSignupLoading] = useState(false);\n\tconst [userEmailValid, setUserEmailValid] = useState(false);\n\tconst [userEmailInputError, setUserEmailInputError] = useState(false);\n\n\tconst [facebookToken, setFacebookToken] = useState(false);\n\tconst [googleToken, setGoogleToken] = useState(false);\n\n\tconst [username, setUsername] = useState('');\n\tconst [usernameValid, setUsernameValid] = useState(false);\n\tconst [usernameInputError, setUsernameInputError] = useState(false);\n\n\tuseEffect(() => {\n\t\t// If user is logged in\n\t\tif (userContext.state.isLoggedIn) {\n\t\t\thistory.push('/profile');\n\t\t}\n\t\t// Load Web3\n\t\tconst ethereum = window.ethereum;\n\t\tasync function startEth() {\n\t\t\tif (typeof ethereum !== 'undefined') {\n\t\t\t\ttry {\n\t\t\t\t\tawait ethereum.enable();\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// console.log(e);\n\t\t\t\t}\n\t\t\t\twindow.web3 = new Web3(ethereum);\n\t\t\t} else if (typeof window.web3 !== 'undefined') {\n\t\t\t\twindow.web3 = new Web3(window.web3.currentProvider);\n\t\t\t\twindow.web3.eth.defaultAccount = window.web3.eth.accounts[0];\n\t\t\t}\n\t\t}\n\t\tstartEth();\n\t}, []);\n\n\tconst handleNext = async () => {\n\t\tif (activeStep + 1 === 1) {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t} else {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t}\n\t};\n\n\tconst emailRegexAndNext = async () => {\n\t\tif (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(userEmail)) {\n\t\t\thandleNext();\n\t\t} else {\n\t\t\tsetUserEmailInputError(t('Signup.email.not.valid'));\n\t\t\tsetUserEmailValid(false);\n\t\t}\n\t};\n\n\tconst updateUserEmail = (e) => {\n\t\tsetUserEmailInputError(false);\n\t\tif (userEmail === '') {\n\t\t\tsetUserEmailValid(false);\n\t\t} else {\n\t\t\tsetUserEmailValid(true);\n\t\t}\n\t\tsetUserEmail(e.target.value);\n\t};\n\n\tconst updateUsername = (e) => {\n\t\tsetUsernameInputError(false);\n\t\tif (username === '') {\n\t\t\tsetUsernameValid(false);\n\t\t} else {\n\t\t\tsetUsernameValid(true);\n\t\t}\n\t\tsetUsername(e.target.value);\n\t};\n\n\tconst handleSubscribe = () => {\n\t\tsetIsSignupLoading(true);\n\t\twindow.web3.eth.defaultAccount = window.web3.eth.accounts[0];\n\t\tlet publicAddress = window.web3.eth.defaultAccount.toLowerCase();\n\t\tif (googleToken == false && facebookToken == false) {\n\t\t\tsignUpHybrid(userEmail, username, publicAddress).then((response) => {\n\t\t\t\tsetIsSignupLoading(false);\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\thandleNext();\n\t\t\t\t} else {\n\t\t\t\t\tlet error_code = response.data.errors[0].code;\n\t\t\t\t\tlet error_message = response.data.errors[0].message;\n\t\t\t\t\tif (error_code == 'public_address') {\n\t\t\t\t\t\tdangerNotification(error_message, t('Signup.try.login'));\n\t\t\t\t\t\tsetActiveStep(0);\n\t\t\t\t\t} else if (error_code == 'email') {\n\t\t\t\t\t\tsetActiveStep(2);\n\t\t\t\t\t\tsetUserEmailValid(false);\n\t\t\t\t\t\tsetUserEmailInputError(error_message);\n\t\t\t\t\t} else if (error_code == 'username') {\n\t\t\t\t\t\tsetActiveStep(3);\n\t\t\t\t\t\tsetUsernameValid(false);\n\t\t\t\t\t\tsetUsernameInputError(error_message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tlet token;\n\t\t\tlet provider;\n\t\t\tif (googleToken) {\n\t\t\t\ttoken = googleToken;\n\t\t\t\tprovider = 'google';\n\t\t\t}\n\t\t\tif (facebookToken) {\n\t\t\t\ttoken = facebookToken;\n\t\t\t\tprovider = 'facebook';\n\t\t\t}\n\t\t\t// console.log('token', token)\n\t\t\t// console.log('provider', provider)\n\t\t\t// console.log('username', username)\n\t\t\t// console.log('publicAdress', publicAddress)\n\t\t\tsignUpHybridSocial(token, provider, username, publicAddress).then((response) => {\n\t\t\t\tsetIsSignupLoading(false);\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\thandleNext();\n\t\t\t\t} else {\n\t\t\t\t\tlet error_code = response.data.errors[0].code;\n\t\t\t\t\tlet error_message = response.data.errors[0].message;\n\t\t\t\t\t// console.log('response.data', response.data);\n\t\t\t\t\tif (error_code == 'public_address') {\n\t\t\t\t\t\tdangerNotification(error_message, t('Signup.try.login'));\n\t\t\t\t\t\tsetActiveStep(0);\n\t\t\t\t\t} else if (error_code == 'token' || error_code == 'oauth') {\n\t\t\t\t\t\tsetActiveStep(2);\n\t\t\t\t\t\tsetUserEmailValid(false);\n\t\t\t\t\t\tsetUserEmailInputError(error_message);\n\t\t\t\t\t} else if (error_code == 'username') {\n\t\t\t\t\t\tsetActiveStep(3);\n\t\t\t\t\t\tsetUsernameValid(false);\n\t\t\t\t\t\tsetUsernameInputError(error_message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleLogin = () => {\n\t\tcontext.actions.setupWeb3(() => {\n\t\t\tsaveToken('firstAfterSignup', true);\n\t\t\thistory.push('/profile');\n\t\t\t// TODO: KYC - history.push('map/discover');\n\t\t});\n\t};\n\n\tconst responseGoogle = (response) => {\n\t\t// console.log('google', response);\n\t\tif (response.tokenId) {\n\t\t\tsetGoogleToken(response.tokenId);\n\t\t\thandleNext();\n\t\t}\n\t};\n\n\tconst responseFacebook = (response) => {\n\t\tconsole.log('facebook', response);\n\t\tif (response.accessToken) {\n\t\t\tsetFacebookToken(response.accessToken);\n\t\t\thandleNext();\n\t\t}\n\t};\n\n\tfunction getStepContent(step) {\n\t\tlet isWeb3Active = typeof window.web3 !== 'undefined';\n\t\tlet isWeb3Account = false;\n\t\tlet web3NetworkVersion = false;\n\t\tif (isWeb3Active) {\n\t\t\tisWeb3Account = window.web3.eth.accounts.length > 0;\n\t\t\tweb3NetworkVersion = parseInt(window.ethereum.chainId, 16) === config.web3network;\n\t\t}\n\t\tswitch (step) {\n\t\t\tcase -1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"o-box\">\n\t\t\t\t\t\t\t<h1>{t('Signup.connect.with')}</h1>\n\t\t\t\t\t\t\t<div className=\"Social__section\">\n\t\t\t\t\t\t\t\t<GoogleLogin\n\t\t\t\t\t\t\t\t\tclientId=\"842312482762-n12g86otvipvmrbgscnur48m9aq8kf9l.apps.googleusercontent.com\"\n\t\t\t\t\t\t\t\t\tclassName=\"google-button\"\n\t\t\t\t\t\t\t\t\tbuttonText=\"Google Account\"\n\t\t\t\t\t\t\t\t\tonSuccess={responseGoogle}\n\t\t\t\t\t\t\t\t\tonFailure={responseGoogle}\n\t\t\t\t\t\t\t\t\tcookiePolicy={'single_host_origin'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<FacebookLoginWithButton appId=\"278283846412876\" callback={responseFacebook} icon=\"fa-facebook\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"o-box\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\twidth=\"234px\"\n\t\t\t\t\t\t\t\theight=\"260px\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 234 260\"\n\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\tclassName=\"Logo\"\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<title>{t('Signup.group.label')}</title>\n\t\t\t\t\t\t\t\t<desc>{t('Signup.sketch.desc')}</desc>\n\t\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\tx1=\"25.3511512%\"\n\t\t\t\t\t\t\t\t\t\ty1=\"49.9738242%\"\n\t\t\t\t\t\t\t\t\t\tx2=\"107.245785%\"\n\t\t\t\t\t\t\t\t\t\ty2=\"49.9738242%\"\n\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-1\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#6B32C1\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#C81D5E\" offset=\"99.6%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t<linearGradient x1=\"0%\" y1=\"49.997576%\" x2=\"100.032735%\" y2=\"49.997576%\" id=\"linearGradient-2\">\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#EC663C\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#F9B426\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\tx1=\"52.9498211%\"\n\t\t\t\t\t\t\t\t\t\ty1=\"9.77958549%\"\n\t\t\t\t\t\t\t\t\t\tx2=\"46.413551%\"\n\t\t\t\t\t\t\t\t\t\ty2=\"97.6215544%\"\n\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-3\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#0081DD\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#0589E0\" offset=\"18.55%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#11A0E9\" offset=\"47.85%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#25C5F8\" offset=\"84.03%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#2FD7FF\" offset=\"99.72%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\tx1=\"50.0693857%\"\n\t\t\t\t\t\t\t\t\t\ty1=\"83.9637181%\"\n\t\t\t\t\t\t\t\t\t\tx2=\"50.0693857%\"\n\t\t\t\t\t\t\t\t\t\ty2=\"-0.0504747626%\"\n\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#4E4D4C\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#5A5858\" offset=\"12.43%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#747273\" offset=\"46.61%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#848183\" offset=\"76.91%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#8A8789\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t<radialGradient\n\t\t\t\t\t\t\t\t\t\tcx=\"35.4086957%\"\n\t\t\t\t\t\t\t\t\t\tcy=\"34.4852355%\"\n\t\t\t\t\t\t\t\t\t\tfx=\"35.4086957%\"\n\t\t\t\t\t\t\t\t\t\tfy=\"34.4852355%\"\n\t\t\t\t\t\t\t\t\t\tr=\"66.2842391%\"\n\t\t\t\t\t\t\t\t\t\tid=\"radialGradient-5\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FDFDFC\" stopOpacity=\"0.8589\" offset=\"35.27%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#F6F6F2\" stopOpacity=\"0.7424\" offset=\"64.4%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#EAEBE0\" stopOpacity=\"0.635\" offset=\"91.26%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#E5E6D9\" stopOpacity=\"0.6\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t\t</radialGradient>\n\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\tx1=\"21.2472955%\"\n\t\t\t\t\t\t\t\t\t\ty1=\"18.1560041%\"\n\t\t\t\t\t\t\t\t\t\tx2=\"81.1871703%\"\n\t\t\t\t\t\t\t\t\t\ty2=\"81.6403727%\"\n\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" stopOpacity=\"0.5\" offset=\"99.99%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\tx1=\"37.2050099%\"\n\t\t\t\t\t\t\t\t\t\ty1=\"17.2946945%\"\n\t\t\t\t\t\t\t\t\t\tx2=\"63.1259484%\"\n\t\t\t\t\t\t\t\t\t\ty2=\"89.469351%\"\n\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-7\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" stopOpacity=\"0.3\" offset=\"99.99%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t\t<g id=\"Symbols\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t<g id=\"logo_ovr\">\n\t\t\t\t\t\t\t\t\t\t<g id=\"Group\">\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M228.9,48.9 C226,44.9 222,41.6 217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 L117,96.6 L117,163.6 L228.9,210.5 C232.2,205.9 234,200.4 234,194.5 L234,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_viola_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-1`}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M106.5,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 C1.9,53.5 0,59.1 0,64.9 L0,194.4 C0,200.3 1.9,205.8 5.1,210.4 L117,163.5 L117,96.5 L117,0 C113.4,0 109.8,0.7 106.5,2.1 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_org_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-2`}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M117,163.5 L5.1,210.4 C8,214.4 11.9,217.6 16.6,219.6 L88.7,250.3 L106.2,257.8 C109.6,259.3 113.3,260 116.9,260 C120.6,260 124.2,259.3 127.6,257.8 L139.8,252.6 L217.2,219.6 C221.9,217.6 225.9,214.4 228.7,210.4 L117,163.5 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_blu_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-3`}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M198.7,67.6 C196.6,64.5 193.7,62 190.2,60.5 L164.7,49.2 L124.8,31.6 C122.3,30.5 119.7,30 117.1,30 C114.5,30 111.8,30.5 109.4,31.6 L46.1,59.5 L43.9,60.5 C40.4,62 37.5,64.5 35.4,67.6 C33,71.1 31.6,75.4 31.6,79.9 L31.6,179.6 C31.6,184.1 33,188.4 35.3,191.9 C37.4,195 40.3,197.5 43.7,199 L96.3,222.6 L109.1,228.4 C111.6,229.5 114.3,230.1 116.9,230.1 C119.5,230.1 122.2,229.5 124.7,228.4 L133.6,224.4 L190.1,199 C193.5,197.5 196.4,195 198.5,191.9 C200.9,188.4 202.2,184.1 202.2,179.6 L202.2,79.9 C202.5,75.4 201.1,71.1 198.7,67.6 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_hex-trasp_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-4`}\n\t\t\t\t\t\t\t\t\t\t\t\topacity=\"0.45\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'color-burn' }}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_sphere_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#radialGradient-5)`}\n\t\t\t\t\t\t\t\t\t\t\t\tcx=\"117\"\n\t\t\t\t\t\t\t\t\t\t\t\tcy=\"129.6\"\n\t\t\t\t\t\t\t\t\t\t\t\tr=\"55.2\"\n\t\t\t\t\t\t\t\t\t\t\t></circle>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 C113.4,0 109.8,0.7 106.4,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 L117,96.6 L228.9,49 C226,44.9 222,41.7 217.3,39.7 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_top_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-6`}\n\t\t\t\t\t\t\t\t\t\t\t\topacity=\"0.76\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'soft-light' }}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M228.9,48.9 L117,96.6 L117,163.6 L117,260 C120.7,260 124.3,259.3 127.7,257.8 L139.9,252.6 L217.3,219.6 C222,217.6 226,214.4 228.8,210.4 C232.1,205.8 233.9,200.3 233.9,194.4 L233.9,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_left_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-7`}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'soft-light' }}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<h2>{t('Signup.join.ovr')}</h2>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t{t('Signup.ovr.intro')}\n\t\t\t\t\t\t\t\t<div className=\"p-tiny-message\">\n\t\t\t\t\t\t\t\t\t{t('Signup.access.info')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Signup.get.started')} className={'--purple'} onClick={handleNext}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"o-box\">\n\t\t\t\t\t\t\t<h1>{t('Signup.first.things')}</h1>\n\t\t\t\t\t\t\t<div className=\"Signup__section --left\">\n\t\t\t\t\t\t\t\t{isWeb3Active ? (\n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> {t('Signup.web3.install')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> {t('Signup.web3.install')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{isWeb3Account ? (\n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> {t('Signup.web3.login')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> {t('Signup.web3.login')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{web3NetworkVersion ? (\n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> {t('Signup.connect.to')}{' '}\n\t\t\t\t\t\t\t\t\t\t{config.web3network === '3' ? 'Ropsten' : 'Mainnet'} {t('Signup.network')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> {t('Signup.connect.to')}{' '}\n\t\t\t\t\t\t\t\t\t\t{config.web3network === '3' ? 'Ropsten' : 'Mainnet'} {t('Signup.network')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* <div className=\"ignore-this\">\n\t\t\t\t\t\t\t\tFor debug only, ignore this:\n\t\t\t\t\t\t\t\t{isWeb3Active.toString()}\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t{web3NetworkVersion.toString()}\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t{isWeb3Account.toString()}\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t{typeof window.web3}\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t{window.web3 ? window.web3.eth.accounts : ''}\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t{window.web3 ? window.ethereum.networkVersion : ''}\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t{isWeb3Active && web3NetworkVersion && isWeb3Account ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className=\"Signup__section Signup__msg --positive\">{t('Signup.web3.present')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Signup.continue')} className={'--purple'} onClick={handleNext}></HexButton>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className=\"Signup__section Signup__msg --negative\">\n\t\t\t\t\t\t\t\t\t\t{t('Signup.web3.not.present')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\t\t\turl=\"https://metamask.io\"\n\t\t\t\t\t\t\t\t\t\t\ttext=\"Install MetaMask\"\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={'--purple'}\n\t\t\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"o-box \">\n\t\t\t\t\t\t\t<h1>{t('Signup.create.account')}</h1>\n\t\t\t\t\t\t\t<div className=\"Social__section Social__subtitle\">\n\t\t\t\t\t\t\t\t{t('Signup.use.social')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Social__section Social__buttons\">\n\t\t\t\t\t\t\t\t<GoogleLogin\n\t\t\t\t\t\t\t\t\tclientId=\"842312482762-n12g86otvipvmrbgscnur48m9aq8kf9l.apps.googleusercontent.com\"\n\t\t\t\t\t\t\t\t\tbuttonText=\"Google\"\n\t\t\t\t\t\t\t\t\tonSuccess={responseGoogle}\n\t\t\t\t\t\t\t\t\tonFailure={responseGoogle}\n\t\t\t\t\t\t\t\t\tcookiePolicy={'single_host_origin'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FacebookLoginWithButton appId=\"278283846412876\" callback={responseFacebook} icon=\"fa-facebook\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Social__section Social__or\">or</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\tlabel=\"Email address\"\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tclassName=\"Signup__email_textfield\"\n\t\t\t\t\t\t\t\t\terror={userEmailInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={userEmailInputError !== false ? userEmailInputError : ''}\n\t\t\t\t\t\t\t\t\tvalue={userEmail}\n\t\t\t\t\t\t\t\t\tonFocus={updateUserEmail}\n\t\t\t\t\t\t\t\t\tonChange={updateUserEmail}\n\t\t\t\t\t\t\t\t\tonKeyUp={updateUserEmail}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section --small\">\n\t\t\t\t\t\t\t\t{t('Signup.info.stored')}\n\t\t\t\t\t\t\t\t{/* <Link to=\"#\">Read more</Link>. */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext=\"Continue\"\n\t\t\t\t\t\t\t\t\tclassName={`--purple ${userEmailValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tonClick={emailRegexAndNext}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t{isSignupLoading && <CircularProgress />}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 3:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"o-box --left\">\n\t\t\t\t\t\t\t<h1>{t('Signup.set.username')}</h1>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"Signup__userpass_textfield\"\n\t\t\t\t\t\t\t\t\terror={usernameInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={usernameInputError !== false ? usernameInputError : ''}\n\t\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\t\tonFocus={updateUsername}\n\t\t\t\t\t\t\t\t\tonChange={updateUsername}\n\t\t\t\t\t\t\t\t\tonKeyUp={updateUsername}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* <div className=\"Signup__section Signup__pass_cont\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"Signup__userpass_textfield\"\n\t\t\t\t\t\t\t\t\terror={usernameInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={usernameInputError !== false ? usernameInputError : ''}\n\t\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\t\tonFocus={updateUsername}\n\t\t\t\t\t\t\t\t\tonChange={updateUsername}\n\t\t\t\t\t\t\t\t\tonKeyUp={updateUsername}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t<div className=\"Signup__section --small\">\n\t\t\t\t\t\t\t\t{t('Signup.info.stored')}\n\t\t\t\t\t\t\t\t{/* <Link to=\"#\">Read more</Link>. */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext=\"Signup\"\n\t\t\t\t\t\t\t\t\tclassName={`--purple ${isSignupLoading || usernameValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tonClick={handleSubscribe}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t{isSignupLoading && <CircularProgress />}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 4:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"o-box\">\n\t\t\t\t\t\t\t<h1>{t('Signup.completed')}</h1>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<CheckCircleIcon className=\"CheckCircleIcon\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t{t('Signup.success')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* <div className=\"Signup__section Signup__pass_cont\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"Signup__userpass_textfield\"\n\t\t\t\t\t\t\t\t\terror={usernameInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={usernameInputError !== false ? usernameInputError : ''}\n\t\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\t\tonFocus={updateUsername}\n\t\t\t\t\t\t\t\t\tonChange={updateUsername}\n\t\t\t\t\t\t\t\t\tonKeyUp={updateUsername}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t<div className=\"Signup__section --small\">\n\t\t\t\t\t\t\t\t{t('Signup.info.stored')}\n\t\t\t\t\t\t\t\t{/* <Link to=\"#\">Read more</Link>. */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Log me in\" className=\"--purple\" onClick={handleLogin}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\t//\n\t// Return\n\t//\n\n\treturn <div className=\"Signup\">{getStepContent(activeStep)}</div>;\n};\n\nexport default withWeb3Context(Signup);\n","import React from 'react';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\nimport Fade from '@material-ui/core/Fade';\nimport { useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next'\n\n\nimport { readNotification, hideNotification } from '../../lib/api';\n\nconst Notification = (props) => {\n\tconst { t, i18n } = useTranslation()\n\n\tlet history = useHistory();\n\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\n\tconst [readed, setReaded] = React.useState(props.data.status !== 0);\n\tconst [hidden, setHidden] = React.useState(false);\n\tconst open = Boolean(anchorEl);\n\n\tconst handleClick = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\tconst handleGoTo = () => {\n\t\tsetAnchorEl(null);\n\t\thistory.push('/map/land/' + props.data.hexId);\n\t\tprops.actions.toggleNotificationCenter();\n\t};\n\n\tconst formatTextContent = (content) => {\n\t\treturn content.replace(props.data.landSentence, \"<span>\" + props.data.landSentence +\"</span>\");\n\t}\n\n\tconst handleHide = () => {\n\t\tsetAnchorEl(null);\n\t\tsetHidden(true);\n\t\thideNotification(props.data.uuid).then(() => {});\n\t};\n\n\tconst setAsReaded = () => {\n\t\tsetReaded(true);\n\t\tif (!readed) {\n\t\t\treadNotification(props.data.uuid).then((response) => {\n\t\t\t\tprops.actions.setAsReaded(props.data.uuid);\n\t\t\t});\n\t\t}\n\t};\n\n\tconst returnContent = () => {\n\t\tlet content;\n\t\tif (!hidden) {\n\t\t\tcontent = (\n\t\t\t\t<div key={props.data.uuid} className={`Notification ${!readed ? '--new' : ''}`} onClick={setAsReaded}>\n\t\t\t\t\t<div className=\"Notification__body\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"Notification__content\"\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: formatTextContent(props.data.content) }}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div className=\"Notification__time\">\n\t\t\t\t\t\t\t<TimeCounter date_end={props.data.createdAt}></TimeCounter>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<IconButton aria-label=\"more\" aria-controls=\"long-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n\t\t\t\t\t\t<MoreIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Menu\n\t\t\t\t\t\tid=\"fade-menu\"\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\topen={open}\n\t\t\t\t\t\tonClose={handleClose}\n\t\t\t\t\t\tTransitionComponent={Fade}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem onClick={handleGoTo}>{t('Notification.go.to.land')}</MenuItem>\n\t\t\t\t\t\t<MenuItem onClick={handleHide}>{t('Notification.hide.label')}</MenuItem>\n\t\t\t\t\t</Menu>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tcontent = <></>;\n\t\t}\n\t\treturn content;\n\t};\n\treturn <>{returnContent()}</>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport { warningNotification, dangerNotification } from '../../lib/notifications';\nimport * as moment from 'moment';\nimport { Link } from 'react-router-dom';\n\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\n\nimport HexButton from '../../components/HexButton/HexButton';\nimport config from '../../lib/config';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\nconst partnerName = 'ovrproduction';\n\n/**\n * Buy tokens component\n */\nconst BuyTokens = (context) => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst { perEth, perUsd, setupComplete } = context.web3Provider.state;\n\tconst { getPrices, buy } = context.web3Provider.actions;\n\tconst { user } = context.userProvider.state;\n\tconst [tokensToBuy, setTokensToBuy] = useState(100);\n\tconst [usdToSpend, setUsdToSpend] = useState(10);\n\tconst [activeCurrency, setActiveCurrency] = useState(0);\n\n\tuseEffect(() => {\n\t\tif (setupComplete) getPrices();\n\t}, [setupComplete]);\n\n\tconst buyWithIndacoin = () => {\n\t\tif (config.environment != 'DEVELOPMENT' && user.kycReviewAnswer < 1) { return dangerNotification(t('Danger.require.verification.title'), t('Danger.require.verification.desc')); }\n\t\tif (tokensToBuy <= 0)\n\t\t\treturn warningNotification(t('Warning.amount.empty.title'), t('Warning.amount.empty.desc'));\n\t\tconst url = `https://indacoin.com/gw/payment_form?partner=${partnerName}&cur_from=USD&cur_to=USD&amount=${usdToSpend}&address=${window.web3.eth.accounts[0]}&user_id=${user.uuid}`;\n\t\twindow.location = url;\n\t};\n\n\tconst selectCurrency = (currencyIndex) => {\n\t\tif (currencyIndex == 1) {\n\t\t\tsetUsdToSpend(1);\n\t\t\tsetTokensToBuy(perEth * 10);\n\t\t} else {\n\t\t\tsetUsdToSpend(10);\n\t\t\tsetTokensToBuy(100);\n\t\t}\n\t\tsetActiveCurrency(currencyIndex);\n\t};\n\n\tfunction getCurrencyContent() {\n\t\tswitch (activeCurrency) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"c-active-currency__cont\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tlabel=\"Buy\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={usdToSpend}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.usd.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(e.target.value);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy((e.target.value * perUsd).toFixed(0));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"c-active-currency__swap\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36.87 44.24\">\n\t\t\t\t\t\t\t\t\t<g data-name=\"Livello 2\">\n\t\t\t\t\t\t\t\t\t\t<g fill=\"#c3c4c3\" data-name=\"Livello 1\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z\"></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Get\"\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tvalue={tokensToBuy}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.ovr.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend((e.target.value / perUsd).toFixed(2));\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__rate\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.exchange.rate.usd\" perUsd={perUsd}>\n\t\t\t\t\t\t\t\tExchange rate: 1 USD = {{perUsd}} OVR\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"c-active-currency__buttons\">\n\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('BuyTokens.buy.ovr')} className=\"--orange\" onClick={buyWithIndacoin}></HexButton>\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('Generic.cancel.label')}\n\t\t\t\t\t\t\t\tclassName=\"--orange-light\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(0);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"c-active-currency__cont\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tlabel=\"Buy\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={usdToSpend}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.eth.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(e.target.value);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy((e.target.value * perEth * 10).toFixed(0));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"c-active-currency__swap\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36.87 44.24\">\n\t\t\t\t\t\t\t\t\t<g data-name=\"Livello 2\">\n\t\t\t\t\t\t\t\t\t\t<g fill=\"#c3c4c3\" data-name=\"Livello 1\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z\"></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Get\"\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tvalue={tokensToBuy}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.ovr.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend((e.target.value / perEth).toFixed(2));\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__rate\"> \n\t\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.exchange.rate.eth\" perEth={perEth*10}>\n\t\t\t\t\t\t\t\tExchange rate: 1 ETH = {{perEth}} OVR\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__buttons\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('BuyTokens.buy.ovr')}\n\t\t\t\t\t\t\t\tclassName=\"--orange\"\n\t\t\t\t\t\t\t\tonClick={() => buy(tokensToBuy, 'eth')}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('Generic.cancel.label')}\n\t\t\t\t\t\t\t\tclassName=\"--orange-light\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(0);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"c-active-currency__cont\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tlabel=\"Buy\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={usdToSpend}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.dai.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(e.target.value);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy((e.target.value * perUsd).toFixed(0));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"c-active-currency__swap\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36.87 44.24\">\n\t\t\t\t\t\t\t\t\t<g data-name=\"Livello 2\">\n\t\t\t\t\t\t\t\t\t\t<g fill=\"#c3c4c3\" data-name=\"Livello 1\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z\"></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Get\"\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tvalue={tokensToBuy}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.ovr.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend((e.target.value / perUsd).toFixed(2));\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__rate\"> \n\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.exchange.rate.dai\" perUsd={perUsd}>\n\t\t\t\t\t\t\tExchange rate: 1 DAI = {{perUsd}} OVR\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__buttons\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('BuyTokens.buy.ovr')}\n\t\t\t\t\t\t\t\tclassName=\"--orange\"\n\t\t\t\t\t\t\t\tonClick={() => buy(tokensToBuy, 'dai')}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('Generic.cancel.label')}\n\t\t\t\t\t\t\t\tclassName=\"--orange-light\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(0);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 3:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"c-active-currency__cont\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tlabel=\"Buy\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={usdToSpend}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.usdt.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(e.target.value);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy((e.target.value * perUsd).toFixed(0));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"c-active-currency__swap\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36.87 44.24\">\n\t\t\t\t\t\t\t\t\t<g data-name=\"Livello 2\">\n\t\t\t\t\t\t\t\t\t\t<g fill=\"#c3c4c3\" data-name=\"Livello 1\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z\"></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Get\"\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tvalue={tokensToBuy}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.ovr.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend((e.target.value / perUsd).toFixed(2));\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__rate\"> \n\t\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.exchange.rate.usdt\" perUsd={perUsd}>\n\t\t\t\t\t\t\t\tExchange rate: 1 USDT = {{perUsd}} OVR\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__buttons\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('BuyTokens.buy.ovr')}\n\t\t\t\t\t\t\t\tclassName=\"--orange\"\n\t\t\t\t\t\t\t\tonClick={() => buy(tokensToBuy, 'usdt')}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('Generic.cancel.label')}\n\t\t\t\t\t\t\t\tclassName=\"--orange-light\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(0);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 4:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"c-active-currency__cont\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tlabel=\"Buy\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={usdToSpend}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.usdc.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(e.target.value);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy((e.target.value * perUsd).toFixed(0));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"c-active-currency__swap\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36.87 44.24\">\n\t\t\t\t\t\t\t\t\t<g data-name=\"Livello 2\">\n\t\t\t\t\t\t\t\t\t\t<g fill=\"#c3c4c3\" data-name=\"Livello 1\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z\"></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Get\"\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tvalue={tokensToBuy}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.ovr.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend((e.target.value / perUsd).toFixed(2));\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__rate\"> \n\t\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.exchange.rate.usdc\" perUsd={perUsd}>\n\t\t\t\t\t\t\t\tExchange rate: 1 USDC = {{perUsd}} OVR\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__buttons\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('BuyTokens.buy.ovr')}\n\t\t\t\t\t\t\t\tclassName=\"--orange\"\n\t\t\t\t\t\t\t\tonClick={() => buy(tokensToBuy, 'usdc')}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('Generic.cancel.label')}\n\t\t\t\t\t\t\t\tclassName=\"--orange-light\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(0);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'na';\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"activity v-buy-tokens\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"p-header\">\n\t\t\t\t\t<h2 className=\"p-header-title\">{t('BuyTokens.buy.tokens')}</h2>\n\t\t\t\t\t<span className=\"p-header-datetime\">{moment().format('HH:mm, dddd, MMM D, YYYY')}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sub-title--black\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{t('BuyTokens.use.ovr.insted')} {' '}<Link to=\"#\">{t('BuyTokens.read.more')}</Link>.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.kyc.required\">\n\t\t\t\t\t\t\tTo buy OVR token it is required that you pass our KYC. Go to your <Link to=\"/profile\">profile</Link> and start the Identity Verification process.\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sub-title--black\">\n\t\t\t\t\t<h3>{t('BuyTokens.purchase.with')}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"c-currency-selector_cont\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`c-currency-selector ${activeCurrency == 0 ? '--selected' : ' '}`}\n\t\t\t\t\t\tonClick={() => selectCurrency(0)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('BuyTokens.credit.card')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`c-currency-selector ${activeCurrency == 1 ? '--selected' : ' '}`}\n\t\t\t\t\t\tonClick={() => selectCurrency(1)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Currency.eth.label')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`c-currency-selector ${activeCurrency == 2 ? '--selected' : ' '}`}\n\t\t\t\t\t\tonClick={() => selectCurrency(2)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Currency.dai.label')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`c-currency-selector ${activeCurrency == 3 ? '--selected' : ' '}`}\n\t\t\t\t\t\tonClick={() => selectCurrency(3)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Currency.usdt.label')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`c-currency-selector ${activeCurrency == 4 ? '--selected' : ' '}`}\n\t\t\t\t\t\tonClick={() => selectCurrency(4)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Currency.usdc.label')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"o-container\">{getCurrencyContent()}</div>\n\t\t</div>\n\t);\n};\n\nexport default withUserContext(withWeb3Context(BuyTokens));\n","import React, { useEffect, useState } from 'react';\nimport { withUserContext } from '../../context/UserContext';\nimport * as moment from 'moment';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport HexButton from '../../components/HexButton/HexButton';\nimport { useHistory } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport config from '../../lib/config';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\n/**\n * Indacoin response component\n */\nconst IndacoinResponse = () => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst [respStatus, setRespStatus] = useState(0);\n\tconst [errorTraceback, setErrorTraceback] = useState(0);\n\tconst [transactionId] = useState(window.location.search.split('transaction_id=')[1]);\n\n\tlet history = useHistory();\n\n\tuseEffect(() => {\n\t\tgetIndacoinPayment();\n\t}, []);\n\n\tfunction handleMarketplace() {\n\t\thistory.push('map/discover');\n\t}\n\n\tconst getIndacoinPayment = async () => {\n\t\ttry {\n\t\t\tconst req = await fetch(config.apis.indacoinHelperApi, {\n\t\t\t\tmethod: 'post',\n\t\t\t\theaders: {\n\t\t\t\t\t'content-type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\ttransactionId,\n\t\t\t\t}),\n\t\t\t});\n\t\t\tconst res = await req.json();\n\t\t\tif (res.ok) {\n\t\t\t\tsetRespStatus(1);\n\t\t\t} else {\n\t\t\t\tsetRespStatus(2);\n\t\t\t\tsetErrorTraceback(res.msg);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetRespStatus(2);\n\t\t\tsetErrorTraceback(e);\n\t\t}\n\t};\n\n\tfunction respContent() {\n\t\tif (respStatus == 0) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"o-centered-box\">\n\t\t\t\t\t\t<h2>{t('IndacoinResponse.trans.token')}</h2>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t{t('IndacoinResponse.no.leave')} <br></br>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (respStatus == 1) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"o-centered-box\">\n\t\t\t\t\t\t<h2>{t('Generic.congrats.label')}</h2>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<CheckCircleIcon className=\"CheckCircleIcon\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<Trans i18nKey=\"IndacoinResponse.success.bought\">\n\t\t\t\t\t\t\t\tYou've succesfully bought some OVR.<br></br>\n\t\t\t\t\t\t\t\tNow you can go to the marketplace and partecipate.\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Signup__section --small\">\n\t\t\t\t\t\t\t{/* Account info are stored privately off the blockchain. <Link to=\"#\">Read more</Link>. */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('IndacoinResponse.to.mrktplace')} className=\"--purple\" onClick={handleMarketplace}></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (respStatus == 2) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"o-centered-box\">\n\t\t\t\t\t\t<h2>{t('IndacoinResponse.something.wrong')}</h2>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t{t('IndacoinResponse.contact.assistance')} <br></br>\n\t\t\t\t\t\t\t<Link to=\"mailto:help@ovr.ai\">help@ovr.ai</Link>.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<div className=\"Signup__section\">{t('IndacoinResponse.error.label')}: {errorTraceback}</div>\n\t\t\t\t\t\t{transactionId != undefined && (\n\t\t\t\t\t\t\t<div className=\"Signup__section --small\">{t('IndacoinResponse.transaction.id')}: {transactionId}</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('IndacoinResponse.assistance.label')}\n\t\t\t\t\t\t\t\tclassName=\"--purple\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\twindow.location = 'mailto:help@ovr.ai';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"activity v-buy-tokens\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"p-header\">\n\t\t\t\t\t<h2 className=\"p-header-title\">{t('IndacoinResponse.buy.tokens')}</h2>\n\t\t\t\t\t<span className=\"p-header-datetime\">{moment().format('HH:mm, dddd, MMM D, YYYY')}</span>\n\t\t\t\t</div>\n\t\t\t\t{respContent()}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withUserContext(IndacoinResponse);\n","import React, { useRef, useEffect, useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport Notification from '../Notification/Notification';\n\nimport { UserContext, withUserContext } from '../../context/UserContext';\nimport { readAllNotifications } from '../../lib/api';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\nconst NotificationCenterContent = () => {\n\tconst { t, i18n } = useTranslation()\n\tconst { state, actions } = useContext(UserContext);\n\tconst wrapperRef = useRef(null);\n\n\tuseEffect(() => {\n\t}, [state.user.notifications]);\n\n\tconst renderNotifications = () => {\n\t\tlet notifications;\n\t\tif (\n\t\t\tstate.user.notifications !== null &&\n\t\t\tstate.user.notifications.content &&\n\t\t\tstate.user.notifications.content.length > 0\n\t\t) {\n\t\t\tnotifications = state.user.notifications.content.map((obj) => (\n\t\t\t\t<Notification\n\t\t\t\t\tkey={obj.uuid}\n\t\t\t\t\tdata={obj}\n\t\t\t\t\tactions={{\n\t\t\t\t\t\ttoggleNotificationCenter: actions.toggleShowNotificationCenter,\n\t\t\t\t\t\tsetAsReaded: actions.notification.setAsReaded,\n\t\t\t\t\t}}\n\t\t\t\t></Notification>\n\t\t\t));\n\t\t\treturn notifications;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t<Trans i18nKey=\"NotificationCenter.no.notifications\">\n\t\t\t\t\t\t\tThere is currently <br></br>no notifications to display.\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst setAllAsReaded = () => {\n\t\treadAllNotifications().then(() => {\n\t\t\tactions.notification.setAllAsReaded();\n\t\t\tactions.closeNotificationCenter();\n\t\t});\n\t};\n\n\tconst useOutsideAlerter = (ref) => {\n\t\tuseEffect(() => {\n\t\t\t/**\n\t\t\t * Alert if clicked on outside of element\n\t\t\t */\n\t\t\tfunction handleClickOutside(event) {\n\t\t\t\t// document.c Notifications__link\n\t\t\t\tif (\n\t\t\t\t\tref.current &&\n\t\t\t\t\t!ref.current.contains(event.target) &&\n\t\t\t\t\t!document.getElementById('js-open-notification-link').contains(event.target) &&\n\t\t\t\t\t!event.target.classList.contains('MuiMenuItem-root')\n\t\t\t\t) {\n\t\t\t\t\tactions.closeNotificationCenter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Bind the event listener\n\t\t\tdocument.addEventListener('mousedown', handleClickOutside);\n\t\t\treturn () => {\n\t\t\t\t// Unbind the event listener on clean up\n\t\t\t\tdocument.removeEventListener('mousedown', handleClickOutside);\n\t\t\t};\n\t\t}, [ref]);\n\t};\n\n\treturn (\n\t\t<div ref={wrapperRef} className=\"NotificationCenter\">\n\t\t\t{useOutsideAlerter(wrapperRef)}\n\t\t\t<div className=\"NotificationCenter__header\">\n\t\t\t\t<div className=\"NotificationCenter__title\">Notifications</div>\n\t\t\t\t<div className=\"NotificationCenter__toggle\"></div>\n\t\t\t</div>\n\t\t\t<div className=\"NotificationCenter__body\">{renderNotifications()}</div>\n\t\t\t<div className=\"NotificationCenter__footer\">\n\t\t\t\t<Link to={'#'} onClick={setAllAsReaded}>\n\t\t\t\t\t{t('NotificationCenter.mark.all')}\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst NotificationCenter = () => {\n\tconst { state } = useContext(UserContext);\n\tconst { showNotificationCenter: showNotificationCenter } = state;\n\n\tif (!showNotificationCenter) {\n\t\treturn null;\n\t}\n\n\treturn <NotificationCenterContent/>;\n};\n\nexport default withUserContext(NotificationCenter);\n","import React, { useContext, useState } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport NotificationCenter from '../NotificationCenter/NotificationCenter';\n\nimport { UserContext, withUserContext } from '../../context/UserContext';\nimport Blockies from 'react-blockies';\nimport { Web3Context, withWeb3Context } from '../../context/Web3Context';\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuList from '@material-ui/core/MenuList';\nimport { useHistory } from 'react-router-dom';\nimport Translate from '@material-ui/icons/Translate';\n\nimport { useTranslation } from 'react-i18next'\n\nconst NavBar = () => {\n\tconst { t, i18n } = useTranslation();\n\tconst { state: userState, actions: userActions } = useContext(UserContext);\n\tconst { state: web3State, actions: web3Actions } = useContext(Web3Context);\n\tconst [langOpen, setLangOpen] = React.useState(0);\n\tconst [open, setOpen] = React.useState(false);\n\tconst anchorRef = React.useRef(null);\n\tconst [isConnecting, setIsConnecting] = React.useState(false);\n\tconst prevOpen = React.useRef(open);\n\tconst langRef = React.useRef(langOpen);\n\t\n\tconst changeLanguage = (string) => {\n\t\ti18n.changeLanguage(string)\n\t  }\n\n\t// START - Profile sub menu\n\n\n\tlet history = useHistory();\n\n\tconst handleToggle = () => {\n\t\tsetOpen((prevOpen) => !prevOpen);\n\t};\n\n\tconst handleLang = () => {\n\t\tsetLangOpen((langOpen) => !langOpen);\n\t};\n\n\tconst handleGoTo = (link) => {\n\t\thistory.push(link);\n\t};\n\n\tconst handleClose = (event) => {\n\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\treturn;\n\t\t}\n\t\tsetOpen(false);\n\t};\n\n\tconst handleCloseLang = (event) => {\n\t\tif(event){\n\t\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tsetLangOpen(false);\n\t};\n\n\tconst handleMetamaskAuthentication = () => {\n\t\tsetIsConnecting(true);\n\t\twindow.gtag_report_metamask_conversion();\n\t\tweb3Actions.setupWeb3((res) => {\n\t\t\tif( res == false ){\n\t\t\t\thistory.push('/login-helper');\n\t\t\t} else {\n\t\t\t\thistory.push('/profile');\n\t\t\t}\n\t\t\tsetIsConnecting(false);\n\t\t})\n\t}\n\n\tReact.useEffect(() => {\n\t\tif (userState.isLoggedIn) {\n\t\t\tif (prevOpen.current === true && open === false) {\n\t\t\t\tanchorRef.current.focus();\n\t\t\t}\n\t\t\tprevOpen.current = open;\n\t\t}\n\t}, [open]);\n\t// END - Profile sub menu\n\n\tReact.useEffect(() => {\n\t\t// console.log('NOTIF userState', userState.user);\n\t}, [userState]);\n\n\tfunction toggleNotificationCenter(e) {\n\t\te.preventDefault();\n\t\tuserActions.toggleShowNotificationCenter(true);\n\t}\n\n\tfunction centerContainer() {\n\t\tlet cont = <div></div>;\n\t\tif (userState.isLoggedIn === true && userState.user !== null) {\n\t\t\tcont = (\n\t\t\t\t<>\n\t\t\t\t<NavLink className=\"NavBar__link\" to=\"/profile\">\n\t\t\t\t\t{t('Navbar.profile.label')}\n\t\t\t\t</NavLink>\n\t\t\t\t<NavLink className=\"NavBar__link\" to=\"/map/overview\">\n\t\t\t\t\tMy Assets\n\t\t\t\t</NavLink>\n\t\t\t\t<NavLink className=\"NavBar__link\" to=\"/map/discover\">\n\t\t\t\t\tMarketplace\n\t\t\t\t</NavLink>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\treturn cont;\n\t}\n\n\tfunction leftContainer(){\n\t\tlet cont =<></>\n\t\tcont = (\n\t\t<div className=\"Navbar__left_container\">\n\t\t<Link\n\t\t\tto=\"#\"\n\t\t\tclassName=\"NavBar__link Language__link\"\n\t\t\tref={langRef}\n\t\t\taria-controls={langOpen ? 'menu-list-grow' : undefined}\n\t\t\taria-haspopup=\"true\"\n\t\t\tonClick={(e) => {\n\t\t\t\thandleCloseLang(e);\n\t\t\t\thandleLang(e);\n\t\t\t}}\n\t\t>\n\t\t\t<Translate className=\"Translate\" shapeRendering=\"auto\"/>\n\t\t</Link>\n\t\t<Popper open={langOpen} anchorEl={langRef.current} role={undefined} transition disablePortal>\n\t\t\t{({ TransitionProps, placement }) => (\n\t\t\t\t<Grow\n\t\t\t\t\t{...TransitionProps}\n\t\t\t\t\tstyle={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n\t\t\t\t>\n\t\t\t\t\t<Paper>\n\t\t\t\t\t\t<ClickAwayListener onClickAway={handleCloseLang}>\n\t\t\t\t\t\t\t<MenuList autoFocusItem={langOpen} id=\"menu-lang-list-grow\" className=\"navbar-lang-submenu\">\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tchangeLanguage(\"en\");\n\t\t\t\t\t\t\t\t\t\thandleCloseLang();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tEnglish\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tchangeLanguage(\"zh\");\n\t\t\t\t\t\t\t\t\t\thandleCloseLang();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t中文\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t</ClickAwayListener>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grow>\n\t\t\t)}\n\t\t</Popper>\n\t\t</div>)\n\t\treturn cont\n\t}\n\n\tfunction rightContainer() {\n\t\tlet rightContainer = <div></div>; \n\t\tif (userState.isLoggedIn === true && userState.user !== null) {\n\t\t\trightContainer = (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"Navbar__right_container\">\n\t\t\t\t\t\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\t\tid=\"js-open-notification-link\"\n\t\t\t\t\t\t\tclassName=\"Notifications__link\"\n\t\t\t\t\t\t\tonClick={toggleNotificationCenter}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"Notifications__icon\">\n\t\t\t\t\t\t\t\t<svg width=\"18px\" height=\"20px\" viewBox=\"0 0 18 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t<title>icons/icon_notification</title>\n\t\t\t\t\t\t\t\t\t<desc>Created with Sketch.</desc>\n\t\t\t\t\t\t\t\t\t<g id=\"Symbols\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t<g id=\"header\" transform=\"translate(-1243.000000, -25.000000)\">\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"icons/icon_notification\" transform=\"translate(1242.000000, 25.000000)\">\n\t\t\t\t\t\t\t\t\t\t\t\t<rect id=\"frame\" x=\"0\" y=\"0\" width=\"20\" height=\"20\"></rect>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M15.2321227,8.31973225 C12.6665198,2.77582053 11.3339364,0.670834332 7.14155795,0.75810667 C5.64837822,0.788892058 6.00782137,-0.327572512 4.86958472,0.0960796141 C3.73134807,0.51973174 4.70814468,1.13967602 3.54347011,2.098542 C0.278387518,4.79042761 0.57932975,7.2806548 2.09444733,13.2148914 C2.73261361,15.7150038 0.556266888,15.8375804 1.41746793,18.2603057 C2.04607157,20.0275 6.68001944,20.7669142 11.5713151,18.9443627 C16.4614858,17.1226586 19.5474093,13.506364 18.9190869,11.7400171 C18.0576046,9.31616205 16.3141084,10.6543379 15.2321227,8.31973225 Z M11.039463,17.4514126 C6.67242557,19.0788016 3.08305662,18.1221951 2.93146049,17.696566 C2.67017513,16.9628005 4.34110766,14.5146561 9.33449868,12.6545408 C14.3278897,10.7944255 17.113996,11.4838488 17.4050944,12.3037568 C17.5775033,12.7870027 15.4079067,15.824306 11.039463,17.4514126 Z M9.63656593,13.5041045 C7.35362378,14.354798 5.76594257,15.3277857 4.73992643,16.2036159 C5.46162528,16.8633835 6.81642784,17.0246537 8.16644907,16.521355 C9.88491359,15.8816403 10.9396177,14.4121323 10.5219549,13.2391807 C10.517736,13.225059 10.5098609,13.2129143 10.5045171,13.1985101 C10.2232627,13.2922785 9.93441437,13.3925428 9.63656593,13.5041045 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Fill-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#2B3034\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity=\"0.400000006\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(10.000000, 10.000000) scale(-1, 1) translate(-10.000000, -10.000000) \"\n\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Notifications__counter\">\n\t\t\t\t\t\t\t\t{userState.user && userState.user.notifications && userState.user.notifications.unreadedCount\n\t\t\t\t\t\t\t\t\t? userState.user.notifications.unreadedCount\n\t\t\t\t\t\t\t\t\t: 0}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link> \n\n\t\t\t\t\t\t<div className=\"Funds__container\">\n\t\t\t\t\t\t\t{/* <Link to=\"/buy-tokens\" className=\"Funds__link\">\n\t\t\t\t\t\t\t\t<ValueCounter value={ovrsOwned}></ValueCounter>\n\t\t\t\t\t\t\t</Link> // TODO: KYC - Remove comment */}\n\t\t\t\t\t\t\t<ValueCounter value={web3State.ovrsOwned}></ValueCounter>\n\t\t\t\t\t\t\t{/*<Link to=\"#\" className=\"Funds__buy HexButton --blue redeem-button\" onClick={() => {\n\t\t\t\t\t\t\t\tthis.context.actions.redeemLands()\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tRedeem Lands\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link to=\"/buy-tokens\" className=\"Funds__buy HexButton --blue\">\n\t\t\t\t\t\t\t\tBuy OVR\n\t\t\t\t\t\t\t</Link> */}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tref={anchorRef}\n\t\t\t\t\t\t\taria-controls={open ? 'menu-list-grow' : undefined}\n\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\tto=\"#\"\n\t\t\t\t\t\t\tclassName=\"Profile__link\"\n\t\t\t\t\t\t\tonClick={handleToggle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>{userState.user && userState.user.reducedPublicAddress}</span>\n\t\t\t\t\t\t\t<div className=\"Profile__img-cont\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid=\"Profile__img\"\n\t\t\t\t\t\t\t\t\tclassName=\"Profile__img\"\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundImage: 'url(../../assets/img/auction-map.png)' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Blockies\n\t\t\t\t\t\t\t\t\t\tseed={(userState.user && userState.user.publicAddress) || 'loading'}\n\t\t\t\t\t\t\t\t\t\tsize={12}\n\t\t\t\t\t\t\t\t\t\tscale={3}\n\t\t\t\t\t\t\t\t\t\tcolor=\"#7521c8\"\n\t\t\t\t\t\t\t\t\t\tbgColor=\"#EC663C\"\n\t\t\t\t\t\t\t\t\t\tspotColor=\"#F9B426\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\n\t\t\t\t\t\t\t{({ TransitionProps, placement }) => (\n\t\t\t\t\t\t\t\t<Grow\n\t\t\t\t\t\t\t\t\t{...TransitionProps}\n\t\t\t\t\t\t\t\t\tstyle={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t\t\t\t<ClickAwayListener onClickAway={handleClose}>\n\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t\t<MenuList autoFocusItem={open} id=\"menu-list-grow\" className=\"navbar-submenu\">\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleGoTo('/profile');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Navbar.profile.label')}\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleGoTo('/activity');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tActivity\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserActions.logoutUser();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Navbar.Logout.label')}\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t\t\t\t\t</ClickAwayListener>\n\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t</Grow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Popper>\n\t\t\t\t\t\t<NotificationCenter></NotificationCenter>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\t/* rightContainer = (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"AuthLogin__link\">\n\t\t\t\t\t\t<NavLink className=\"NavBar__link General__link\" to=\"/login\">\n\t\t\t\t\t\t{t('Navbar.Login.label')}\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t<NavLink className=\"NavBar__link General__link\" to=\"/signup\">\n\t\t\t\t\t\t{t('Navbar.Signup.label')}\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t); */\n\t\t\trightContainer = (\n\t\t\t\t<div className=\"AuthLogin__link\">\n\t\t\t\t\t<div className={`HexButton --orange ${!isConnecting ? '' : '--disabled'}`} onClick={handleMetamaskAuthentication}>\n\t\t\t\t\t\t{t('Navbar.wallet.connect')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\treturn rightContainer;\n\t}\n\n\treturn (\n\t\t<div className=\"NavBar\">\n\t\t\t<Link to=\"/\" className=\"Logo__link\">\n\t\t\t\t<div className=\"Icon NavBar__logo\">\n\t\t\t\t\t<img src={require('../../assets/img/ovr.png')} />\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t\t<div className=\"Navbar__link_container\">\n\t\t\t\t{leftContainer()}\n\t\t\t\t{centerContainer()}\n\t\t\t\t{rightContainer()}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withUserContext(withWeb3Context(NavBar));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as moment from 'moment';\n\nimport { Breadcrumbs as MaterialBreadcrumbs } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\n\nconst Breadcrumbs = ({ previousLinks, currentPageLabel, className }) => {\n\tconst currentDatetimeStamp = moment().format('HH:mm, dddd, MMM D, YYYY');\n\n\treturn (\n\t\t<div className={`breadcrumbs ${className}`}>\n\t\t\t<MaterialBreadcrumbs\n\t\t\t\tclassName={'breadcrumbs--items'}\n\t\t\t\tseparator={<NavigateNextIcon fontSize=\"small\" />}\n\t\t\t\taria-label=\"breadcrumb\"\n\t\t\t>\n\t\t\t\t{previousLinks.map((a, index) => (\n\t\t\t\t\t<Link className=\"breadcrumbs--prevlink\" key={`prev_link_${index}`} color=\"inherit\" to={a.href}>\n\t\t\t\t\t\t{a.label}\n\t\t\t\t\t</Link>\n\t\t\t\t))}\n\t\t\t\t<span className=\"breadcrumbs--currentlabel\">{currentPageLabel}</span>\n\t\t\t</MaterialBreadcrumbs>\n\t\t\t<span className=\"breadcrumbs--datetime\">{currentDatetimeStamp}</span>\n\t\t</div>\n\t);\n};\n\nBreadcrumbs.propTypes = {\n\tpreviousLinks: PropTypes.arrayOf(PropTypes.shape({ href: PropTypes.string, label: PropTypes.string })),\n\tcurrentPageLabel: PropTypes.string,\n\tclassName: PropTypes.string,\n};\nBreadcrumbs.defaultProps = {\n\tpreviousLinks: [],\n\tcurrentPageLabel: 'undefined',\n\tclassName: '',\n};\nexport default Breadcrumbs;\n","import React, { useState, useEffect, useCallback } from 'react';\n\nimport PropTypes from 'prop-types';\nimport mapboxgl from 'mapbox-gl';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\nimport * as MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport geojson2h3 from 'geojson2h3';\nimport * as h3 from 'h3-js';\nimport config from '../../lib/config';\nimport { MapContext, withMapContext } from '../../context/MapContext';\n\nimport Breadcrumbs from '../Breadcrumbs/MapBreadcrumbs';\nimport MapNavigationBox from '../MapNavigationBox/MapNavigationBox';\n\nimport _ from 'lodash';\n\n// @ts-check\n\nlet map;\n\nconst Map = (props) => {\n\tconst [lastSelectedLand, setLastSelectedLand] = useState(null);\n\tconst [isMapReady, setIsMapReady] = useState(false);\n\tconst { changeMultipleLandSelectionList } = props.mapProvider.actions;\n\tconst {\n\t\tonSingleView,\n\t\tonMultipleLandSelection,\n\t\tmultipleLandSelectionList,\n\t\tauctionList,\n\t\thex_id,\n\t} = props.mapProvider.state;\n\n\t//\n\t// Effects and Setups\n\t//\n\tuseEffect(() => {\n\t\tmapboxgl.accessToken =\n\t\t\t'pk.eyJ1IjoibWFudG9uZWxsaSIsImEiOiJjam9hNmljdHkwY2Y0M3JuejJrenhmMWE1In0.dC9b8oqj24iiSfm-qbNqmw';\n\t\tmap = new mapboxgl.Map({\n\t\t\tcontainer: 'Map',\n\t\t\tcenter: [config.map.lng, config.map.lat],\n\t\t\tzoom: config.map.zoom,\n\t\t\tstyle: 'mapbox://styles/mapbox/light-v9',\n\t\t});\n\t\twaitMapStyle();\n\t\t// geocoder setup\n\t\tvar geocoder = new MapboxGeocoder({\n\t\t\taccessToken: mapboxgl.accessToken,\n\t\t\tmarker: false,\n\t\t});\n\t\tmap.addControl(geocoder);\n\n\t\t// geocoder init\n\t\tmap.on('load', () => {\n\t\t\tgeocoder.on('result', (ev) => {\n\t\t\t\tmap.flyTo({\n\t\t\t\t\tcenter: [ev.result.geometry.coordinates[0], ev.result.geometry.coordinates[1]],\n\t\t\t\t\tzoom: 18,\n\t\t\t\t\tspeed: 1.8,\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: 'mapbox-mapbox-satellite',\n\t\t\t\tsource: { type: 'raster', url: 'mapbox://mapbox.satellite', tileSize: 256 },\n\t\t\t\ttype: 'raster',\n\t\t\t});\n\t\t\tmap.setLayoutProperty('mapbox-mapbox-satellite', 'visibility', 'none');\n\n\t\t\tvar switchy = document.getElementById('js-map-view');\n\t\t\tif (switchy) {\n\t\t\t\tswitchy.addEventListener('click', () => {\n\t\t\t\t\tif (switchy.className === 'on') {\n\t\t\t\t\t\tswitchy.setAttribute('class', 'off');\n\t\t\t\t\t\tmap.setLayoutProperty('mapbox-mapbox-satellite', 'visibility', 'none');\n\t\t\t\t\t\tswitchy.innerHTML = 'Satellite';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswitchy.setAttribute('class', 'on');\n\t\t\t\t\t\tmap.setLayoutProperty('mapbox-mapbox-satellite', 'visibility', 'visible');\n\t\t\t\t\t\tswitchy.innerHTML = 'Streets';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// Show grid on high zoom\n\t\tconst zoomThreshold = 17;\n\t\tmap.on('moveend', () => {\n\t\t\tif (map.getZoom() > zoomThreshold) {\n\t\t\t\trenderHexes(hexagons());\n\t\t\t}\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tlet onClickMap;\n\t\tif (map) {\n\t\t\tonClickMap = (e) => {\n\t\t\t\t// At click go to Land\n\t\t\t\tconst clicked_hex_id = h3.geoToH3(e.lngLat['lat'], e.lngLat['lng'], 12);\n\t\t\t\tif (!onMultipleLandSelection) {\n\t\t\t\t\tfocusMap(clicked_hex_id);\n\t\t\t\t\tprops.history.push(`/map/land/${clicked_hex_id}`);\n\t\t\t\t\tconst landSelectedEvent = new CustomEvent('land-selected', {\n\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\tclicked_hex_id,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tdocument.dispatchEvent(landSelectedEvent);\n\t\t\t\t} else {\n\t\t\t\t\t// At click add in list if on Multiple Land Selection Mode\n\t\t\t\t\tfocusMap(clicked_hex_id);\n\t\t\t\t\tif (lastSelectedLand == clicked_hex_id) {\n\t\t\t\t\t\tlet list = multipleLandSelectionList;\n\t\t\t\t\t\tif (list.includes(clicked_hex_id)) {\n\t\t\t\t\t\t\t// Remove Land\n\t\t\t\t\t\t\t_.remove(list, function (el) {\n\t\t\t\t\t\t\t\treturn el === clicked_hex_id;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tchangeMultipleLandSelectionList(list);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Add Land\n\t\t\t\t\t\t\tlist.push(clicked_hex_id);\n\t\t\t\t\t\t\tchangeMultipleLandSelectionList(list);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsetLastSelectedLand(clicked_hex_id);\n\t\t\t\t}\n\t\t\t};\n\t\t\tmap.on('click', onClickMap);\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (map) {\n\t\t\t\tmap.off('click', onClickMap);\n\t\t\t}\n\t\t};\n\t}, [onMultipleLandSelection, lastSelectedLand, map]);\n\n\tuseEffect(() => {\n\t\tif (isMapReady == true) {\n\t\t\tplotPOI();\n\t\t\tif (onMultipleLandSelection == true) {\n\t\t\t\tmap.doubleClickZoom.disable();\n\t\t\t} else {\n\t\t\t\tmap.doubleClickZoom.enable();\n\t\t\t}\n\t\t}\n\t}, [isMapReady, onSingleView, onMultipleLandSelection, multipleLandSelectionList]);\n\n\t//\n\t// Map init\n\t//\n\tfunction waitMapStyle() {\n\t\tif (!map.isStyleLoaded()) {\n\t\t\tsetTimeout(waitMapStyle, 200);\n\t\t} else {\n\t\t\tsetIsMapReady(true);\n\t\t}\n\t}\n\n\tfunction renderHexes(hexagons) {\n\t\tconst geojson = geojson2h3.h3SetToFeatureCollection(Object.keys(hexagons), (hex) => ({ value: hexagons[hex] }));\n\t\tconst sourceId = 'h3-hexes';\n\t\tconst layerId = `${sourceId}-layer`;\n\t\tlet source = map.getSource(sourceId);\n\n\t\tif (!source) {\n\t\t\tmap.addSource(sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: geojson,\n\t\t\t});\n\t\t\tmap.addLayer({\n\t\t\t\tid: layerId,\n\t\t\t\tsource: sourceId,\n\t\t\t\ttype: 'fill',\n\t\t\t\tinteractive: false,\n\t\t\t\tpaint: {\n\t\t\t\t\t'fill-outline-color': 'rgba(255,255,255,1)',\n\t\t\t\t},\n\t\t\t});\n\t\t\tsource = map.getSource(sourceId);\n\t\t}\n\n\t\t// Update the geojson data\n\t\tsource.setData(geojson);\n\n\t\t// Update the layer paint properties, using the current config values\n\t\tmap.setPaintProperty(layerId, 'fill-opacity', config.map.fillOpacity);\n\n\t\tmap.setPaintProperty(layerId, 'fill-color', {\n\t\t\tproperty: 'value',\n\t\t\tstops: [\n\t\t\t\t[0, config.map.colorScale[0]],\n\t\t\t\t[0.5, config.map.colorScale[0]],\n\t\t\t\t[1, config.map.colorScale[0]],\n\t\t\t],\n\t\t});\n\t}\n\n\tfunction hexagons() {\n\t\tvar center = map.getCenter();\n\n\t\tconst centerHex = h3.geoToH3(center['lat'], center['lng'], 12);\n\t\tconst kRing = h3.kRing(centerHex, 20);\n\n\t\tvar data = Object.assign({}, kRing);\n\n\t\tvar newData = Object.keys(data).reduce(function (obj, key) {\n\t\t\tobj[data[key]] = Math.random();\n\t\t\treturn obj;\n\t\t}, {});\n\n\t\treturn newData;\n\t}\n\n\t//\n\t// Focus on single point\n\t// Used when accessing directly to a single land view or when clicked on a land\n\t//\n\tfunction focusMap(hex_id) {\n\t\t// Hex to geo\n\t\tlet hexCenterCoordinates = h3.h3ToGeo(hex_id);\n\t\t// Move map focus\n\t\tmap.flyTo({\n\t\t\tcenter: [hexCenterCoordinates[1], hexCenterCoordinates[0]],\n\t\t\tzoom: 18,\n\t\t\tspeed: 1.8,\n\t\t});\n\t\t// Plot graphic point into map\n\t\tlet singleHexGeojson = geojson2h3.h3ToFeature(hex_id);\n\n\t\tconst selected_sourceId = 'h3-hexes_selected';\n\t\tconst selected_layerId = `${selected_sourceId}-layer`;\n\t\tlet selected_source = map.getSource(selected_sourceId);\n\t\tif (!selected_source) {\n\t\t\tmap.addSource(selected_sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: singleHexGeojson,\n\t\t\t});\n\t\t\tmap.addLayer({\n\t\t\t\tid: selected_layerId,\n\t\t\t\tsource: selected_sourceId,\n\t\t\t\ttype: 'fill',\n\t\t\t\tinteractive: false,\n\t\t\t\tpaint: {\n\t\t\t\t\t'fill-outline-color': '#4A90E2',\n\t\t\t\t\t'fill-color': 'rgba(74,144,226,0.20)',\n\t\t\t\t\t'fill-opacity': 1,\n\t\t\t\t},\n\t\t\t});\n\t\t\tselected_source = map.getSource(selected_sourceId);\n\t\t}\n\t\t// Update the h3Geo data\n\t\tselected_source.setData(singleHexGeojson);\n\t\tmap.setLayoutProperty(selected_layerId, 'visibility', 'visible');\n\n\t\t// Plot pin\n\t\t// if (isAuction) {\n\t\t// Add pin\n\t\t// TODO\n\t\t// let el = document.createElement('div');\n\t\t// el.className = `Map__ping_container --open`;\n\t\t// el.insertAdjacentHTML('beforeend', '<div class=\"c-ping-layer c-ping-layer-1\"></div>');\n\t\t// new mapboxgl.Marker(el)\n\t\t//     .setLngLat([hexCenterCoordinates[1], hexCenterCoordinates[0]])\n\t\t//     .addTo(map);\n\t\t// }\n\t}\n\n\t//\n\t// Plot auctions from MapContext data\n\t//\n\n\tfunction plotPOI() {\n\t\t// Zoom out map // General Map View\n\t\tif (onSingleView === false && onMultipleLandSelection === false) {\n\t\t\tmap.flyTo({\n\t\t\t\tcenter: [config.map.lng, config.map.lat],\n\t\t\t\tzoom: config.map.zoom,\n\t\t\t\tspeed: 1.8,\n\t\t\t});\n\t\t}\n\t\t// View single point\n\t\tif (onSingleView === true) {\n\t\t\tfocusMap(hex_id);\n\t\t}\n\t\t// View multiple selected Land\n\t\tif (onMultipleLandSelection === true && multipleLandSelectionList.length > 0) {\n\t\t\tlet featureOfSelectedLands = geojson2h3.h3SetToFeatureCollection(multipleLandSelectionList);\n\t\t\tconst selected_sourceId = 'h3-hexes_multi_selected';\n\t\t\tconst selected_layerId = `${selected_sourceId}-layer`;\n\t\t\tlet selected_source = map.getSource(selected_sourceId);\n\t\t\tif (!selected_source) {\n\t\t\t\tmap.addSource(selected_sourceId, {\n\t\t\t\t\ttype: 'geojson',\n\t\t\t\t\tdata: featureOfSelectedLands,\n\t\t\t\t});\n\t\t\t\tmap.addLayer({\n\t\t\t\t\tid: selected_layerId,\n\t\t\t\t\tsource: selected_sourceId,\n\t\t\t\t\ttype: 'fill',\n\t\t\t\t\tinteractive: false,\n\t\t\t\t\tpaint: {\n\t\t\t\t\t\t'fill-outline-color': '#ec663c',\n\t\t\t\t\t\t'fill-color': 'rgba(249,180,38,0.5)',\n\t\t\t\t\t\t'fill-opacity': 1,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tselected_source = map.getSource(selected_sourceId);\n\t\t\t}\n\t\t\tselected_source.setData(featureOfSelectedLands);\n\t\t\tmap.setLayoutProperty(selected_layerId, 'visibility', 'visible');\n\t\t}\n\t\t// Plot active Auctions\n\t\tif (auctionList.length > 0) {\n\t\t\tplotAuctions();\n\t\t}\n\t}\n\n\tfunction plotAuctions() {\n\t\tmap.flyTo({\n\t\t\tcenter: [config.map.lng, config.map.lat],\n\t\t\tzoom: config.map.zoom,\n\t\t\tspeed: 1.8,\n\t\t});\n\t\t// Delete all displayed markers\n\t\tvar paras = document.getElementsByClassName('Map__ping_container');\n\t\twhile (paras[0]) {\n\t\t\tparas[0].parentNode.removeChild(paras[0]);\n\t\t}\n\n\t\t// Add all markers on map\n\t\tfor (const auction of auctionList) {\n\t\t\tlet statusClassName = 0;\n\t\t\tswitch (auction.status) {\n\t\t\t\tcase 0:\n\t\t\t\t\tstatusClassName = '--open';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tstatusClassName = '--outbidded';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tstatusClassName = '--open';\n\t\t\t}\n\n\t\t\t// Add pin\n\t\t\tlet el = document.createElement('div');\n\t\t\tel.className = `Map__ping_container ${statusClassName}`;\n\t\t\tel.insertAdjacentHTML('beforeend', '<div class=\"c-ping-layer c-ping-layer-1\"></div>');\n\t\t\tif (\n\t\t\t\tauction.land.address &&\n\t\t\t\t!isNaN(auction.land.address.geocenter[1]) &&\n\t\t\t\t!isNaN(auction.land.address.geocenter[0])\n\t\t\t) {\n\t\t\t\tnew mapboxgl.Marker(el)\n\t\t\t\t\t.setLngLat([auction.land.address.geocenter[1], auction.land.address.geocenter[0]])\n\t\t\t\t\t.addTo(map);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Breadcrumbs />\n\t\t\t<div id=\"Map\" className=\"Map\">\n\t\t\t\t<div id=\"js-map-view\">Satellite</div>\n\t\t\t\t<MapNavigationBox />\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nMap.propTypes = {\n\tlocation: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tprops: PropTypes.object,\n};\n\nexport default withMapContext(Map);\n","import React, { useContext } from 'react';\n\nimport Breadcrumbs from './Breadcrumbs';\n\nimport { MapContext } from '../../context/MapContext';\nimport { useLocation } from 'react-router-dom';\n\nconst MapBreadcrumbs = () => {\n\tconst { state } = useContext(MapContext);\n\tconst { pathname } = useLocation();\n\n\tconst { hex_id, landData: data } = state;\n\n\tlet currentPageLabel = pathname.split('/')[2];\n\tcurrentPageLabel = currentPageLabel.charAt(0).toUpperCase() + currentPageLabel.slice(1);\n\n\tconst prevLinks = [];\n\n\tconst isAuction = data.marketStatus === 1;\n\tconst isUserRelated = data.userPerspective !== 0;\n\n\t// console.log('This is the data', data);\n\n\tif (currentPageLabel === 'Land') {\n\t\tconst dataIsEmpty = Object.keys(data).length === 0 && data.constructor === Object;\n\t\tif (dataIsEmpty) {\n\t\t\tcurrentPageLabel = '';\n\t\t} else {\n\t\t\tprevLinks.push({\n\t\t\t\thref: `${isUserRelated ? '/map/overview' : '/map/discover'}`,\n\t\t\t\tlabel: `${isUserRelated ? 'My ' : ''}${isAuction ? 'Auctions' : 'Lands'}`,\n\t\t\t});\n\n\t\t\tcurrentPageLabel = (data.name && data.name.sentence) || hex_id;\n\t\t}\n\t}\n\n\treturn <Breadcrumbs currentPageLabel={currentPageLabel} previousLinks={prevLinks} />;\n};\n\nexport default MapBreadcrumbs;\n","import React, { useContext, useState, useEffect } from 'react';\n// import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { NavigateNext, NavigateBefore } from '@material-ui/icons';\nimport { grey } from '@material-ui/core/colors';\n\nimport { MapContext } from '../../context/MapContext';\nimport { UserContext } from '../../context/UserContext';\n\nclass CircularList {\n\tconstructor(array, index) {\n\t\tthis.data = array || [];\n\t\tthis.index = index || 0;\n\t}\n\n\tgetCurrent() {\n\t\treturn this.data[((this.index % this.data.length) + this.data.length) % this.data.length];\n\t}\n\n\tgetNext() {\n\t\tconst nextIndex = (((this.index + 1) % this.data.length) + this.data.length) % this.data.length;\n\t\treturn this.data[nextIndex];\n\t}\n\tgetPrevious() {\n\t\tconst prevIndex = (((this.index - 1) % this.data.length) + this.data.length) % this.data.length;\n\t\treturn this.data[prevIndex];\n\t}\n\tmoveToNext() {\n\t\tconst nextIndex = (((this.index + 1) % this.data.length) + this.data.length) % this.data.length;\n\t\tthis.index = nextIndex;\n\t}\n\tmoveToPrevious() {\n\t\tconst prevIndex = (((this.index - 1) % this.data.length) + this.data.length) % this.data.length;\n\t\tthis.index = prevIndex;\n\t}\n}\n\nconst MapNavigationBox = () => {\n\tconst { state } = useContext(MapContext);\n\tconst { auctionList } = state;\n\n\tconst items = new CircularList(\n\t\tauctionList.map((item) => item.land),\n\t\t0,\n\t);\n\n\tconst [current, setCurrent] = useState(items.getCurrent());\n\tconst [previous, setPrevious] = useState(items.getPrevious());\n\tconst [next, setNext] = useState(items.getNext());\n\tconst [index, setIndex] = useState(0);\n\n\tuseEffect(() => {\n\t\titems.index = index;\n\t\tsetCurrent(items.getCurrent());\n\t\tsetPrevious(items.getPrevious());\n\t\tsetNext(items.getNext());\n\t});\n\n\tconst currentCity = current && current.address.city ? `${current.address.city}, ` : '';\n\n\treturn (\n\t\tauctionList.length > 0 && (\n\t\t\t<div className=\"map-navigation-box\">\n\t\t\t\t{previous && (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/map/land/${previous.uuid}`}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetIndex(index - 1);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<NavigateBefore fontSize=\"large\" style={{ color: grey[800] }} />\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t\t{current && (\n\t\t\t\t\t<div className=\"map-navigation-box--current\">\n\t\t\t\t\t\t<div className=\"map-navigation-box--current--name\">{current.sentenceId}</div>\n\t\t\t\t\t\t<div className=\"map-navigation-box--current--location\">\n\t\t\t\t\t\t\t{currentCity}\n\t\t\t\t\t\t\t{current.address.country}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{next && (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/map/land/${next.uuid}`}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetIndex(index + 1);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<NavigateNext fontSize=\"large\" style={{ color: grey[800] }} />\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t);\n};\n\nexport default MapNavigationBox;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass Footer extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Footer\">\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container\">\n\t\t\t\t\t\t<Link to=\"/\" className=\"Logo__footer_link\">\n\t\t\t\t\t\t\t<div className=\"Footer__logo Icon\">\n\t\t\t\t\t\t\t\t<img src={require('../../assets/img/ovr.png')} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<div className=\"Footer__copyright\">Over Holding Srl © 2020</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container --large\">\n\t\t\t\t\t\tOver Holding Srl <br></br>\n\t\t\t\t\t\tViale Tricesimo n. 200<br></br>\n\t\t\t\t\t\t33100 Udine - Italy<br></br>\n\t\t\t\t\t\tVat no. IT02945890305\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container\">\n\t\t\t\t\t\t<div className=\"Footer__title\">Legal</div>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={'https://www.ovr.ai/privacy-policy/'}\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\t\t\tclassName=\"Footer__link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrivacy policy\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container\">\n\t\t\t\t\t\t<div className=\"Footer__title\">Community</div>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={'https://t.me/OVRtheReality'}\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\t\t\tclassName=\"Footer__link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTelegram\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={'https://medium.com/ovrthereality/'}\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\t\t\tclassName=\"Footer__link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tMedium\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={'https://www.facebook.com/OVRtheReality'}\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\t\t\tclassName=\"Footer__link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tFacebook\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Footer;\n","import React, { useEffect, useState } from 'react';\n\nimport { getToken, removeToken } from '../../lib/auth';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\n/**\n * BannerNotification component\n */\n\nconst BannerNotification = () => {\n\tconst { t, i18n } = useTranslation()\n\tconst [firstAfterSignup, setFirstAfterSignup] = useState(getToken('firstAfterSignup'));\n\n\tuseEffect(() => {\n\t\tif (firstAfterSignup) {\n\t\t\tremoveToken('firstAfterSignup');\n\t\t\tsetFirstAfterSignup(false);\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t{firstAfterSignup && (\n\t\t\t\t<div className=\"BannerNotification\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"--positive\">\n\t\t\t\t\t\t\t<div className=\"BannerNotification__title\">{t('BannerNotification.welcome')}{' '}🥳</div>\n\t\t\t\t\t\t\t<div className=\"BannerNotification__content\">\n\t\t\t\t\t\t\t\t{t('BannerNotification.intro')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default BannerNotification;\n","import React, { Suspense } from 'react';\nimport './App.scss';\nimport './i18n';\nimport 'react-notifications-component/dist/theme.css';\n\n// import Home from './views/Home/Home';\nimport Discover from './views/Discover/Discover';\nimport Overview from './views/Overview/Overview';\nimport Land from './views/Land/Land';\nimport Lands from './views/Lands/Lands';\nimport Profile from './views/Profile/Profile';\nimport Activity from './views/Activity/Activity';\nimport Login from './views/Login/Login';\nimport LoginHelper from './views/LoginHelper/LoginHelper';\nimport Signup from './views/Signup/Signup';\nimport BuyTokens from './views/BuyTokens/BuyTokens';\nimport IndacoinResponse from './views/IndacoinResponse/IndacoinResponse';\n\nimport NavBar from './components/NavBar/NavBar';\nimport Map from './components/Map/Map';\nimport Footer from './components/Footer/Footer';\nimport BannerNotification from './components/BannerNotification/BannerNotification';\n\nimport ReactNotification from 'react-notifications-component';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { MapProvider, MapContext } from './context/MapContext';\nimport { UserProvider, UserContext } from './context/UserContext';\nimport { Web3Provider, Web3Context } from './context/Web3Context';\n\nimport ReactGA from 'react-ga';\nimport { createBrowserHistory } from 'history';\n\n//TODO\nimport i18next from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { Translation } from 'react-i18next';\n\nconst supportedLangs = ['en', 'zh'];\nconst fallbackLang = 'en';\n\nfunction App() {\n\n\ti18next.use(LanguageDetector).init({\n\t\t// order and from where user language should be detected\n\t\torder: ['querystring', 'cookie', 'localStorage', 'sessionStorage', 'navigator', 'htmlTag', 'path', 'subdomain'],\n\n\t\t// keys or params to lookup language from\n\t\tlookupQuerystring: 'lng',\n\t\tlookupCookie: 'i18next',\n\t\tlookupLocalStorage: 'i18nextLng',\n\t\tlookupSessionStorage: 'i18nextLng',\n\t\tlookupFromPathIndex: 0,\n\t\tlookupFromSubdomainIndex: 0,\n\t\tlng: navigator.language || navigator.userLanguage,\n\t  \n\t\t// cache user language on\n\t\tcaches: ['localStorage', 'cookie'],\n\t\texcludeCacheFor: ['cimode'], // languages to not persist (cookie, localStorage)\n\t});\n\n\tif(!supportedLangs.includes(i18next.language)){\n\t\tlocalStorage.removeItem('i18nextLng');\n\t\ti18next.changeLanguage(fallbackLang)\n\t}\n\n\tconst history = createBrowserHistory();\n\t\n\t// Initialize google analytics page view tracking\n\thistory.listen(location => {\n\t\tconsole.log('GA', location.pathname)\n\t\tReactGA.initialize('UA-128415861-1');\n\t\tReactGA.set({ page: location.pathname }); // Update the user's current page\n\t\tReactGA.pageview(location.pathname); // Record a pageview for the given page\n\t});\n\n\treturn (\n\t\t<Suspense fallback=\"loading\">\n\t\t\t<Translation>\n\t\t\t\t{(t, { i18n }) =>\n\t\t\t\t<UserProvider t={t} i18n={i18n}>\n\t\t\t\t\t<Web3Provider t={t} i18n={i18n}>\n\t\t\t\t\t\t<MapProvider>\n\t\t\t\t\t\t\t<UserContext.Consumer>\n\t\t\t\t\t\t\t\t{(userValue) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Web3Context.Consumer>\n\t\t\t\t\t\t\t\t\t\t\t{(web3Value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MapContext.Consumer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(mapValue) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Router history={history}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"App\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ReactNotification />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NavBar></NavBar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BannerNotification></BannerNotification>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/\" component={Map}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <Route path=\"/\" exact component={Home}></Route> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{userValue.state.isLoggedIn ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Redirect to=\"/profile\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Redirect to=\"/login\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* TODO: KYC - Redirect to Redirect to=\"/map/discover\" */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/discover\" component={Discover}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/overview\" component={Overview}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/lands\" component={Lands}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/land/:id\" component={Land}></Route> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/profile\" component={Profile}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/activity\" component={Activity}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/login\" component={Login}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/signup\" component={Signup}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/login-helper\" component={LoginHelper}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <Route path=\"/buy-tokens\" component={BuyTokens}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/indacoin-response\" component={IndacoinResponse}></Route>  TODO: KYC - Remove comment */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Footer></Footer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Router>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</MapContext.Consumer>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t</Web3Context.Consumer>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</UserContext.Consumer>\n\t\t\t\t\t\t</MapProvider>\n\t\t\t\t\t</Web3Provider>\n\t\t\t\t</UserProvider> }\n\t\t\t</Translation>\n\t\t</Suspense>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA',\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (response.status === 404 || (contentType !==null && contentType.indexOf('javascript') === -1)) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}