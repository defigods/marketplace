{"version":3,"sources":["context/MapContext.js","components/TextCounter/TextCounter.js","components/LandName/LandName.js","components/ValueCounter/ValueCounter.js","components/TimeCounter/TimeCounter.js","components/AuctionCard/AuctionCard.js","components/LandCard/LandCard.js","lib/config.js","lib/auth.js","lib/api.js","lib/notifications.js","views/Discover/Discover.js","views/Overview/Overview.js","lib/contracts.js","lib/abis.js","context/UserContext.js","components/HexButton/HexButton.js","components/BidOverlay/BidOverlay.js","components/MintOverlay/MintOverlay.js","components/SellOverlay/SellOverlay.js","components/BuyOfferOverlay/BuyOfferOverlay.js","components/BuyOfferOrder/BuyOfferOrder.js","components/OpenSellOrder/OpenSellOrder.js","components/BuyLandOverlay/BuyLandOverlay.js","views/Land/Land.js","components/IdensicComp/IdensicComp.js","components/CheckBox/CheckBox.js","views/Profile/Profile.js","views/Login/Login.js","views/Signup/Signup.js","views/BuyTokens/BuyTokens.js","components/Notification/Notification.js","components/NotificationCenter/NotificationCenter.js","components/NavBar/NavBar.js","components/Breadcrumbs/Breadcrumbs.js","components/Breadcrumbs/MapBreadcrumbs.js","components/MapNavigationBox/MapNavigationBox.js","components/Map/Map.js","components/Footer/Footer.js","components/BannerNotification/BannerNotification.js","App.js","serviceWorker.js","index.js"],"names":["MapContext","createContext","MapProvider","props","state","onSingleView","hex_id","isAuction","isUserRelated","activeBidOverlay","activeMintOverlay","activeSellOverlay","activeBuyOfferOverlay","activeBuyOverlay","auctionList","landData","changeHexId","bind","disableSingleView","changeAuctionList","changeActiveBidOverlay","changeActiveMintOverlay","changeActiveSellOverlay","changeActiveBuyOfferOverlay","changeLandData","changeActiveBuyOverlay","this","setState","list","activeVal","Provider","value","actions","overviewList","children","Component","withMapContext","Consumer","mapProvider","React","TextCounter","className","label","LandName","mode","max","name","sentence","location","ValueCounter","width","height","viewBox","xmlns","x","y","x1","y1","x2","y2","id","stopColor","offset","transform","stroke","window","fill","fillRule","d","TimeCounter","local","fromNow","date_end","AuctionCard","user_perspective","background_image","hex","statusClassName","statusText","to","style","backgroundImage","time","signature","LandCard","config","web3network","apis","hostname","socket","map","lat","lng","zoom","fillOpacity","colorScale","camelCaseKeys","object","camelCaseObject","_","cloneDeep","isArray","isString","mapKeys","key","camelCase","mapValues","isPlainObject","Array","prototype","readNotification","notification_uuid","foundItem","find","item","uuid","status","readAllNotifications","forEach","saveToken","tokenName","tokenValue","Cookies","set","getToken","get","removeToken","remove","isLogged","undefined","cookieName","getUser","userProfile","userToken","cookieValue","saveUser","request","url","method","endpoint","params","req_config","headers","token","axios","defaults","common","Promise","resolve","reject","post","then","response","catch","err","console","log","networkError","store","addNotification","title","message","type","insert","container","animationIn","animationOut","showIcon","dismiss","duration","warningNotification","dangerNotification","successNotification","Discover","useState","listAuctions","setListAuctions","numberOfAuctionPages","setNumberOfAuctionPages","currentAuctionPage","setCurrentAuctionPage","listLands","setListLands","numberOfLandPages","setNumberOfLandPages","currentLandPage","setCurrentLandPage","useContext","loadAuctionsByPage","page","sort","indexOpenAuctions","data","auctions","length","obj","land","auction","currentWorth","mapTileUrl","sentenceId","address","full","market_status","marketStatus","userPerspective","closeAt","numberOfPages","loadLandsByPage","indexLands","lands","error","useEffect","Pagination","count","onChange","event","number","Overview","userAuthenticated","setUserAuthenticated","indexMyOpenAuctions","result","indexMyLands","icon","isSvg","role","aria-label","tokenBuyAddress","icoAddress","tokenBuyAbi","erc20Abi","constant","inputs","outputs","internalType","payable","stateMutability","anonymous","indexed","icoAbi","ovr721Abi","ActionCable","require","promisify","inner","res","UserContext","UserProvider","loginUser","user","isLoggedIn","liveSocket","logOutUser","waitTx","txHash","blockCounter","filter","web3","eth","watch","blockHash","a","stopWatching","warn","cb","getBlock","block","transactions","indexOf","setupWeb3","callback","ethereum","enable","Web3","currentProvider","defaultAccount","accounts","publicAddress","toLowerCase","handleCentralizedLogin","refreshWhenAccountsChanged","updateBalanceWhenChanged","setupContracts","getOvrsOwned","lightSetupWeb3","_dai","contract","at","_tether","_usdc","_tokenBuy","_ovr","_ico","_ovr721","dai","promisifyAll","tether","usdc","tokenBuy","ovr","ico","ovr721","setupComplete","on","setInterval","String","balanceOfAsync","fromWei","ovrsOwned","handleUserSignMessage","nonce","personal","sign","fromUtf8","handleAuthenticate","singedNonce","public_address","signed_nonce","signIn","errors","redeemLands","getActiveLandsAsync","activeLandsIds","landsRedeemed","i","landsAsync","auctionLandDurationAsync","auctionTime","now","Math","trunc","Date","timePassedInSeconds","parseInt","redeemWonLandAsync","gasPrice","toWei","redeemSingleLand","hexId","landId","tx","approveErc721Token","isLandId","getApprovedAsync","approveAsync","approveOvrTokens","currentBalance","allowanceAsync","currentAllowance","greaterThan","buyLand","buyLandAsync","putLandOnSale","price","onSale","putLandOnSaleAsync","toggleShowNotificationCenter","showNotificationCenter","closeNotificationCenter","setNotificationAsReaded","notifications_content","notifications","content","unreaded_count","unreadedCount","setAllNotificationsAsReaded","createConsumer","subscriptions","create","channel","user_uuid","received","notification","balance","offerToBuyLand","expirationDate","offerToBuyLandAsync","getOffersToBuyLand","getLandOffersAsync","landOfferIds","offers","groupCountersAsync","latestGroupCounter","landOfferId","landOffersAsync","offer","push","by","group","timestamp","cancelBuyOffer","offerId","cancelBuyOfferAsync","declineBuyOffer","respondToBuyOfferAsync","acceptBuyOffer","getUserNonce","setAsReaded","setAllAsReaded","withUserContext","userProvider","HexButton","onClick","text","target","href","nextBid","setNextBid","bidValid","setBidValid","activeStep","setActiveStep","currentBid","setCurrentBid","pathHexId","pathname","split","setHexId","bid","setBid","priceInterval","setupListeners","setNextBidSelectedLand","document","addEventListener","detail","clearInterval","handleNext","weiBid","participateInAuctionAsync","prevActiveStep","landUuid","worth","land_uuid","bidAuction","realodLandStatefromApi","setDeactiveOverlay","e","preventDefault","setTimeout","transitionName","transitionAppear","transitionAppearTimeout","transitionEnter","transitionLeave","transitionLeaveTimeout","version","strokeWidth","points","step","myBid","eventBid","getStepContent","metamaskMessage","setMetamaskMessage","initialLandBidAsync","initialBid","nextPayment","checkEpochAsync","lessThan","mintLand","fill-opacity","sellWorth","setNewSellWorth","bidInputError","boughtAt","setBoughtAt","sellLandInterval","setBoughtAtPrice","paid","sellLand","updateNewSellWorth","stroke-width","fill-rule","helperText","onFocus","onKeyUp","today","tomorrow","setDate","getDate","proposedValue","setProposedValue","setExpirationDate","solidityExpirationDate","setSolidityExpirationDate","expiration_date","buyOffer","updateProposedValue","handleDateChange","utils","MomentUtils","DateTimePicker","variant","format","margin","KeyboardButtonProps","confirmDeleteBuyOffer","transactionInProcess","handleClose","confirmSell","newTx","openDeclineModal","openDeclineBuyModal","openModal","handleOpen","buttonRender","isOwner","Modal","aria-labelledby","aria-describedby","open","onClose","reload","that","loadLandStateFromApi","setContractPrice","icoLoadInterval","openSellOrder","openBuyOffers","isRedeemingLand","mapActions","match","setupInterval","getBuyOffers","updateMarketStatusFromSmartContract","getLand","myInterval","prevProps","lastPaymentTimestamp","landOwner","auctionLandDuration","landContractState","badge","button","setActiveMintOverlay","setActiveBidOverlay","setActiveBuyOfferOverlay","setActiveSellOverlay","setActiveBuyOverlay","redeemLand","bidHistory","when","from","custom_return","openSell","displayBuyOffers","displaySells","renderPrice","renderTimer","renderBadge","renderOverlayButton","renderActiveOpenOrders","renderBidHistory","IdensicComp","withStyles","root","color","grey","checked","Checkbox","idensicPath","baseUrl","idensic","script","createElement","onload","loadEvent","Error","onerror","errorEvent","src","head","appendChild","clientId","externalUserId","accessToken","init","messageType","payload","attachKycJs","initIdensic","ProfileContentLoginRequired","ProfileLayout","currentDatetimeStamp","moment","seed","size","scale","bgColor","spotColor","ProfileContent","sumsubShowPanel","setSumsubShowPanel","sumsubExternalUserId","setSumsubExternalUserId","sumsubAccessToken","setSumsubAccessToken","kycReviewStatus","Profile","context","history","useHistory","userEmail","setUserEmail","isSignupLoading","setIsSignupLoading","userEmailValid","setUserEmailValid","userEmailInputError","setUserEmailInputError","username","setUsername","usernameValid","setUsernameValid","usernameInputError","setUsernameInputError","emailRegexAndNext","test","updateUserEmail","updateUsername","handleSubscribe","email","userName","signUpHybrid","error_code","code","error_message","handleLogin","isWeb3Active","isWeb3Account","web3NetworkVersion","networkVersion","xmlnsXlink","cx","cy","fx","fy","r","stopOpacity","opacity","mixBlendMode","CircularProgress","perEth","setPerEth","perUsd","setPerUsd","tokensToBuy","setTokensToBuy","showCardForm","setShowCardForm","cardNumber","setCardNumber","cardExpiryMonth","setCardExpiryMonth","cardExpiryYear","setCardExpiryYear","cvv","setCvv","zip","setZip","getPrices","requireSetup","Number","tokensPerEthAsync","receivedPerEth","tokensPerUsdAsync","receivedPerUsd","buy","buyTokensWithEthAsync","buyWithCard","buyWithToken","dataToSend","amount","addressReceiver","card","cardNum","cardExpiry","month","year","billingDetails","fetch","body","JSON","stringify","json","ok","msg","buyTokensWithDaiAsync","buyTokensWithUsdtAsync","buyTokensWithUsdcAsync","placeholder","Notification","anchorEl","setAnchorEl","readed","setReaded","hidden","setHidden","Boolean","handleClick","currentTarget","handleGoTo","toggleNotificationCenter","handleHide","notificationUuid","hideNotification","dangerouslySetInnerHTML","__html","replace","landSentence","createdAt","IconButton","aria-controls","aria-haspopup","Menu","keepMounted","TransitionComponent","Fade","MenuItem","NotificationCenterContent","ref","wrapperRef","useRef","handleClickOutside","current","contains","getElementById","removeEventListener","NavBar","rightContainer","contextType","Breadcrumbs","previousLinks","currentPageLabel","separator","fontSize","index","defaultProps","MapBreadcrumbs","useLocation","charAt","toUpperCase","slice","prevLinks","Object","keys","constructor","CircularList","array","nextIndex","prevIndex","MapNavigationBox","items","getCurrent","setCurrent","getPrevious","previous","setPrevious","getNext","next","setNext","setIndex","currentCity","city","NavigateBefore","country","Map","hexagons","initMap","waitMapStyle","geojson","geojson2h3","h3SetToFeatureCollection","layerId","source","getSource","addSource","addLayer","interactive","paint","setData","setPaintProperty","property","stops","center","getCenter","centerHex","h3","kRing","assign","reduce","random","mapboxgl","geocoder","MapboxGeocoder","marker","addControl","ev","flyTo","geometry","coordinates","speed","tileSize","setLayoutProperty","switchy","setAttribute","innerHTML","focusMap","getZoom","renderHexes","lngLat","landSelectedEvent","CustomEvent","dispatchEvent","hexCenterCoordinates","singleHexGeojson","h3ToFeature","selected_layerId","selected_source","paras","getElementsByClassName","parentNode","removeChild","el","insertAdjacentHTML","Marker","setLngLat","geocenter","addTo","isStyleLoaded","nextProps","nextState","nextContext","plotAuctions","Footer","firstAfterSignup","App","userValue","mapValue","path","component","exact","Land","Login","Signup","BuyTokens","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3d6296cc.chunk.js","sourcesContent":["import React, { createContext, Component } from 'react';\n\nexport const MapContext = createContext();\n\nexport class MapProvider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tonSingleView: false,\n\t\t\thex_id: '8c81326dda43dff',\n\t\t\tisAuction: false,\n\t\t\tisUserRelated: false,\n\t\t\tactiveBidOverlay: false,\n\t\t\tactiveMintOverlay: false,\n\t\t\tactiveSellOverlay: false,\n\t\t\tactiveBuyOfferOverlay: false,\n\t\t\tactiveBuyOverlay: false,\n\t\t\tauctionList: [],\n\t\t\tlandData: {},\n\t\t};\n\n\t\tthis.changeHexId = this.changeHexId.bind(this);\n\t\tthis.disableSingleView = this.disableSingleView.bind(this);\n\t\tthis.changeAuctionList = this.changeAuctionList.bind(this);\n\t\tthis.changeActiveBidOverlay = this.changeActiveBidOverlay.bind(this);\n\t\tthis.changeActiveMintOverlay = this.changeActiveMintOverlay.bind(this);\n\t\tthis.changeActiveSellOverlay = this.changeActiveSellOverlay.bind(this);\n\t\tthis.changeActiveBuyOfferOverlay = this.changeActiveBuyOfferOverlay.bind(this);\n\t\tthis.changeLandData = this.changeLandData.bind(this);\n\t\tthis.changeActiveBuyOverlay = this.changeActiveBuyOverlay.bind(this);\n\t}\n\n\tchangeHexId(hex_id) {\n\t\tthis.setState({ onSingleView: true, hex_id: hex_id, isAuction: true });\n\t}\n\tchangeLandData(landData) {\n\t\tthis.setState({ landData });\n\t}\n\tdisableSingleView() {\n\t\tthis.setState({ onSingleView: false });\n\t}\n\tchangeAuctionList(list) {\n\t\tthis.setState({ auctionList: list });\n\t}\n\tchangeActiveBidOverlay(activeVal) {\n\t\tthis.setState({ activeBidOverlay: activeVal });\n\t}\n\tchangeActiveMintOverlay(activeVal) {\n\t\tthis.setState({ activeMintOverlay: activeVal });\n\t}\n\tchangeActiveSellOverlay(activeVal) {\n\t\tthis.setState({ activeSellOverlay: activeVal });\n\t}\n\tchangeActiveBuyOfferOverlay(activeVal) {\n\t\tthis.setState({ activeBuyOfferOverlay: activeVal });\n\t}\n\tchangeActiveBuyOverlay(activeVal) {\n\t\tthis.setState({ activeBuyOverlay: activeVal });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<MapContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\tstate: this.state,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tchangeHexId: this.changeHexId,\n\t\t\t\t\t\tchangeActiveBidOverlay: this.changeActiveBidOverlay,\n\t\t\t\t\t\tchangeActiveMintOverlay: this.changeActiveMintOverlay,\n\t\t\t\t\t\tchangeAuctionList: this.changeAuctionList,\n\t\t\t\t\t\tdisableSingleView: this.disableSingleView,\n\t\t\t\t\t\tchangeActiveSellOverlay: this.changeActiveSellOverlay,\n\t\t\t\t\t\tchangeActiveBuyOfferOverlay: this.changeActiveBuyOfferOverlay,\n\t\t\t\t\t\tchangeLandData: this.changeLandData,\n\t\t\t\t\t\tchangeActiveBuyOverlay: this.changeActiveBuyOverlay,\n\t\t\t\t\t},\n\t\t\t\t\toverviewList: this.overviewList,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.props.children}\n\t\t\t</MapContext.Provider>\n\t\t);\n\t}\n}\n\nexport function withMapContext(Component) {\n\tclass ComponentWithContext extends React.Component {\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<MapContext.Consumer>{(value) => <Component {...this.props} mapProvider={{ ...value }} />}</MapContext.Consumer>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn ComponentWithContext;\n}\n","import React, { Component } from 'react';\n\nclass TextCounter extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"TextCounter\">\n\t\t\t\t<div className=\"TextCounter__text\"> {this.props.value} </div>\n\t\t\t\t<div className=\"TextCounter__label\"> {this.props.label} </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default TextCounter;\n","import React, { Component } from 'react';\nimport TextCounter from '../TextCounter/TextCounter';\n\nimport { Textfit } from 'react-textfit';\n\n\nclass LandName extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"LandName\">\n\t\t\t\t{this.props.value && <TextCounter value={this.props.value} label=\"OVR\"></TextCounter>}\n\t\t\t\t<div className=\"LandName__name\">\n\t\t\t\t\t<Textfit mode=\"single\" max={17}>\n\t\t\t\t\t\t{this.props.name.sentence}\n\t\t\t\t\t</Textfit>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"LandName__location\"> {this.props.location} </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LandName;\n","import React, { Component } from 'react';\n\nclass ValueCounter extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ValueCounter\">\n\t\t\t\t<div className=\"ValueCounter__icon\">\n\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t<svg width=\"18px\" height=\"20px\" viewBox=\"0 0 18 20\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0\" y=\"0\">\n\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t<linearGradient x1=\"109.444%\" y1=\"100%\" x2=\"0%\" y2=\"0%\" id=\"prefix__a\">\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#EB663B\" offset=\"0%\" />\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#F9B326\" offset=\"100%\" />\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t<g transform=\"translate(-1)\" stroke={`url(${window.location}#prefix__a)`} fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t<path d=\"M18.5 5.246v9.462a2.01 2.01 0 01-1.21 1.842l-5.624 2.41-.886.38a1.984 1.984 0 01-1.56 0l-1.274-.546L2.71 16.55a2.01 2.01 0 01-1.21-1.842V5.246A2.01 2.01 0 012.721 3.4l.218-.091L9.23.656a1.973 1.973 0 011.538 0l3.974 1.674L17.279 3.4A2.01 2.01 0 0118.5 5.246z\" />\n\t\t\t\t\t\t\t\t<path d=\"M15.958 5.47a1.472 1.472 0 00-.62-.518l-1.86-.817-2.914-1.28a1.4 1.4 0 00-1.128 0L4.822 4.881l-.16.07a1.472 1.472 0 00-.62.517 1.582 1.582 0 00-.275.896V13.6c0 .327.099.638.273.892.153.224.363.405.614.517l3.84 1.716.934.417a1.4 1.4 0 001.144 0l.65-.29 4.124-1.843c.251-.112.461-.293.614-.517.174-.254.273-.565.273-.892V6.365c0-.329-.1-.64-.275-.896z\" />\n\t\t\t\t\t\t\t\t<path d=\"M6.033 10c0-2.16 1.776-3.912 3.967-3.912 2.19 0 3.967 1.752 3.967 3.912S12.19 13.912 10 13.912c-2.19 0-3.967-1.752-3.967-3.912z\" />\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ValueCounter__value\"> {this.props.value}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ValueCounter;\n","import React, { Component } from 'react';\nimport Moment from 'react-moment';\n// https://github.com/moment/moment/issues/537 updateLocale\n\nclass TimeCounter extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"TimeCounter\">\n\t\t\t\t{/* <span>{this.props.time}</span>{this.props.signature} */}\n\t\t\t\t<Moment local fromNow>\n\t\t\t\t\t{this.props.date_end}\n\t\t\t\t</Moment>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default TimeCounter;\n","import React from 'react';\nimport LandName from '../LandName/LandName';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport { Link } from 'react-router-dom';\n\nconst AuctionCard = (props) => {\n\tconst { user_perspective, background_image, name, value, location, date_end } = props;\n\tconst { sentence, hex } = name;\n\tlet statusClassName = '--open';\n\tlet statusText = 'OPEN';\n\n\tswitch (user_perspective) {\n\t\tcase 1:\n\t\t\tstatusClassName = '--open';\n\t\t\tstatusText = 'OPEN';\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tstatusClassName = '--bestbid';\n\t\t\tstatusText = 'BEST BID';\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tstatusClassName = '--outbidded';\n\t\t\tstatusText = 'OUTBIDDED';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tstatusClassName = '--open';\n\t\t\tstatusText = 'OPEN';\n\t\t\tbreak;\n\t}\n\n\treturn (\n\t\t<div className={`AuctionCard ${statusClassName}`}>\n\t\t\t<Link to={`/map/land/${hex}`}>\n\t\t\t\t<div className=\"AuctionCard__header\" style={{ backgroundImage: background_image }}>\n\t\t\t\t\t<div className=\"c-status-badge AuctionCard__status\">{statusText}</div>\n\t\t\t\t\t<div className=\"AuctionCard__ping_container\">\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-1\"> </div>\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-2\"> </div>\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-3\"> </div>\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-4\"> </div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t\t<div className=\"AuctionCard__body\">\n\t\t\t\t<LandName name={{ sentence: sentence, hex: hex }} location={location}></LandName>\n\t\t\t\t<div className=\"AuctionCard__bottom_line\">\n\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t<ValueCounter value={value}></ValueCounter>\n\t\t\t\t\t\t{/* className={realodLandStatefromApi} */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t<TimeCounter time={20} signature=\"mins\" date_end={date_end}></TimeCounter>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default AuctionCard;\n","import React from 'react';\nimport LandName from '../LandName/LandName';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport { Link } from 'react-router-dom';\n\nconst LandCard = (props) => {\n\treturn (\n\t\t<Link to={`/map/land/${props.name.hex}`} className=\"LandCard\">\n\t\t\t<div className=\"LandCard__header\" style={{ backgroundImage: props.background_image }}>\n\n\t\t\t</div>\n\t\t\t<div className=\"LandCard__cont\">\n\t\t\t\t<div className=\"LandCard__body\">\n\t\t\t\t\t<LandName name={props.name} location={props.location}></LandName>\n\t\t\t\t\t<div className=\"LandCard__body__footer\">\n\t\t\t\t\t\t<TimeCounter time={20} signature=\"mins\" date_end={props.date_end}></TimeCounter>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Link>\n\t);\n};\n\nexport default LandCard;\n","import _ from 'lodash';\n\n//\n// General Configs\n//\n\n// Possible values are STAGING, DEVELOPMENT, PRODUCTION\n// If you have connection error set as STAGING\nconst environment = 'STAGING';\n\nconst apis = {\n\thostname:\n\t\tenvironment === 'PRODUCTION'\n\t\t\t? 'http://localhost:3000/api/v1'\n\t\t\t: (environment === 'STAGING' ? 'https://mws-staging.ovr.ai/api/v1' : 'http://localhost:3000/api/v1'),\n\tsocket:\n\t\tenvironment === 'PRODUCTION'\n\t\t\t? 'ws://localhost:3000/cable'\n\t\t\t: (environment === 'STAGING' ? 'wss://47.254.135.104:8003/cable' : 'ws://localhost:3000/cable')\n};\n\nconst map = {\n\tlat: 46.0922495,\n\tlng: 13.2312417,\n\tzoom: 0,\n\tfillOpacity: 0.3,\n\tcolorScale: ['#5F39BE', '#ffffff', '#1a0731', '#EC663C', '#0081DD'],\n};\n\nlet config = {\n\tweb3network:\n\tenvironment === 'PRODUCTION'\n\t\t? \"1\"\n\t\t: \"3\",\n\tapis: apis,\n\tmap: map,\n};\n\nexport default config;\n\n//\n//  Lib Functions\n//\n\nexport function camelCaseKeys(object) {\n\tlet camelCaseObject = _.cloneDeep(object);\n\n\tif (_.isArray(camelCaseObject)) {\n\t\treturn _.map(camelCaseObject, camelCaseKeys);\n\t}\n\tif (_.isString(camelCaseObject)) {\n\t\treturn camelCaseObject;\n\t}\n\tcamelCaseObject = _.mapKeys(camelCaseObject, (value, key) => _.camelCase(key));\n\n\t// Recursively apply throughout object\n\treturn _.mapValues(camelCaseObject, (value) => {\n\t\tif (_.isPlainObject(value)) {\n\t\t\treturn camelCaseKeys(value);\n\t\t} else if (_.isArray(value)) {\n\t\t\treturn _.map(value, camelCaseKeys);\n\t\t}\n\t\treturn value;\n\t});\n}\n\nArray.prototype.readNotification = function (notification_uuid) {\n\tlet foundItem = this.find((item) => item.uuid === notification_uuid);\n\tif (foundItem) {\n\t\tfoundItem.status = 1;\n\t}\n};\n\nArray.prototype.readAllNotifications = function () {\n\tthis.forEach((item) => {\n\t\titem.status = 1;\n\t});\n};\n","import Cookies from 'js-cookie';\n\nexport function saveToken(tokenName = 'token', tokenValue) {\n\tCookies.set(tokenName, tokenValue);\n}\n\nexport function getToken(tokenName = 'token') {\n\treturn Cookies.get(tokenName);\n}\n\nexport function removeToken(tokenName = 'token') {\n\tCookies.remove(tokenName);\n}\n\nexport function checkToken(tokenName = 'token') {\n\treturn Cookies.get(tokenName) !== undefined;\n}\n\nexport function saveUser(cookieName = 'user', cookieValue) {\n\tCookies.set(cookieName, cookieValue);\n}\n\nexport function getUser(cookieName = 'userToken') {\n\treturn Cookies.get(cookieName);\n}\n\nexport function removeUser(cookieName = 'userToken') {\n\tCookies.remove(cookieName);\n}\n\nexport function isLogged() {\n\treturn getUser() !== undefined;\n}\n","import config, { camelCaseKeys } from '../lib/config';\nimport { getToken, saveUser } from '../lib/auth';\nimport axios from 'axios';\n\n// TRANSFORMATIONS -> funzioni di trasformazione dati app -> server e server -> app.\n// ----------------------------------------------------------------------------------------\nexport function example(user) {\n\treturn {\n\t\tuuid: user.uuid,\n\t\tbleId: user.ble_id,\n\t\tbleName: user.ble_name,\n\t\tbleCode: user.ble_code,\n\t\ttimestampCreation: user.timestamp_creation,\n\t};\n}\n\n// AUTHENTICATION REQUEST\n// ----------------------------------------------------------------------------------------\n\n/**\n * @function signIn\n * @param {*}\n */\nexport function signIn(publicAddress, singedNonce) {\n\treturn request(\n\t\t{ url: '/authentication/login', method: 'POST' },\n\t\t{ public_address: publicAddress, signed_nonce: singedNonce },\n\t\tnull,\n\t);\n}\n\nexport function getUserNonce(publicAddress){\n\treturn request({ url: '/user/nonce', method: 'GET' }, { public_address: publicAddress }, null);\n}\n\nexport function userProfile(userToken) {\n\tsaveUser('user', userToken);\n\treturn request({ url: '/user/profile', method: 'GET' }, {}, null);\n}\n\n// USER REGISTRATION\n// ----------------------------------------------------------------------------------------\n\n/**\n * @function signUp\n * @param {*}\n */\nexport function signUp(userName, password, email) {\n\treturn request(\n\t\t{ url: '/user/registration', method: 'POST' },\n\t\t{ username: userName, password: password, email: email },\n\t\tnull,\n\t);\n}\n\nexport function signUpHybrid(email, userName, publicAddress) {\n\treturn request(\n\t\t{ url: '/user/registration', method: 'POST' },\n\t\t{ email: email, username: userName, public_address: publicAddress },\n\t\tnull,\n\t);\n}\n\nexport function signUpPublicAddress(publicAddress) {\n\treturn request({ url: '/user/registration', method: 'POST' }, { public_address: publicAddress }, null);\n}\n\n// AUCTIONS\n// ----------------------------------------------------------------------------------------\nexport function indexOpenAuctions(sort = null, page = 1) {\n\treturn request({ url: '/auctions/open', method: 'GET' }, { sort: sort, page: page }, null);\n}\n\nexport function indexMyOpenAuctions(sort = null, page = 1) {\n\treturn request(\n\t\t{ url: '/user/auctions', method: 'GET' },\n\t\t{\n\t\t\tsort: sort,\n\t\t\tpage: page,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function bidAuction(landUuid = null, worth = 10) {\n\treturn request(\n\t\t{ url: '/auction/bid', method: 'POST' },\n\t\t{\n\t\t\tland_uuid: landUuid,\n\t\t\tworth: worth,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function mintLand(landUuid = null, worth = 10) {\n\treturn request(\n\t\t{ url: '/land/mint', method: 'POST' },\n\t\t{\n\t\t\tland_uuid: landUuid,\n\t\t\tworth: worth,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// LANDS\nexport function getLand(hex_id = null) {\n\treturn request(\n\t\t{ url: '/land', method: 'GET' },\n\t\t{\n\t\t\thex_id: hex_id,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function indexLands(sort = null, page = 1) {\n\treturn request(\n\t\t{ url: '/lands', method: 'GET' },\n\t\t{\n\t\t\tsort: sort,\n\t\t\tpage: page,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function indexMyLands(sort = null, page = 1) {\n\treturn request(\n\t\t{ url: '/user/lands', method: 'GET' },\n\t\t{\n\t\t\tsort: sort,\n\t\t\tpage: page,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// SELL\nexport function sellLand(landUuid = null, worth = null) {\n\treturn request(\n\t\t{ url: '/order/sell', method: 'POST' },\n\t\t{\n\t\t\tland_uuid: landUuid,\n\t\t\tworth: worth,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function deleteSellLand(landUuid = null) {\n\treturn request(\n\t\t{ url: '/order/delete/sell', method: 'POST' },\n\t\t{\n\t\t\tland_uuid: landUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// BUY\nexport function buyLand(landUuid = null) {\n\treturn request(\n\t\t{ url: '/order/buy', method: 'POST' },\n\t\t{\n\t\t\tland_uuid: landUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// BUY OFFER\nexport function buyOffer(landUuid = null, worth = null, expirationDate = null) {\n\treturn request(\n\t\t{ url: '/order/buy_offer', method: 'POST' },\n\t\t{\n\t\t\tland_uuid: landUuid,\n\t\t\tworth: worth,\n\t\t\texpiration_date: expirationDate,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function deleteBuyOffer(orderUuid = null) {\n\treturn request(\n\t\t{ url: '/order/delete/buy_offer', method: 'POST' },\n\t\t{\n\t\t\torder_uuid: orderUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function hitBuyOffer(orderUuid = null) {\n\treturn request(\n\t\t{ url: '/order/hit_buy_offer', method: 'POST' },\n\t\t{\n\t\t\torder_uuid: orderUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// NOTIFICATION\nexport function readNotification(notificationUuid = null) {\n\treturn request(\n\t\t{ url: '/notification/read', method: 'POST' },\n\t\t{\n\t\t\tnotification_uuid: notificationUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function readAllNotifications() {\n\treturn request({ url: '/notifications/read', method: 'POST' }, {}, null);\n}\n\nexport function hideNotification(notificationUuid = null) {\n\treturn request(\n\t\t{ url: '/notification/hide', method: 'POST' },\n\t\t{\n\t\t\tnotification_uuid: notificationUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// KYC - SUMSUB\nexport function getSumsubData() {\n\treturn request({ url: '/user/sumsub/access_token', method: 'GET' }, {}, null);\n}\n\n// GENERAL REQUEST\n// ----------------------------------------------------------------------------------------\n\n/**\n * @description This function helps the generation of an axios request with the api server.\n * @param {object} endpoint\n * @param {object} params\n * @param {string} token\n */\nexport function request(endpoint, params, req_config = { headers: { 'Content-Type': 'application/json' } }) {\n\tconst token = getToken('userToken');\n\tif (token) {\n\t\taxios.defaults.headers.common['Authorization'] = token; // eslint-disable-line\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tlet req;\n\t\tif (endpoint.method === 'POST') {\n\t\t\treq = axios.post(`${config.apis.hostname}${endpoint.url}`, params, req_config);\n\t\t} else {\n\t\t\treq = axios.get(`${config.apis.hostname}${endpoint.url}`, { params });\n\t\t}\n\t\treq\n\t\t\t.then((response) => {\n\t\t\t\tresolve(camelCaseKeys(response));\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t});\n}\n","import { store } from 'react-notifications-component';\n\nexport function networkError() {\n\tstore.addNotification({\n\t\ttitle: 'Connection error',\n\t\tmessage: 'Check your internet connection or try again later',\n\t\ttype: 'danger',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n\nexport function warningNotification(title, message) {\n\tstore.addNotification({\n\t\ttitle: title,\n\t\tmessage: message,\n\t\ttype: 'warning',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n\nexport function dangerNotification(title, message) {\n\tstore.addNotification({\n\t\ttitle: title,\n\t\tmessage: message,\n\t\ttype: 'danger',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n\nexport function successNotification(title, message) {\n\tstore.addNotification({\n\t\ttitle: title,\n\t\tmessage: message,\n\t\ttype: 'success',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n","import React, { useState, useEffect, useContext } from 'react';\n\nimport './style.scss';\nimport { MapContext } from '../../context/MapContext';\nimport AuctionCard from '../../components/AuctionCard/AuctionCard';\nimport LandCard from '../../components/LandCard/LandCard';\n\nimport { indexOpenAuctions, indexLands } from '../../lib/api';\nimport { networkError } from '../../lib/notifications';\nimport Pagination from '@material-ui/lab/Pagination';\n\nconst Discover = () => {\n\tconst [listAuctions, setListAuctions] = useState('');\n\tconst [numberOfAuctionPages, setNumberOfAuctionPages] = useState(0);\n\tconst [currentAuctionPage, setCurrentAuctionPage] = useState(1);\n\n\tconst [listLands, setListLands] = useState('');\n\tconst [numberOfLandPages, setNumberOfLandPages] = useState(0);\n\tconst [currentLandPage, setCurrentLandPage] = useState(1);\n\n\tconst { actions } = useContext(MapContext);\n\n\tfunction loadAuctionsByPage(page) {\n\t\t// Call API function\n\t\tindexOpenAuctions(null, page)\n\t\t\t.then((response) => {\n\t\t\t\t// Load Auctions in MapContext\n\t\t\t\tactions.changeAuctionList(response.data.auctions);\n\t\t\t\tconsole.log(response.data.auctions);\n\n\t\t\t\tif (response.data.auctions.length > 0) {\n\t\t\t\t\t// Load user data in context store\n\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\tresponse.data.auctions.map((obj) => (\n\t\t\t\t\t\t\t<AuctionCard\n\t\t\t\t\t\t\t\tkey={obj.land.uuid}\n\t\t\t\t\t\t\t\tvalue={obj.land.auction.currentWorth}\n\t\t\t\t\t\t\t\tbackground_image={`url(${obj.land.mapTileUrl}`}\n\t\t\t\t\t\t\t\tname={{ sentence: obj.land.sentenceId, hex: obj.land.uuid }}\n\t\t\t\t\t\t\t\tlocation={obj.land.address.full}\n\t\t\t\t\t\t\t\tmarket_status={obj.land.marketStatus}\n\t\t\t\t\t\t\t\tuser_perspective={obj.land.userPerspective}\n\t\t\t\t\t\t\t\tdate_end={obj.land.auction.closeAt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)),\n\t\t\t\t\t);\n\t\t\t\t\tsetNumberOfAuctionPages(response.data.numberOfPages);\n\t\t\t\t} else {\n\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t\tThere is currently no <div className=\"c-status-badge\">OPEN</div> auction \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t\tBrowse the OVRLands: search for a location or click a point in the map and mint a land now.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction loadLandsByPage(page) {\n\t\tconsole.log('load land');\n\t\t// Call API function\n\t\tindexLands(null, page)\n\t\t\t.then((response) => {\n\t\t\t\t// Load Lands in MapContext\n\t\t\t\tif (response.data.lands.length > 0) {\n\t\t\t\t\t// Load user data in context store\n\t\t\t\t\tsetListLands(\n\t\t\t\t\t\tresponse.data.lands.map((obj) => (\n\t\t\t\t\t\t\t<LandCard\n\t\t\t\t\t\t\t\tkey={obj.uuid}\n\t\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\t\tvalue={obj.currentWorth}\n\t\t\t\t\t\t\t\tbackground_image={`url(${obj.mapTileUrl}`}\n\t\t\t\t\t\t\t\tname={{ sentence: obj.sentenceId, hex: obj.uuid }}\n\t\t\t\t\t\t\t\tlocation={obj.address.full}\n\t\t\t\t\t\t\t\tdate_end={obj.auction.closeAt}\n\t\t\t\t\t\t\t></LandCard>\n\t\t\t\t\t\t)),\n\t\t\t\t\t);\n\t\t\t\t\tsetNumberOfLandPages(response.data.numberOfPages);\n\t\t\t\t} else {\n\t\t\t\t\tsetListLands(\n\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">There is currently no lands to display</div>\n\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">Browse the aviable OVRLands: mint a land and own it now.</div>\n\t\t\t\t\t\t</div>,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction handleAuctionPageClick(event, number) {\n\t\tloadAuctionsByPage(number);\n\t\tsetCurrentAuctionPage(number);\n\t}\n\n\tfunction handleLandPageClick(event, number) {\n\t\tloadLandsByPage(number);\n\t\tsetCurrentLandPage(number);\n\t}\n\n\tuseEffect(() => {\n\t\tactions.disableSingleView();\n\t\tloadAuctionsByPage();\n\t\tloadLandsByPage();\n\t}, []);\n\n\treturn (\n\t\t<div className=\"Overview\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<h2 className=\"o-section-title\">Auctions</h2>\n\t\t\t</div>\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"o-auction-list\">{listAuctions}</div>\n\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t{numberOfAuctionPages > 1 && (\n\t\t\t\t\t\t<Pagination count={numberOfAuctionPages} page={currentAuctionPage} onChange={handleAuctionPageClick} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<h2 className=\"o-section-title\">Closed Auctions</h2>\n\t\t\t</div>\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"o-land-list\">{listLands}</div>\n\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t{numberOfLandPages > 1 && (\n\t\t\t\t\t\t<Pagination count={numberOfLandPages} page={currentLandPage} onChange={handleLandPageClick} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Discover;\n","import React, { useState, useEffect, useContext } from 'react';\nimport './style.scss';\nimport { MapContext } from '../../context/MapContext';\nimport AuctionCard from '../../components/AuctionCard/AuctionCard';\nimport LandCard from '../../components/LandCard/LandCard';\n\nimport { indexMyOpenAuctions, indexMyLands } from '../../lib/api';\nimport { networkError } from '../../lib/notifications';\nimport Pagination from '@material-ui/lab/Pagination';\n\nconst Overview = () => {\n\tconst [listAuctions, setListAuctions] = useState('');\n\tconst [numberOfAuctionPages, setNumberOfAuctionPages] = useState(0);\n\tconst [currentAuctionPage, setCurrentAuctionPage] = useState(1);\n\n\tconst [listLands, setListLands] = useState('');\n\tconst [numberOfLandPages, setNumberOfLandPages] = useState(0);\n\tconst [currentLandPage, setCurrentLandPage] = useState(1);\n\tconst [userAuthenticated, setUserAuthenticated] = useState(true);\n\n\tconst { actions } = useContext(MapContext);\n\n\tfunction loadAuctionsByPage(page) {\n\t\t// Call API function\n\t\tindexMyOpenAuctions(null, page)\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(response);\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t// Load Auctions in MapContext\n\t\t\t\t\tactions.changeAuctionList(response.data.auctions);\n\n\t\t\t\t\tif (response.data.auctions.length > 0) {\n\t\t\t\t\t\t// Load user data in context store\n\t\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\t\tresponse.data.auctions.map((obj) => (\n\t\t\t\t\t\t\t\t<AuctionCard\n\t\t\t\t\t\t\t\t\tkey={obj.land.uuid}\n\t\t\t\t\t\t\t\t\tvalue={obj.land.auction.currentWorth}\n\t\t\t\t\t\t\t\t\tbackground_image={`url(${obj.land.mapTileUrl}`}\n\t\t\t\t\t\t\t\t\tname={{ sentence: obj.land.sentenceId, hex: obj.land.uuid }}\n\t\t\t\t\t\t\t\t\tlocation={obj.land.address.full}\n\t\t\t\t\t\t\t\t\tmarket_status={obj.land.marketStatus}\n\t\t\t\t\t\t\t\t\tuser_perspective={obj.land.userPerspective}\n\t\t\t\t\t\t\t\t\tdate_end={obj.land.auction.closeAt}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNumberOfAuctionPages(response.data.numberOfPages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t\t\tThere is currently no <div className=\"c-status-badge\">OPEN</div> auction \n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t\t\tBrowse the OVRLands: search for a location or click a point in the map and mint a land now.\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetUserAuthenticated(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tconsole.error(error);\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction loadLandsByPage(page) {\n\t\t// Call API function\n\t\tindexMyLands(null, page)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t// Load Lands in MapContext\n\t\t\t\t\tif (response.data.lands.length > 0) {\n\t\t\t\t\t\t// Load user data in context store\n\t\t\t\t\t\tsetListLands(\n\t\t\t\t\t\t\tresponse.data.lands.map((obj) => (\n\t\t\t\t\t\t\t\t<LandCard\n\t\t\t\t\t\t\t\t\tkey={obj.uuid}\n\t\t\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\t\t\tvalue={obj.currentWorth}\n\t\t\t\t\t\t\t\t\tbackground_image={`url(${obj.mapTileUrl}`}\n\t\t\t\t\t\t\t\t\tname={{ sentence: obj.sentenceId, hex: obj.uuid }}\n\t\t\t\t\t\t\t\t\tlocation={obj.address.full}\n\t\t\t\t\t\t\t\t\ticon={{ url: './assets/icons/icon_deal.png', isSvg: false }}\n\t\t\t\t\t\t\t\t\tdate_end={obj.auction.closeAt}\n\t\t\t\t\t\t\t\t></LandCard>\n\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNumberOfLandPages(response.data.numberOfPages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetListLands(\n\t\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">There is currently no lands to display</div>\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">Browse the aviable OVRLands: mint a land and own it now.</div>\n\t\t\t\t\t\t\t</div>,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tconsole.error(error);\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction handleAuctionPageClick(event, number) {\n\t\tloadAuctionsByPage(number);\n\t\tsetCurrentAuctionPage(number);\n\t}\n\n\tfunction handleLandPageClick(event, number) {\n\t\tloadLandsByPage(number);\n\t\tsetCurrentLandPage(number);\n\t}\n\n\tuseEffect(() => {\n\t\tactions.disableSingleView();\n\t\tloadAuctionsByPage();\n\t\tloadLandsByPage();\n\t}, []);\n\n\tlet customReturn;\n\n\tif (userAuthenticated) {\n\t\tcustomReturn = (\n\t\t\t<div className=\"Overview\">\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<h2 className=\"o-section-title\">Auctions</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"o-auction-list\">{listAuctions}</div>\n\t\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t\t{numberOfAuctionPages > 1 && (\n\t\t\t\t\t\t\t<Pagination count={numberOfAuctionPages} page={currentAuctionPage} onChange={handleAuctionPageClick} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<h2 className=\"o-section-title\">My OVR Lands</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"o-land-list\">{listLands}</div>\n\t\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t\t{numberOfLandPages > 1 && (\n\t\t\t\t\t\t\t<Pagination count={numberOfLandPages} page={currentLandPage} onChange={handleLandPageClick} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tcustomReturn = (\n\t\t\t<div className=\"Overview\">\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\tYou have to log in to visit My Assets\n\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"Cool dude\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">Browse your OVRLands and ongoing Auctions. Login now.</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn customReturn;\n};\n\nexport default Overview;\n","// TODO change this for the final addresses these are the deployed ropsten ones\r\nexport const tokenBuyAddress = '0xB33164a14877C1aA297836086D4B2d369ff61689';\r\nexport const daiAddress = '0x19d1BbAfd2c60b55f20356730E24D25Ff027E573';\r\nexport const tetherAddress = '0x38D778BF83A8de1db0e80da1243Ad92633cC910e';\r\nexport const usdcAddress = '0xe382122a4378A938B9F1bC0a66DFf5FBCc38EeCC';\r\nexport const ovrAddress = '0x279e897E168236522b1bc675E337933fe070fc7a';\r\nexport const icoAddress = '0xEC3bfB332208c0E5542149935fAC0bFad36Bb199';\r\nexport const ovr721Address = '0x198d2150FBf5507E694AC862556EdA6637DB7fc9';","const tokenBuyAbi = [\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"usdcToken\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [],\r\n      \"name\": \"unpause\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"isPauser\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"paused\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [],\r\n      \"name\": \"renouncePauser\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"addPauser\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [],\r\n      \"name\": \"pause\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"owner\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address payable\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"usdtToken\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"tokensPerUsd\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"daiToken\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"ovrToken\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"tokensPerEth\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address payable\",\r\n          \"name\": \"_newOwner\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"transferOwnership\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"_ovrToken\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"_daiToken\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"_usdcToken\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"_usdtToken\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"constructor\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"ovrPurchased\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"coinsPaid\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"string\",\r\n          \"name\": \"coinUsed\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"name\": \"TokenPurchase\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"Paused\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"Unpaused\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"PauserAdded\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"PauserRemoved\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"previousOwner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"newOwner\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"OwnershipTransferred\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_tokensPerEth\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_tokensPerUsd\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"setTokenPrices\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [],\r\n      \"name\": \"buyTokensWithEth\",\r\n      \"outputs\": [],\r\n      \"payable\": true,\r\n      \"stateMutability\": \"payable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_tokensToBuy\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"buyTokensWithUsdt\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_tokensToBuy\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"buyTokensWithUsdc\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_tokensToBuy\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"buyTokensWithDai\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"_tokenToExtract\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_amount\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"extractTokens\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [],\r\n      \"name\": \"extractEth\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"_to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_amount\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"sendTokensCreditCard\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_tokensToBuy\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"calculateHowManyTokensYouCanBuyWithEth\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    }\r\n];\r\n\r\nconst erc20Abi = [\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [],\r\n\t\tname: 'name',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'string',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [],\r\n\t\tname: 'decimals',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint8',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint8',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [],\r\n\t\tname: '_totalSupply',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [],\r\n\t\tname: 'symbol',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'string',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'a',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'b',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'safeSub',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'c',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'a',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'b',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'safeDiv',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'c',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'a',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'b',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'safeMul',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'c',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'a',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'b',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'safeAdd',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'c',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tinputs: [],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'constructor',\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'from',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokens',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'Transfer',\r\n\t\ttype: 'event',\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'tokenOwner',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'spender',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokens',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'Approval',\r\n\t\ttype: 'event',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [],\r\n\t\tname: 'totalSupply',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'tokenOwner',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'balanceOf',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'balance',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: true,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'tokenOwner',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'spender',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'allowance',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'remaining',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'spender',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokens',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'approve',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: 'success',\r\n\t\t\t\ttype: 'bool',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokens',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'transfer',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: 'success',\r\n\t\t\t\ttype: 'bool',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function',\r\n\t},\r\n\t{\r\n\t\tconstant: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'from',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokens',\r\n\t\t\t\ttype: 'uint256',\r\n\t\t\t},\r\n\t\t],\r\n\t\tname: 'transferFrom',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: 'success',\r\n\t\t\t\ttype: 'bool',\r\n\t\t\t},\r\n\t\t],\r\n\t\tpayable: false,\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function',\r\n\t},\r\n];\r\n\r\nconst icoAbi = [\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [],\r\n      \"name\": \"unpause\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"isPauser\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"activeLands\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"paused\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"lastLandOfferId\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [],\r\n      \"name\": \"renouncePauser\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"addPauser\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"landOfferIds\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [],\r\n      \"name\": \"pause\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"owner\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address payable\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"extractableTokens\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"initialLandBid\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"ovrLand\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"landOffers\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"id\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"by\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"group\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"price\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"timestamp\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"expirationDate\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"enum ICO.LandOfferState\",\r\n          \"name\": \"state\",\r\n          \"type\": \"uint8\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"cashbacks\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"ownedLands\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"auctionLandDuration\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"ovrToken\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"contractCreationDate\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"lands\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landToBuy\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"paid\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"lastBidTimestamp\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"enum ICO.AuctionState\",\r\n          \"name\": \"state\",\r\n          \"type\": \"uint8\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"cashbackAmount\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"isCashbackRedeemed\",\r\n          \"type\": \"bool\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"sellPrice\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"onSale\",\r\n          \"type\": \"bool\"\r\n        },\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"hasBeenRedeemed\",\r\n          \"type\": \"bool\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"lastUpdateTimestamp\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address payable\",\r\n          \"name\": \"_newOwner\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"transferOwnership\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"landsOnSaleOrSold\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"groupCounters\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"_ovrToken\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"_ovrLand\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_initialLandBid\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"constructor\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"lastBidder\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landToBuy\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"paid\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"timestamp\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"AuctionStarted\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"newBidder\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"oldBidder\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landToBuy\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"paid\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"timestamp\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"AuctionBid\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"winner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"price\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"WonLand\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"price\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"LandSaleStarted\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"receiver\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"amount\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"timestamp\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"CashbackRedeemed\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"LandSaleCancelled\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"id\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"by\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"price\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"timestamp\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"expirationDate\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"LandOfferCreated\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"oldOwner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"buyer\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"price\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"timestamp\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"LandSold\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landOfferId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"landId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"LandOfferDeclined\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"offerId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"LandOfferCancelled\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"Paused\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"Unpaused\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"PauserAdded\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"PauserRemoved\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"previousOwner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"newOwner\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"OwnershipTransferred\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_time\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"setAuctionLandDuration\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_bid\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_landId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"participateInAuction\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_landId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"redeemWonLand\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_landId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"redeemCashback\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"_tokenToExtract\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_amount\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"extractTokens\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_landId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_price\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"_onSale\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"name\": \"putLandOnSale\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_landId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"buyLand\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_landId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_price\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_expirationDate\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"offerToBuyLand\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_offerId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"cancelBuyOffer\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_landOfferId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"_accept\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"name\": \"respondToBuyOffer\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_landId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"checkMyLandOffers\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256[]\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256[]\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"checkWonLands\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256[]\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256[]\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_landId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"checkEpoch\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"getActiveLands\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256[]\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256[]\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"getLandsOnSaleOrSold\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256[]\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256[]\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"_landId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"getLandOffers\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256[]\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256[]\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"operator\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"bytes\",\r\n          \"name\": \"data\",\r\n          \"type\": \"bytes\"\r\n        }\r\n      ],\r\n      \"name\": \"onERC721Received\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bytes4\",\r\n          \"name\": \"\",\r\n          \"type\": \"bytes4\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    }\r\n];\r\n\r\nconst ovr721Abi = [\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"bytes4\",\r\n          \"name\": \"interfaceId\",\r\n          \"type\": \"bytes4\"\r\n        }\r\n      ],\r\n      \"name\": \"supportsInterface\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"name\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"getApproved\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"approve\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"totalSupply\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"transferFrom\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"tokenOfOwnerByIndex\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"removeMinter\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"safeTransferFrom\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"tokenByIndex\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"ownerOf\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"baseURI\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"balanceOf\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"owner\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"isOwner\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [],\r\n      \"name\": \"symbol\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"addMinter\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [],\r\n      \"name\": \"renounceMinter\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"approved\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"name\": \"setApprovalForAll\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"isMinter\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"bytes\",\r\n          \"name\": \"_data\",\r\n          \"type\": \"bytes\"\r\n        }\r\n      ],\r\n      \"name\": \"safeTransferFrom\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"tokenURI\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"OVRLandID\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"mintLand\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"constant\": true,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"operator\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"isApprovedForAll\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"constructor\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"MinterAdded\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"account\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"MinterRemoved\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"Transfer\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"approved\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokenId\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"Approval\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"operator\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"approved\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"name\": \"ApprovalForAll\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"constant\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"OVRLandID\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"uri\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"name\": \"setOVRLandURI\",\r\n      \"outputs\": [],\r\n      \"payable\": false,\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    }\r\n];\r\n\r\nexport { tokenBuyAbi, erc20Abi, icoAbi, ovr721Abi }","import React, { createContext, Component } from 'react';\nimport Web3 from 'web3';\nimport { removeToken, saveToken, isLogged, getToken, removeUser } from '../lib/auth';\nimport { successNotification, networkError, dangerNotification, warningNotification } from '../lib/notifications';\nimport { userProfile, getUserNonce, signUpPublicAddress, signIn } from '../lib/api';\nimport config from '../lib/config';\nimport { promisifyAll } from 'bluebird';\nimport {\n\ttokenBuyAddress,\n\tdaiAddress,\n\ttetherAddress,\n\tusdcAddress,\n\tovrAddress,\n\ticoAddress,\n\tovr721Address,\n} from '../lib/contracts';\nimport { tokenBuyAbi, erc20Abi, icoAbi, ovr721Abi } from '../lib/abis';\nimport { zhCN } from 'date-fns/esm/locale';\n\nlet ActionCable = require('actioncable');\n\nconst promisify = (inner) =>\n\tnew Promise((resolve, reject) =>\n\t\tinner((err, res) => {\n\t\t\tif (err) {\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\tresolve(res);\n\t\t\t}\n\t\t}),\n\t);\n\nexport const UserContext = createContext();\n\nexport class UserProvider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisLoggedIn: false,\n\t\t\tshowNotificationCenter: false,\n\t\t\ttoken: null,\n\t\t\tuser: {\n\t\t\t\tuuid: null,\n\t\t\t},\n\t\t\tovrsOwned: 0,\n\t\t\tdai: null,\n\t\t\ttether: null,\n\t\t\tusdc: null,\n\t\t\ttokenBuy: null,\n\t\t\tovr: null,\n\t\t\tico: null,\n\t\t\tovr721: null,\n\t\t\tsetupComplete: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (isLogged()) {\n\t\t\tthis.lightSetupWeb3();\n\n\t\t\tuserProfile()\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t\tthis.setState({ user: response.data.user });\n\t\t\t\t\t\tthis.liveSocket();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdangerNotification('Session expired', 'Please login again');\n\t\t\t\t\t\tthis.logOutUser();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\t// Notify user if network error\n\t\t\t\t\tnetworkError();\n\t\t\t\t});\n\n\t\t\tthis.loginUser(getToken('userToken'), getToken('userUuid'));\n\t\t}\n\t}\n\n\tloginUser = (token, user) => {\n\t\tthis.setState({ isLoggedIn: true, token: token, user: user });\n\t\t// Cookie management\n\t\tsaveToken('userToken', token);\n\t\tsaveToken('userUuid', user);\n\t\tthis.liveSocket();\n\t};\n\n\tlogOutUser = () => {\n\t\tthis.setState({ isLoggedIn: false, token: null, user: { uuid: null } });\n\n\t\t// Cookie management\n\t\tremoveToken('userToken');\n\t\tremoveToken('userUuid');\n\t};\n\n\twaitTx = (txHash) => {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet blockCounter = 60; // If it's not confirmed after 30 blocks, move on\n\t\t\t// Wait for tx to be finished\n\t\t\tlet filter = window.web3.eth.filter('latest').watch(async (err, blockHash) => {\n\t\t\t\tif (err) {\n\t\t\t\t\tfilter.stopWatching();\n\t\t\t\t\tfilter = null;\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t\tif (blockCounter <= 0) {\n\t\t\t\t\tfilter.stopWatching();\n\t\t\t\t\tfilter = null;\n\t\t\t\t\tconsole.warn('!! Tx expired !!');\n\t\t\t\t\treject(`Transaction not confirmed after ${blockCounter} blocks`);\n\t\t\t\t}\n\t\t\t\t// Get info about latest Ethereum block\n\t\t\t\tconst block = await promisify((cb) => window.web3.eth.getBlock(blockHash, cb));\n\t\t\t\t--blockCounter;\n\t\t\t\t// Found tx hash?\n\t\t\t\tif (block.transactions.indexOf(txHash) > -1) {\n\t\t\t\t\t// Tx is finished\n\t\t\t\t\tfilter.stopWatching();\n\t\t\t\t\tfilter = null;\n\t\t\t\t\treturn resolve();\n\t\t\t\t\t// Tx hash not found yet?\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\t// Note: the web3 version is always 0.20.7 because of metamask\n\tsetupWeb3 = async (callback) => {\n\t\tconsole.log('render setupweb3');\n\t\tconst ethereum = window.ethereum;\n\t\tif (typeof ethereum !== 'undefined') {\n\t\t\ttry {\n\t\t\t\tawait ethereum.enable();\n\t\t\t} catch (e) {\n\t\t\t\treturn warningNotification('Metamask permission error', 'You must accept the connection request to continue');\n\t\t\t}\n\t\t\twindow.web3 = new Web3(ethereum);\n\t\t} else if (typeof window.web3 !== 'undefined') {\n\t\t\twindow.web3 = new Web3(window.web3.currentProvider);\n\t\t} else {\n\t\t\treturn warningNotification('Metamask not detected', 'You must login to metamask to use this application');\n\t\t}\n\t\twindow.web3.eth.defaultAccount = window.web3.eth.accounts[0];\n\n\t\t// Sign nonce for centralized login\n\t\tlet publicAddress = window.web3.eth.defaultAccount.toLowerCase();\n\t\tawait this.handleCentralizedLogin(publicAddress, callback);\n\n\t\t// Helpers\n\t\tawait this.refreshWhenAccountsChanged();\n\t\tawait this.updateBalanceWhenChanged();\n\t\t\n\t\tawait this.setupContracts();\n\t\tawait this.getOvrsOwned();\n\t};\n\n\t// if the user is logged in with a valid token just reload datas\n\tlightSetupWeb3 = async () => {\n\t\twindow.web3.eth.defaultAccount = window.web3.eth.accounts[0];\n\t\tawait this.refreshWhenAccountsChanged();\n\t\tawait this.updateBalanceWhenChanged();\n\t\tawait this.setupContracts();\n\t\tawait this.getOvrsOwned();\n\t};\n\n\tsetupContracts = async () => {\n\t\tconst _dai = window.web3.eth.contract(erc20Abi).at(daiAddress);\n\t\tconst _tether = window.web3.eth.contract(erc20Abi).at(tetherAddress);\n\t\tconst _usdc = window.web3.eth.contract(erc20Abi).at(usdcAddress);\n\t\tconst _tokenBuy = window.web3.eth.contract(tokenBuyAbi).at(tokenBuyAddress);\n\t\tconst _ovr = window.web3.eth.contract(erc20Abi).at(ovrAddress);\n\t\tconst _ico = window.web3.eth.contract(icoAbi).at(icoAddress);\n\t\tconst _ovr721 = window.web3.eth.contract(ovr721Abi).at(ovr721Address);\n\t\tthis.setState({\n\t\t\tdai: promisifyAll(_dai),\n\t\t\ttether: promisifyAll(_tether),\n\t\t\tusdc: promisifyAll(_usdc),\n\t\t\ttokenBuy: promisifyAll(_tokenBuy),\n\t\t\tovr: promisifyAll(_ovr),\n\t\t\tico: promisifyAll(_ico),\n\t\t\tovr721: promisifyAll(_ovr721),\n\t\t\tsetupComplete: true,\n\t\t});\n\t};\n\n\t// Refreshes the page when the metamask account is changed\n\trefreshWhenAccountsChanged = () => {\n\t\tconsole.log('init refresh');\n\t\twindow.ethereum.on('accountsChanged', (accounts) => {\n\t\t\tconsole.log('this.state.isLoggedIn', this.state.isLoggedIn);\n\t\t\tif (this.state.isLoggedIn) {\n\t\t\t\tconsole.log('isLoggedin');\n\t\t\t\tthis.logOutUser();\n\t\t\t\tthis.setupWeb3();\n\t\t\t} else {\n\t\t\t\t//\n\t\t\t}\n\t\t});\n\t};\n\n\t// Checks every second if the balance has changed and updates it\n\tupdateBalanceWhenChanged = async () => {\n\t\tsetInterval(() => this.getOvrsOwned(), 1e3);\n\t};\n\n\tgetOvrsOwned = async () => {\n\t\tif (this.state.ovr && this.state.setupComplete && window.web3.eth.defaultAccount) {\n\t\t\tconst ovrsOwned = String(\n\t\t\t\twindow.web3.fromWei(await this.state.ovr.balanceOfAsync(window.web3.eth.defaultAccount)),\n\t\t\t);\n\t\t\tthis.setState({ ovrsOwned });\n\t\t}\n\t};\n\n\t//\n\t// Centralized authentication with Metamask\n\t//\n\n\thandleCentralizedLogin(publicAddress, callback) {\n\t\tgetUserNonce(publicAddress).then((response) => {\n\t\t\tif (response.data.result === true) {\n\t\t\t\tlet nonce = response.data.user.nonce;\n\t\t\t\tthis.handleUserSignMessage(publicAddress, nonce, callback);\n\t\t\t} else {\n\t\t\t\tdangerNotification('Unable to login', response.data.errors);\n\t\t\t}\n\t\t});\n\t}\n\n\thandleUserSignMessage = (publicAddress, nonce, callback) => {\n\t\treturn new Promise((resolve, reject) =>\n\t\t\twindow.web3.personal.sign(\n\t\t\t\twindow.web3.fromUtf8(`I am signing my one-time nonce: ${nonce}`),\n\t\t\t\tpublicAddress,\n\t\t\t\t(err, signature) => {\n\t\t\t\t\tif (err) return reject(err);\n\t\t\t\t\tthis.handleAuthenticate(publicAddress, signature, callback);\n\t\t\t\t},\n\t\t\t),\n\t\t);\n\t};\n\n\thandleAuthenticate = (publicAddress, signature, callback) => {\n\t\tsignIn(publicAddress, signature).then((response) => {\n\t\t\tif (response.data.result === true) {\n\t\t\t\t// Save data in store\n\t\t\t\tthis.loginUser(response.data.token, response.data.user);\n\t\t\t\tif (callback){\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdangerNotification('Unable to login', response.data.errors[0].message);\n\t\t\t}\n\t\t});\n\t};\n\n\t// Web3 Lands\n\n\tredeemLands = async () => {\n\t\tconst activeLandsIds = await this.state.ico.getActiveLandsAsync();\n\t\tlet landsRedeemed = 0;\n\t\tfor (let i = 0; i < activeLandsIds.length; i++) {\n\t\t\tconst land = await this.state.ico.landsAsync(activeLandsIds[i]);\n\t\t\tconst auctionTime = await this.state.ico.auctionLandDurationAsync();\n\t\t\tconst now = Math.trunc(Date.now() / 1000);\n\t\t\tconst timePassedInSeconds = now - land[3];\n\t\t\tconst landState = parseInt(land[4]);\n\n\t\t\t// If this is your land and it hasn't been redeemed already and the auction is done\n\t\t\tif (landState !== 2 && land[0] === window.web3.eth.defaultAccount && timePassedInSeconds >= auctionTime) {\n\t\t\t\ttry {\n\t\t\t\t\tawait this.state.ico.redeemWonLandAsync(activeLandsIds[i], {\n\t\t\t\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t\t\t\t});\n\t\t\t\t\tlandsRedeemed++;\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn dangerNotification(`Error redeeming the land ${activeLandsIds[i]}`, e.message);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (landsRedeemed === 0) {\n\t\t\twarningNotification(\n\t\t\t\t'No lands to redeem',\n\t\t\t\t\"You don't have any lands to redeem for now. Check in a few hours when the auction time is reached.\",\n\t\t\t);\n\t\t} else {\n\t\t\tsuccessNotification('Your lands are on their way!', \"You'll receive your lands in a few minutes\");\n\t\t}\n\t};\n\n\tredeemSingleLand = async hexId => {\n\t\tconst landId = parseInt(hexId, 16)\n\t\ttry {\n\t\t\tconst tx = await this.state.ico.redeemWonLandAsync(landId, {\n\t\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t\t});\n\t\t\tawait this.waitTx(tx);\n\t\t} catch (e) {\n\t\t\treturn dangerNotification(`Error redeeming the land ${landId}`, e.message);\n\t\t}\n\t}\n\n\t// Returns true for a successful approval or false otherwise\n\tapproveErc721Token = async (hexId, isLandId) => {\n\t\tlet landId = parseInt(hexId, 16);\n\t\tif (isLandId) {\n\t\t\tlandId = hexId\n\t\t}\n\t\tconst existingApproval = await this.state.ovr721.getApprovedAsync(landId);\n\t\tif (existingApproval === icoAddress) return true;\n\t\ttry {\n\t\t\tconst tx = await this.state.ovr721.approveAsync(icoAddress, landId, {\n\t\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t\t});\n\t\t\tawait this.waitTx(tx);\n\t\t} catch (e) {\n\t\t\tdangerNotification('Error approving the OVR land token', e.message);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tapproveOvrTokens = async () => {\n\t\tlet currentBalance = await this.state.ovr.balanceOfAsync(window.web3.eth.defaultAccount);\n\t\tlet currentAllowance = await this.state.ovr.allowanceAsync(window.web3.eth.defaultAccount, icoAddress);\n\t\t// Allow all the tokens\n\t\tif (currentBalance.greaterThan(currentAllowance)) {\n\t\t\ttry {\n\t\t\t\tconst tx = await this.state.ovr.approveAsync(icoAddress, currentBalance, {\n\t\t\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t\t\t});\n\t\t\t\tawait this.waitTx(tx);\n\t\t\t} catch (e) {\n\t\t\t\tdangerNotification(\n\t\t\t\t\t'Approval error',\n\t\t\t\t\t'There was an error processing the approval of your tokens try again in a few minutes',\n\t\t\t\t);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\tbuyLand = async (hexId) => {\n\t\tconst landId = parseInt(hexId, 16);\n\t\tconst tx = await this.state.ico.buyLandAsync(landId, {\n\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t});\n\t\tawait this.waitTx(tx);\n\t};\n\n\t// To put a land on sale or remove it. Will approve the ERC721 first.\n\t// The price can be 0 to give it away for free\n\tputLandOnSale = async (hexId, price, onSale) => {\n\t\tconst landId = parseInt(hexId, 16);\n\t\ttry {\n\t\t\tconst tx = await this.state.ico.putLandOnSaleAsync(landId, price, onSale, {\n\t\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t\t});\n\t\t\tawait this.waitTx(tx);\n\t\t} catch (e) {\n\t\t\treturn dangerNotification('Error listing the land on sale', e.message);\n\t\t}\n\t\tsuccessNotification('Successful land listing', 'Your land has been listed successfully');\n\t};\n\n\t// Centralized Notifications\n\n\ttoggleShowNotificationCenter = () => {\n\t\tthis.setState({ showNotificationCenter: !this.state.showNotificationCenter });\n\t};\n\n\tcloseNotificationCenter = () => {\n\t\tthis.setState({ showNotificationCenter: false });\n\t};\n\n\tsetNotificationAsReaded = (notification_uuid) => {\n\t\tlet notifications_content = this.state.user.notifications.content;\n\t\tlet unreaded_count = this.state.user.notifications.unreadedCount;\n\n\t\tnotifications_content.readNotification(notification_uuid);\n\t\tunreaded_count = unreaded_count - 1;\n\n\t\tthis.setState({\n\t\t\tuser: {\n\t\t\t\t...this.state.user,\n\t\t\t\tnotifications: {\n\t\t\t\t\t...this.state.user.notifications,\n\t\t\t\t\tunreadedCount: unreaded_count,\n\t\t\t\t\tcontent: notifications_content,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tsetAllNotificationsAsReaded = () => {\n\t\tlet notifications_content = this.state.user.notifications.content;\n\t\tnotifications_content.readAllNotifications();\n\t\tthis.setState({\n\t\t\tuser: {\n\t\t\t\t...this.state.user,\n\t\t\t\tnotifications: {\n\t\t\t\t\t...this.state.user.notifications,\n\t\t\t\t\tunreadedCount: 0,\n\t\t\t\t\tcontent: notifications_content,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\t// Sockets\n\n\tliveSocket = () => {\n\t\tvar cable = ActionCable.createConsumer(config.apis.socket);\n\n\t\tcable.subscriptions.create(\n\t\t\t{ channel: 'UsersChannel', user_uuid: this.state.user.uuid },\n\t\t\t{\n\t\t\t\treceived: (data) => {\n\t\t\t\t\tconst { notification } = data;\n\t\t\t\t\tconst { balance } = data;\n\t\t\t\t\tconst { unreaded_count } = data;\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t...this.state.user,\n\t\t\t\t\t\t\tbalance: balance,\n\t\t\t\t\t\t\tnotifications: {\n\t\t\t\t\t\t\t\t...this.state.user.notifications,\n\t\t\t\t\t\t\t\tunreadedCount: unreaded_count,\n\t\t\t\t\t\t\t\tcontent: [notification, ...this.state.user.notifications.content],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t};\n\n\tofferToBuyLand = async (hexId, price, expirationDate) => {\n\t\tconst landId = parseInt(hexId, 16);\n\t\tconst tx = await this.state.ico.offerToBuyLandAsync(landId, price, expirationDate, {\n\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t});\n\t\tawait this.waitTx(tx);\n\t};\n\n\tgetOffersToBuyLand = async (hexId) => {\n\t\tconst landId = parseInt(hexId, 16);\n\t\tconst landOfferIds = await this.state.ico.getLandOffersAsync(landId);\n\t\tlet offers = [];\n\t\tconst latestGroupCounter = String(await this.state.ico.groupCountersAsync(landId));\n\t\tfor (let i = 0; i < landOfferIds.length; i++) {\n\t\t\tconst landOfferId = landOfferIds[i];\n\t\t\tconst offer = await this.state.ico.landOffersAsync(String(landOfferId));\n\t\t\t// If this offer is not for the most recent group, skip it\n\t\t\tif (parseInt(offer[2]) != latestGroupCounter) continue;\n\t\t\toffers.push(offer);\n\t\t}\n\t\toffers = offers.map((offer) => ({\n\t\t\tid: String(offer[0]),\n\t\t\tby: offer[1],\n\t\t\tgroup: parseInt(offer[2]),\n\t\t\tlandId: String(offer[3]),\n\t\t\tprice: String(window.web3.fromWei(offer[4])),\n\t\t\ttimestamp: String(offer[5]),\n\t\t\texpirationDate: String(offer[6]),\n\t\t\tstate: String(offer[7]),\n\t\t}));\n\t\treturn offers;\n\t};\n\n\tcancelBuyOffer = async (offerId) => {\n\t\treturn this.state.ico.cancelBuyOfferAsync(offerId, {\n\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t});\n\t};\n\n\tdeclineBuyOffer = async (offerId) => {\n\t\treturn this.state.ico.respondToBuyOfferAsync(offerId, false, {\n\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t});\n\t};\n\n\tacceptBuyOffer = async (offerId) => {\n\t\treturn this.state.ico.respondToBuyOfferAsync(offerId, true, {\n\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<UserContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\tstate: this.state,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tloginUser: this.loginUser,\n\t\t\t\t\t\ttoggleShowNotificationCenter: this.toggleShowNotificationCenter,\n\t\t\t\t\t\tcloseNotificationCenter: this.closeNotificationCenter,\n\t\t\t\t\t\tnotification: {\n\t\t\t\t\t\t\tsetAsReaded: this.setNotificationAsReaded,\n\t\t\t\t\t\t\tsetAllAsReaded: this.setAllNotificationsAsReaded,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetOvrsOwned: this.getOvrsOwned,\n\t\t\t\t\t\twaitTx: this.waitTx,\n\t\t\t\t\t\tsetupWeb3: this.setupWeb3,\n\t\t\t\t\t\tredeemLands: this.redeemLands,\n\t\t\t\t\t\tputLandOnSale: this.putLandOnSale,\n\t\t\t\t\t\tapproveErc721Token: this.approveErc721Token,\n\t\t\t\t\t\tapproveOvrTokens: this.approveOvrTokens,\n\t\t\t\t\t\tbuyLand: this.buyLand,\n\t\t\t\t\t\tofferToBuyLand: this.offerToBuyLand,\n\t\t\t\t\t\tgetOffersToBuyLand: this.getOffersToBuyLand,\n\t\t\t\t\t\tcancelBuyOffer: this.cancelBuyOffer,\n\t\t\t\t\t\tdeclineBuyOffer: this.declineBuyOffer,\n\t\t\t\t\t\tacceptBuyOffer: this.acceptBuyOffer,\n\t\t\t\t\t\tredeemSingleLand: this.redeemSingleLand,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.props.children}\n\t\t\t</UserContext.Provider>\n\t\t);\n\t}\n}\n\nexport function withUserContext(Component) {\n\tclass ComponentWithContext extends React.Component {\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<UserContext.Consumer>\n\t\t\t\t\t{(value) => <Component {...this.props} userProvider={{ ...value }} />}\n\t\t\t\t</UserContext.Consumer>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn ComponentWithContext;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nconst HexButton = ({ className, onClick, url, text, target }) => {\n\tif (target) {\n\t\treturn (\n\t\t\t<a href={url} target={target} className={`HexButton ${className}`} onClick={onClick}>\n\t\t\t\t{text}\n\t\t\t</a>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<Link to={url} target={target} className={`HexButton ${className}`} onClick={onClick}>\n\t\t\t\t{text}\n\t\t\t</Link>\n\t\t);\n\t}\n};\nHexButton.propTypes = {\n\tclassName: PropTypes.string,\n\ttarget: PropTypes.string,\n\tonClick: PropTypes.func,\n\turl: PropTypes.string,\n\ttext: PropTypes.string,\n};\nexport default HexButton;\n","import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'; // ES6\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport { bidAuction } from '../../lib/api';\nimport { networkError, warningNotification, dangerNotification } from '../../lib/notifications';\n\nconst BidOverlay = (props) => {\n\tconst [nextBid, setNextBid] = useState(10);\n\tconst [bidInputError] = useState(false);\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [currentBid, setCurrentBid] = useState(props.currentBid);\n\tconst { waitTx, approveOvrTokens } = props.userProvider.actions;\n\tconst pathHexId = window.location.pathname.split('/')[3];\n\tconst [hexId, setHexId] = useState(pathHexId && pathHexId.length == 15 ? pathHexId : props.mapProvider.state.hex_id);\n\tconst { ovr, ico, setupComplete } = props.userProvider.state;\n\tconst [bid, setBid] = useState(0);\n\tlet priceInterval = null; // Checks for price changes every half a second\n\n\tuseEffect(() => {\n\t\tif (setupComplete) setupListeners();\n\t}, [setupComplete]);\n\n\tconst setupListeners = () => {\n\t\tsetNextBidSelectedLand();\n\t\tpriceInterval = setInterval(() => {\n\t\t\tsetNextBidSelectedLand();\n\t\t}, 5e2);\n\t\tdocument.addEventListener('land-selected', (event) => {\n\t\t\tsetHexId(event.detail.hex_id);\n\t\t\tclearInterval(priceInterval);\n\t\t\tpriceInterval = setInterval(() => {\n\t\t\t\tsetNextBidSelectedLand();\n\t\t\t}, 5e2);\n\t\t\tsetNextBidSelectedLand();\n\t\t});\n\t};\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete || !ico || !ovr) {\n\t\t\treturn warningNotification('Metamask not detected', 'You must login to metamask to use this application');\n\t\t}\n\t\tconst landId = parseInt(hexId, 16);\n\t\tconst land = await ico.landsAsync(landId);\n\t\tconst currentBid = String(window.web3.fromWei(land[2]));\n\t\tsetCurrentBid(currentBid);\n\t\tsetNextBid(currentBid * 2);\n\t};\n\n\tconst handleNext = async () => {\n\t\tif (bid < nextBid) return warningNotification('Invalid bid', \"Your bid must be equal or larger than the minimum bid\");\n\t\tif (activeStep + 1 === 1) {\n\t\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\t\treturn warningNotification('Invalid authentication', 'Please Log In to partecipate');\n\t\t\t}\n\t\t\t// Participate in the auction\n\t\t\tconst landId = parseInt(hexId, 16);\n\t\t\ttry {\n\t\t\t\tawait approveOvrTokens();\n\t\t\t\tconst weiBid = String(window.web3.toWei(bid))\n\t\t\t\tconst tx = await ico.participateInAuctionAsync(weiBid, landId, {\n\t\t\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t\t\t});\n\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\tawait waitTx(tx);\n\t\t\t} catch (e) {\n\t\t\t\treturn dangerNotification('Error processing the transaction', e.message);\n\t\t\t}\n\t\t\tsendBid();\n\t\t} else {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t}\n\t};\n\n\tconst updateNewBidValue = (myBid) => {\n\t\tif (myBid >= nextBid) {\n\t\t\tsetBidValid(true);\n\t\t} else {\n\t\t\tsetBidValid(false);\n\t\t}\n\n\t\tsetBid(myBid);\n\t};\n\n\tfunction sendBid() {\n\t\t// Call API function\n\t\tbidAuction(props.land.key, nextBid)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\tconsole.log('responseTrue', response.data);\n\t\t\t\t\tprops.realodLandStatefromApi(props.land.key);\n\t\t\t\t\tsetActiveStep(2);\n\t\t\t\t} else {\n\t\t\t\t\t// response.data.errors[0].message\n\t\t\t\t\tconsole.log('responseFalse');\n\t\t\t\t\tdangerNotification('Unable to place requested bid', response.data.errors[0].message);\n\t\t\t\t\tsetActiveStep(0);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveBidOverlay(false);\n\t\t// Bring the step at 0\n\t\tsetTimeout(function () {\n\t\t\tsetActiveStep(0);\n\t\t\tsetNextBid('');\n\t\t}, 200);\n\t}\n\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Place a bid for the OVRLand</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Current bid</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Minimum bid</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={nextBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Your bid</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<TextField type=\"number\" onChange={e => {\n\t\t\t\t\t\t\t\t\t\t\tconst eventBid = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\tif (eventBid > 0) updateNewBidValue(eventBid);\n\t\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Place Bid\" className={`--orange ${bidValid ? '' : '--disabled'}`} onClick={handleNext}></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Cancel\" className=\"--outline\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Bidding the OVRLand</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Current bid</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Your bid</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={nextBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>Waiting for MetaMask confirmation</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Bidding the OVRLand</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Current bid</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>Transaction confirmed</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Close\" className=\"--outline\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!props.mapProvider.state.activeBidOverlay) return null;\n\n\treturn (\n\t\t<ReactCSSTransitionGroup\n\t\t\ttransitionName=\"overlay\"\n\t\t\ttransitionAppear={true}\n\t\t\ttransitionAppearTimeout={500}\n\t\t\ttransitionEnter={false}\n\t\t\ttransitionLeave={false}\n\t\t\ttransitionLeaveTimeout={300}\n\t\t>\n\t\t\t<div\n\t\t\t\tkey=\"bid-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`Overlay BidOverlay WhiteInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className={'Icon Overlay__close_button'} onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0.5\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Overlay__hex_cont\">\n\t\t\t\t\t\t<div className={'Icon Overlay__hex'}>\n\t\t\t\t\t\t\t<svg width=\"152px\" height=\"176px\" viewBox=\"0 0 152 176\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0.2\">\n\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-439.000000, -349.000000)\"\n\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<polygon\n\t\t\t\t\t\t\t\t\t\t\tid=\"Polygon\"\n\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(515.000000, 437.000000) rotate(-360.000000) translate(-515.000000, -437.000000) \"\n\t\t\t\t\t\t\t\t\t\t\tpoints=\"515 350 590.34421 393.5 590.34421 480.5 515 524 439.65579 480.5 439.65579 393.5\"\n\t\t\t\t\t\t\t\t\t\t></polygon>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ReactCSSTransitionGroup>\n\t);\n};\n\nexport default withUserContext(withMapContext(BidOverlay));\n","import React, { useState, useEffect } from 'react';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'; // ES6\nimport TextField from '@material-ui/core/TextField';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport { mintLand } from '../../lib/api';\nimport { networkError, warningNotification, dangerNotification } from '../../lib/notifications';\n\nconst MintOverlay = (props) => {\n\tconst { waitTx, approveOvrTokens } = props.userProvider.actions;\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst pathHexId = window.location.pathname.split('/')[3];\n\tconst [hexId, setHexId] = useState(pathHexId && pathHexId.length == 15 ? pathHexId : props.mapProvider.state.hex_id);\n\tconst { ovr, ico, setupComplete } = props.userProvider.state;\n\tconst [nextBid, setNextBid] = useState(10);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [metamaskMessage, setMetamaskMessage] = useState('Waiting for MetaMask confirmation');\n\tconst [bid, setBid] = useState(0);\n\n\tuseEffect(() => {\n\t\tif (setupComplete) setupListeners();\n\t}, [setupComplete]);\n\n\tconst setupListeners = () => {\n\t\tdocument.addEventListener('land-selected', (event) => {\n\t\t\tsetHexId(event.detail.hex_id);\n\t\t\tsetNextBidSelectedLand(event.detail.hexId);\n\t\t});\n\t};\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete || !ico || !ovr) {\n\t\t\treturn warningNotification('Metamask not detected', 'You must login to metamask to use this application');\n\t\t}\n\t\tconst initialBid = String(await ico.initialLandBidAsync());\n\t\tlet nextPayment = window.web3.fromWei(initialBid);\n\t\tsetNextBid(nextPayment);\n\t};\n\n\tconst updateNewBidValue = (myBid) => {\n\t\tif (myBid >= nextBid) {\n\t\t\tsetBidValid(true);\n\t\t} else {\n\t\t\tsetBidValid(false);\n\t\t}\n\n\t\tsetBid(myBid);\n\t};\n\n\tconst handleNext = async () => {\n\t\tif (bid < nextBid)\n\t\t\treturn warningNotification('Invalid bid', 'Your bid must be equal or larger than the minimum bid');\n\t\tif (activeStep + 1 === 1) {\n\t\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\t\treturn warningNotification('Invalid authentication', 'Please Log In to partecipate');\n\t\t\t}\n\t\t\t// Participate in the auction\n\t\t\tconst landId = parseInt(hexId, 16);\n\t\t\tconst isAvailableInThisEpoch = await ico.checkEpochAsync(landId);\n\t\t\tif (!isAvailableInThisEpoch) {\n\t\t\t\treturn warningNotification('Epoch issue', 'The current land is not available in this epoch');\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tsetMetamaskMessage('Approving OVR tokens first...');\n\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\tawait approveOvrTokens();\n\t\t\t\tconst initialBid = String(await ico.initialLandBidAsync());\n\t\t\t\tlet currentBalance = await ovr.balanceOfAsync(window.web3.eth.defaultAccount);\n\t\t\t\tconst weiBid = String(window.web3.toWei(bid));\n\n\t\t\t\t// Check if the user has enough balance to buy those tokens\n\t\t\t\tif (currentBalance.lessThan(weiBid)) {\n\t\t\t\t\treturn warningNotification(\n\t\t\t\t\t\t'Not enough tokens',\n\t\t\t\t\t\t`You don't have enough to pay ${weiBid} OVR tokens`,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst tx = await ico.participateInAuctionAsync(weiBid, landId, {\n\t\t\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\n\t\t\t\t});\n\t\t\t\tsetMetamaskMessage('Waiting for MetaMask confirmation');\n\t\t\t\tawait waitTx(tx);\n\t\t\t\tsendMint();\n\t\t\t} catch (e) {\n\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep - 1);\n\t\t\t\treturn dangerNotification('Error processing the transactions', e.message);\n\t\t\t}\n\t\t} else {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t}\n\t};\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveMintOverlay(false);\n\t\tsetActiveStep(0);\n\t}\n\n\tfunction sendMint() {\n\t\t// Call API function\n\t\tmintLand(props.land.key, nextBid)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\tconsole.log('responseTrue', response.data);\n\t\t\t\t\tprops.realodLandStatefromApi(props.land.key);\n\t\t\t\t\tconsole.log('props.land.key', props);\n\t\t\t\t\tsetActiveStep(2);\n\t\t\t\t} else {\n\t\t\t\t\t// response.data.errors[0].message\n\t\t\t\t\tconsole.log('responseFalse');\n\t\t\t\t\t// if (response.data.errors){\n\t\t\t\t\t//   dangerNotification(\"Unable to mint land\", response.data.errors[0].message)\n\t\t\t\t\t// }\n\t\t\t\t\tdangerNotification('Unable to mint land', response.data.errors[0].message);\n\t\t\t\t\tsetActiveStep(0);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tconsole.log(error);\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Place a bid for the OVRLand</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"bids\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Next bid</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={nextBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid my-bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Your bid</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst eventBid = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tif (eventBid > 0) updateNewBidValue(eventBid);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext=\"Place Bid\"\n\t\t\t\t\t\t\t\t\tclassName={`--orange ${bidValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tonClick={handleNext}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Cancel\" className=\"--outline\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Bidding the OVRLand</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Your bid</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Minting the OVRLand</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Current bid</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>Bid published</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Close\" className=\"--outline\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!props.mapProvider.state.activeMintOverlay) return null;\n\n\treturn (\n\t\t<ReactCSSTransitionGroup\n\t\t\ttransitionName=\"overlay\"\n\t\t\ttransitionAppear={true}\n\t\t\ttransitionAppearTimeout={500}\n\t\t\ttransitionEnter={false}\n\t\t\ttransitionLeave={false}\n\t\t\ttransitionLeaveTimeout={300}\n\t\t>\n\t\t\t<div\n\t\t\t\tkey=\"mint-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`Overlay MintOverlay WhiteInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className={`Icon Overlay__close_button`} onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fill-opacity=\"0.5\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Overlay__hex_cont\">\n\t\t\t\t\t\t<div className={`Icon Overlay__hex`}>\n\t\t\t\t\t\t\t<svg width=\"152px\" height=\"176px\" viewBox=\"0 0 152 176\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fill-opacity=\"0.2\">\n\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-439.000000, -349.000000)\"\n\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<polygon\n\t\t\t\t\t\t\t\t\t\t\tid=\"Polygon\"\n\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(515.000000, 437.000000) rotate(-360.000000) translate(-515.000000, -437.000000) \"\n\t\t\t\t\t\t\t\t\t\t\tpoints=\"515 350 590.34421 393.5 590.34421 480.5 515 524 439.65579 480.5 439.65579 393.5\"\n\t\t\t\t\t\t\t\t\t\t></polygon>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ReactCSSTransitionGroup>\n\t);\n};\n\nexport default withUserContext(withMapContext(MintOverlay));\n","import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\n// import { makeStyles } from '@material-ui/core/styles';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'; // ES6\n\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\n\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\n\nimport { sellLand } from '../../lib/api';\nimport { networkError, warningNotification, dangerNotification } from '../../lib/notifications';\n\nimport { Textfit } from 'react-textfit';\n\n// import Stepper from '@material-ui/core/Stepper';\n// import Step from '@material-ui/core/Step';\n\nconst SellOverlay = (props) => {\n\tconst [sellWorth, setNewSellWorth] = useState('');\n\tconst [bidInputError] = useState(false);\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst pathHexId = window.location.pathname.split('/')[3];\n\tconst [hexId, setHexId] = useState(pathHexId && pathHexId.length == 15 ? pathHexId : props.mapProvider.state.hex_id);\n\tconst { ico, setupComplete } = props.userProvider.state;\n\tconst { approveErc721Token, putLandOnSale } = props.userProvider.actions;\n\tconst [boughtAt, setBoughtAt] = useState(props.currentBid);\n\tconst [metamaskMessage, setMetamaskMessage] = useState('Waiting for MetaMask confirmation');\n\tlet sellLandInterval = null;\n\n\tuseEffect(() => {\n\t\tif (setupComplete) setupListeners();\n\t}, [setupComplete]);\n\n\tconst setupListeners = () => {\n\t\tsetBoughtAtPrice();\n\t\tsellLandInterval = setInterval(() => {\n\t\t\tsetBoughtAtPrice();\n\t\t}, 5e2);\n\t\tdocument.addEventListener('land-selected', (event) => {\n\t\t\tsetHexId(event.detail.hex_id);\n\t\t\tclearInterval(sellLandInterval);\n\t\t\tsellLandInterval = setInterval(() => {\n\t\t\t\tsetBoughtAtPrice();\n\t\t\t}, 5e2);\n\t\t\tsetBoughtAtPrice();\n\t\t});\n\t};\n\n\tconst setBoughtAtPrice = async () => {\n\t\tconst landId = parseInt(hexId, 16);\n\t\tconst land = await ico.landsAsync(landId);\n\t\tconst paid = String(window.web3.fromWei(land[2]));\n\t\tsetBoughtAt(paid);\n\t};\n\n\tconst handleNext = async () => {\n\t\tif (activeStep + 1 === 1) {\n\t\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\t\twarningNotification('Invalid authentication', 'Please Log In to partecipate');\n\t\t\t} else {\n\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\ttry {\n\t\t\t\t\tsetMetamaskMessage('Approving ERC721 token for the Smart Contract...');\n\t\t\t\t\tawait approveErc721Token(hexId);\n\t\t\t\t\tsetMetamaskMessage('Waiting for MetaMask confirmation');\n\t\t\t\t\tawait putLandOnSale(hexId, String(window.web3.toWei(sellWorth)), true);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn dangerNotification('Error processing the transactions', e.message);\n\t\t\t\t}\n\t\t\t\tsendSell();\n\t\t\t}\n\t\t} else {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconsole.log('bidoverlayuseeffect');\n\t}, []);\n\n\t// const handleBack = () => {\n\t//   setActiveStep(prevActiveStep => prevActiveStep - 1);\n\t// };\n\n\tconst updateNewSellWorth = (e) => {\n\t\tif (sellWorth === '') {\n\t\t\tsetBidValid(false);\n\t\t} else {\n\t\t\tsetBidValid(true);\n\t\t}\n\t\tsetNewSellWorth(e.target.value);\n\t};\n\n\tfunction sendSell() {\n\t\t// Call API function\n\t\tsellLand(props.land.key, sellWorth)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\tconsole.log('responseTrue', response.data);\n\t\t\t\t\tprops.realodLandStatefromApi(props.land.key);\n\t\t\t\t\tsetActiveStep(2);\n\t\t\t\t} else {\n\t\t\t\t\t// response.data.errors[0].message\n\t\t\t\t\tconsole.log('responseFalse');\n\t\t\t\t\tdangerNotification('Unable to place sell request', response.data.errors[0].message);\n\t\t\t\t\tsetActiveStep(0);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveSellOverlay(false);\n\t\t// Bring the step at 0\n\t\tsetTimeout(function () {\n\t\t\tsetActiveStep(0);\n\t\t\tsetNewSellWorth('');\n\t\t}, 200);\n\t}\n\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">\n\t\t\t\t\t\t\t\t<Textfit mode=\"single\">Set sell offer for the OVRLand</Textfit>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Bought at</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={boughtAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__input\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\tlabel=\"Sell at\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\terror={bidInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={bidInputError !== false ? bidInputError : ''}\n\t\t\t\t\t\t\t\t\tvalue={sellWorth}\n\t\t\t\t\t\t\t\t\tonFocus={updateNewSellWorth}\n\t\t\t\t\t\t\t\t\tonChange={updateNewSellWorth}\n\t\t\t\t\t\t\t\t\tonKeyUp={updateNewSellWorth}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext=\"Place Sell\"\n\t\t\t\t\t\t\t\t\tclassName={`--purple ${bidValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tonClick={handleNext}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Cancel\" className=\"--outline\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Set Sell order for OVRLand</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Bought at</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={boughtAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Sell at</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={sellWorth}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Opened sell for OVRLand</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Sell at</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={sellWorth}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>Sell order placed</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Close\" className=\"--outline\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!props.mapProvider.state.activeSellOverlay) return null;\n\n\treturn (\n\t\t<ReactCSSTransitionGroup\n\t\t\ttransitionName=\"overlay\"\n\t\t\ttransitionAppear={true}\n\t\t\ttransitionAppearTimeout={500}\n\t\t\ttransitionEnter={false}\n\t\t\ttransitionLeave={false}\n\t\t\ttransitionLeaveTimeout={300}\n\t\t>\n\t\t\t<div\n\t\t\t\tkey=\"bid-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`Overlay SellOverlay WhiteInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className={`Icon Overlay__close_button`} onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" fill-opacity=\"0.5\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\tfill-rule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Overlay__hex_cont\">\n\t\t\t\t\t\t<div className={`Icon Overlay__hex`}>\n\t\t\t\t\t\t\t<svg width=\"152px\" height=\"176px\" viewBox=\"0 0 152 176\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" fill-opacity=\"0.2\">\n\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-439.000000, -349.000000)\"\n\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<polygon\n\t\t\t\t\t\t\t\t\t\t\tid=\"Polygon\"\n\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(515.000000, 437.000000) rotate(-360.000000) translate(-515.000000, -437.000000) \"\n\t\t\t\t\t\t\t\t\t\t\tpoints=\"515 350 590.34421 393.5 590.34421 480.5 515 524 439.65579 480.5 439.65579 393.5\"\n\t\t\t\t\t\t\t\t\t\t></polygon>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ReactCSSTransitionGroup>\n\t);\n};\n\nexport default withUserContext(withMapContext(SellOverlay));\n","import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\n// import DateFnsUtils from '@date-io/date-fns';\nimport MomentUtils from '@date-io/moment';\nimport { MuiPickersUtilsProvider, DateTimePicker } from '@material-ui/pickers';\n// import { makeStyles } from '@material-ui/core/styles';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'; // ES6\n\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\n\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\n\nimport { buyOffer } from '../../lib/api';\nimport { networkError, warningNotification, dangerNotification } from '../../lib/notifications';\n// import Stepper from '@material-ui/core/Stepper';\n// import Step from '@material-ui/core/Step';\n\nconst today = new Date();\nconst tomorrow = new Date(today);\ntomorrow.setDate(tomorrow.getDate() + 1);\n\nconst BuyOfferOverlay = (props) => {\n\tconst [proposedValue, setProposedValue] = useState('');\n\tconst [bidInputError] = useState(false);\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [expirationDate, setExpirationDate] = useState(tomorrow);\n\tconst pathHexId = window.location.pathname.split('/')[3];\n\tconst [hexId, setHexId] = useState(pathHexId && pathHexId.length === 15 ? pathHexId : props.mapProvider.state.hex_id);\n\tconst { approveOvrTokens, offerToBuyLand } = props.userProvider.actions;\n\tconst { setupComplete } = props.userProvider.state;\n\tconst [metamaskMessage, setMetamaskMessage] = useState('Waiting for MetaMask confirmation');\n\tconst [solidityExpirationDate, setSolidityExpirationDate] = useState(0);\n\n\tuseEffect(() => {\n\t\tif (setupComplete) setupListeners();\n\t}, [setupComplete]);\n\n\tconst setupListeners = () => {\n\t\tdocument.addEventListener('land-selected', (event) => {\n\t\t\tsetHexId(event.detail.hex_id);\n\t\t});\n\t};\n\n\tconst handleNext = async () => {\n\t\tif (activeStep + 1 === 1) {\n\t\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\t\twarningNotification('Invalid authentication', 'Please Log In to partecipate');\n\t\t\t} else {\n\t\t\t\tconst now = Math.trunc(Date.now() / 1000);\n\t\t\t\tconst price = String(window.web3.toWei(proposedValue));\n\n\t\t\t\tif (now >= solidityExpirationDate) {\n\t\t\t\t\treturn warningNotification('Date error', 'The expiration date must be set in the future');\n\t\t\t\t}\n\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\ttry {\n\t\t\t\t\tsetMetamaskMessage('Approving OVR tokens for the Smart Contract...');\n\t\t\t\t\tawait approveOvrTokens();\n\t\t\t\t\tsetMetamaskMessage('Waiting for MetaMask confirmation');\n\t\t\t\t\tawait offerToBuyLand(hexId, price, solidityExpirationDate);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn dangerNotification('Error processing the transaction', e.message);\n\t\t\t\t}\n\n\t\t\t\tsendBuyOffer();\n\t\t\t}\n\t\t} else {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconsole.log('bidoverlayuseeffect');\n\t}, []);\n\n\t// const handleBack = () => {\n\t//   setActiveStep(prevActiveStep => prevActiveStep - 1);\n\t// };\n\n\tconst updateProposedValue = (e) => {\n\t\tif (proposedValue === '') {\n\t\t\tsetBidValid(false);\n\t\t} else {\n\t\t\tsetBidValid(true);\n\t\t}\n\t\tsetProposedValue(e.target.value);\n\t};\n\n\tfunction sendBuyOffer() {\n\t\t// Call API function\n\t\tbuyOffer(hexId, proposedValue, expirationDate)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\tconsole.log('responseTrue', response.data);\n\t\t\t\t\tprops.realodLandStatefromApi(props.land.key);\n\t\t\t\t\tsetActiveStep(2);\n\t\t\t\t} else {\n\t\t\t\t\t// response.data.errors[0].message\n\t\t\t\t\tconsole.log('responseFalse');\n\t\t\t\t\tdangerNotification('Unable to place sell request', response.data.errors[0].message);\n\t\t\t\t\tsetActiveStep(0);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveBuyOfferOverlay(false);\n\t\t// Bring the step at 0\n\t\tsetTimeout(function () {\n\t\t\tsetActiveStep(0);\n\t\t\tsetProposedValue('');\n\t\t}, 200);\n\t}\n\n\tfunction handleDateChange(e) {\n\t\tsetSolidityExpirationDate(Math.trunc(e / 1000));\n\t\tsetExpirationDate(e);\n\t}\n\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Set buy order for OVRLand</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Current Value</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={props.currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__input\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\tlabel=\"Buy at\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\terror={bidInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={bidInputError !== false ? bidInputError : ''}\n\t\t\t\t\t\t\t\t\tvalue={proposedValue}\n\t\t\t\t\t\t\t\t\tonFocus={updateProposedValue}\n\t\t\t\t\t\t\t\t\tonChange={updateProposedValue}\n\t\t\t\t\t\t\t\t\tonKeyUp={updateProposedValue}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\n\t\t\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t\t\tformat=\"DD-MM-YYYY HH:mm\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\tid=\"date-picker-inline\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Expires at\"\n\t\t\t\t\t\t\t\t\t\tvalue={expirationDate}\n\t\t\t\t\t\t\t\t\t\tonChange={handleDateChange}\n\t\t\t\t\t\t\t\t\t\tKeyboardButtonProps={{\n\t\t\t\t\t\t\t\t\t\t\t'aria-label': 'change date',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext=\"Place Order\"\n\t\t\t\t\t\t\t\t\tclassName={`--orange ${bidValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tonClick={handleNext}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Cancel\" className=\"--outline\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Set Buy order for OVRLand</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Current Value</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={props.currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Buy at</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={proposedValue}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Open Buy offer for OVRLand</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Buy at</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={proposedValue}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>Buy offer placed</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Close\" className=\"--outline\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!props.mapProvider.state.activeBuyOfferOverlay) return null;\n\n\treturn (\n\t\t<ReactCSSTransitionGroup\n\t\t\ttransitionName=\"overlay\"\n\t\t\ttransitionAppear={true}\n\t\t\ttransitionAppearTimeout={500}\n\t\t\ttransitionEnter={false}\n\t\t\ttransitionLeave={false}\n\t\t\ttransitionLeaveTimeout={300}\n\t\t>\n\t\t\t<div\n\t\t\t\tkey=\"bid-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`Overlay BuyOfferOverlay WhiteInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className={`Icon Overlay__close_button`} onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" fill-opacity=\"0.5\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\tfill-rule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Overlay__hex_cont\">\n\t\t\t\t\t\t<div className={`Icon Overlay__hex`}>\n\t\t\t\t\t\t\t<svg width=\"152px\" height=\"176px\" viewBox=\"0 0 152 176\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" fill-opacity=\"0.2\">\n\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-439.000000, -349.000000)\"\n\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<polygon\n\t\t\t\t\t\t\t\t\t\t\tid=\"Polygon\"\n\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(515.000000, 437.000000) rotate(-360.000000) translate(-515.000000, -437.000000) \"\n\t\t\t\t\t\t\t\t\t\t\tpoints=\"515 350 590.34421 393.5 590.34421 480.5 515 524 439.65579 480.5 439.65579 393.5\"\n\t\t\t\t\t\t\t\t\t\t></polygon>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ReactCSSTransitionGroup>\n\t);\n};\n\nexport default withUserContext(withMapContext(BuyOfferOverlay));\n","import React, { Component } from 'react';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport HexButton from '../HexButton/HexButton';\nimport Modal from '@material-ui/core/Modal';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { deleteBuyOffer, hitBuyOffer } from '../../lib/api';\nimport { networkError, dangerNotification, successNotification, warningNotification } from '../../lib/notifications';\nimport './style.scss';\n\nexport class BuyOfferOrder extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst pathHexId = window.location.pathname.split('/')[3];\n\t\tthis.state = {\n\t\t\topenModal: false,\n\t\t\tofferId: this.props.offer.id,\n\t\t\topenDeclineBuyModal: false,\n\t\t\tmetamaskMessage: '',\n\t\t\ttransactionInProcess: false,\n\t\t\thexId: pathHexId && pathHexId.length === 15 ? pathHexId : this.props.mapProvider.state.hex_id,\n\t\t};\n\n\t\tthis.confirmDeleteBuyOffer = this.confirmDeleteBuyOffer.bind(this);\n\t\tthis.confirmSell = this.confirmSell.bind(this);\n\t\tthis.handleOpen = this.handleOpen.bind(this);\n\t\tthis.handleClose = this.handleClose.bind(this);\n\t\tthis.buttonRender = this.buttonRender.bind(this);\n\t\tthis.setupComplete = this.props.userProvider.state.setupComplete;\n\t}\n\n\tsetupListeners() {\n\t\tdocument.addEventListener('land-selected', (event) => {\n\t\t\tthis.setState({ hexId: event.detail.hex_id });\n\t\t});\n\t}\n\n\t// To delete/cancel a buy offer if you created it\n\tconfirmDeleteBuyOffer = async (offerId) => {\n\t\ttry {\n\t\t\tconst tx = await this.props.userProvider.actions.cancelBuyOffer(offerId);\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: 'Cancelling buy offer transaction...',\n\t\t\t\ttransactionInProcess: true,\n\t\t\t});\n\t\t\tawait this.props.userProvider.actions.waitTx(tx);\n\t\t} catch (e) {\n\t\t\treturn dangerNotification('Error cancelling buy offer', e.message);\n\t\t}\n\t\tsuccessNotification('Delete successful', 'Your order request has be processed successfully on the blockchain');\n\t\tthis.handleClose();\n\t};\n\n\t// To decline a buy offer\n\tdeclineBuyOffer = async (offerId) => {\n\t\ttry {\n\t\t\tconst tx = await this.props.userProvider.actions.declineBuyOffer(offerId);\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: 'Declining buy offer transaction...',\n\t\t\t\ttransactionInProcess: true,\n\t\t\t});\n\t\t\tawait this.props.userProvider.actions.waitTx(tx);\n\t\t} catch (e) {\n\t\t\treturn dangerNotification('Error declining buy offer', e.message);\n\t\t}\n\t\tsuccessNotification('Decline successful', 'Your order request has be processed successfully on the blockchain');\n\t\tthis.handleClose();\n\t};\n\n\t// To accept a buy offer and sell your land\n\tconfirmSell = async (offerId, landId) => {\n\t\ttry {\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: 'Approving the OVRLand token...',\n\t\t\t\ttransactionInProcess: true,\n\t\t\t});\n\t\t\tawait this.props.userProvider.actions.approveErc721Token(landId, true);\n\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: 'Accepting sell order...',\n\t\t\t});\n\t\t\tconst newTx = await this.props.userProvider.actions.acceptBuyOffer(offerId, landId);\n\t\t\tawait this.props.userProvider.actions.waitTx(newTx);\n\t\t} catch (e) {\n\t\t\treturn dangerNotification('Error accepting buy offer', e.message);\n\t\t}\n\t\tsuccessNotification('Land sold successfully', 'Your order request has be processed successfully on the blockchain');\n\t\tthis.handleClose();\n\t};\n\n\thandleOpen() {\n\t\tif (this.props.userProvider.state.isLoggedIn) {\n\t\t\tthis.setState({ openModal: true });\n\t\t} else {\n\t\t\twarningNotification('Invalid authentication', 'Please Log In to buy land');\n\t\t}\n\t}\n\n\topenDeclineModal = () => {\n\t\tif (this.props.userProvider.state.isLoggedIn) {\n\t\t\tthis.setState({ openDeclineBuyModal: true });\n\t\t} else {\n\t\t\twarningNotification('Invalid authentication', 'Please Log In to buy land');\n\t\t}\n\t};\n\n\thandleClose() {\n\t\tthis.setState({\n\t\t\topenModal: false,\n\t\t\topenDeclineBuyModal: false,\n\t\t\tmetamaskMessage: '',\n\t\t\ttransactionInProcess: false,\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.setupComplete) this.setupListeners();\n\t}\n\n\tbuttonRender() {\n\t\tlet customRender;\n\t\tif (!this.props.isOwner) {\n\t\t\tcustomRender = (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"section\">\n\t\t\t\t\t\t<button type=\"button\" className=\"orderTileButton\" onClick={this.handleOpen}>\n\t\t\t\t\t\t\tAccept Offer\n\t\t\t\t\t\t</button>{' '}\n\t\t\t\t\t\t<button type=\"button\" className=\"orderTileButton\" onClick={this.openDeclineModal}>\n\t\t\t\t\t\t\tDecline Offer\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"section\"></div>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\t\t\t\topen={this.state.openModal}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"BuyOfferModal\">\n\t\t\t\t\t\t\t<h2>Sell confirmation</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tDo you confirm the sell of this <b>OVRLand</b>?\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"OrderModal__bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Sell at</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={this.props.offer.price}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"blinking-message\">{this.state.metamaskMessage}</p>\n\t\t\t\t\t\t\t<div className=\"Modal__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext=\"Confirm\"\n\t\t\t\t\t\t\t\t\tclassName={this.state.transactionInProcess ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\t\t\tonClick={() => this.confirmSell(this.props.offer.id, this.props.offer.landId)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Cancel\" className=\"--outline\" onClick={this.handleClose}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\t\t\t\topen={this.state.openDeclineBuyModal}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"BuyOfferModal\">\n\t\t\t\t\t\t\t<h2>Decline buy offer confirmation</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tDo you confirm to decline this buy offer for this <b>OVRLand</b>?\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"OrderModal__bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Sell at</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={this.props.offer.price}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"blinking-message\">{this.state.metamaskMessage}</p>\n\t\t\t\t\t\t\t<div className=\"Modal__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext=\"Confirm\"\n\t\t\t\t\t\t\t\t\tclassName={this.state.transactionInProcess ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\t\t\tonClick={() => this.declineBuyOffer(this.props.offer.id)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Cancel\" className=\"--outline\" onClick={this.handleClose}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\tcustomRender = (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"section\">\n\t\t\t\t\t\t<button type=\"button\" className=\"orderTileButton\" onClick={this.handleOpen}>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"section\"></div>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\t\t\t\topen={this.state.openModal}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"BuyOfferModal\">\n\t\t\t\t\t\t\t<h2>Delete confirmation</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tDo you confirm the delete of this <b>Buy offer</b>?\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"blinking-message\">{this.state.metamaskMessage}</p>\n\t\t\t\t\t\t\t<div className=\"Modal__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext=\"Confirm\"\n\t\t\t\t\t\t\t\t\tclassName={this.state.transactionInProcess ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\t\t\tonClick={() => this.confirmDeleteBuyOffer(this.props.offer.id)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Cancel\" className=\"--outline\" onClick={this.handleClose}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\treturn customRender;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"BuyOfferTile\">\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<ValueCounter value={this.props.offer.price}></ValueCounter>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<b>Buy Offer Order</b>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<span className=\"c-small-tile-text\">Expires</span>{' '}\n\t\t\t\t\t<TimeCounter date_end={new Date(this.props.offer.expirationDate * 1000)}></TimeCounter>\n\t\t\t\t</div>\n\t\t\t\t{this.buttonRender()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withUserContext(withMapContext(BuyOfferOrder));\n","import React, { Component } from 'react';\nimport ValueCounter from '../../components/ValueCounter/ValueCounter';\nimport TimeCounter from '../../components/TimeCounter/TimeCounter';\nimport HexButton from '../../components/HexButton/HexButton';\nimport Modal from '@material-ui/core/Modal';\n\nimport { deleteSellLand, buyLand } from '../../lib/api';\nimport { networkError, dangerNotification, successNotification, warningNotification } from '../../lib/notifications';\n\nexport class OpenSellOrder extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconsole.log('OpenSellOrderValues', props);\n\t\tthis.state = {\n\t\t\topenModal: false,\n\t\t};\n\t}\n\n\tconfirmDeleteSell = () => {\n\t\tdeleteSellLand(this.props.order.landUuid) // Call API function\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\tsuccessNotification('Action complete', 'Delete of sell order complete');\n\t\t\t\t\t// this.props.realodLandStatefromApi(this.props.order.landUuid)\n\t\t\t\t\tthis.handleClose();\n\t\t\t\t} else {\n\t\t\t\t\tdangerNotification('Unable to delete sell order', response.data.errors[0].message);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t};\n\n\tconfirmBuy = () => {\n\t\tbuyLand(this.props.order.landUuid) // Call API function\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\tsuccessNotification('Action complete', 'Now you own this land');\n\t\t\t\t\t// this.props.realodLandStatefromApi(this.props.order.landUuid)\n\t\t\t\t\tthis.handleClose();\n\t\t\t\t} else {\n\t\t\t\t\tdangerNotification('Unable to buy land', response.data.errors[0].message);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t};\n\n\thandleOpen = () => {\n\t\tif (this.props.userProvider.state.isLoggedIn) {\n\t\t\tthis.setState({ openModal: true });\n\t\t} else {\n\t\t\twarningNotification('Invalid authentication', 'Please Log In to buy land');\n\t\t}\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ openModal: false });\n\t};\n\n\tcomponentDidMount() {}\n\n\tbuttonRender = () => {\n\t\tlet customRender;\n\t\tif (this.props.userPerspective === 1) {\n\t\t\tcustomRender = (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"section\">\n\t\t\t\t\t\t<button type=\"button\" className=\"orderTileButton\" onClick={this.handleOpen}>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"section\"></div>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\t\t\t\topen={this.state.openModal}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"SellOrderModal\">\n\t\t\t\t\t\t\t<h2>Delete confirmation</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tDo you confirm the delete of this <b>Open Sell Order</b>?\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"Modal__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Confirm\" className={`--purple`} onClick={this.confirmDeleteSell}></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Cancel\" className=\"--outline\" onClick={this.handleClose}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\tcustomRender = (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"section\">\n\t\t\t\t\t\t<button type=\"button\" className=\"orderTileButton\" onClick={this.handleOpen}>\n\t\t\t\t\t\t\tBuy now\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"section\"></div>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\t\t\t\topen={this.state.openModal}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"SellOrderModal\">\n\t\t\t\t\t\t\t<h2>Buy confirmation</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tDo you confirm the buy of this <b>OVRLand</b>?\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"OrderModal__bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Buy for</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={this.props.order.worth}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Modal__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Confirm\" className={`--purple`} onClick={this.confirmBuy}></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Cancel\" className=\"--outline\" onClick={this.handleClose}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\treturn customRender;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"SellOrderTile\">\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<ValueCounter value={this.props.order.worth}></ValueCounter>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<b>Open Sell Order</b>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<span className=\"c-small-tile-text\">Placed</span>{' '}\n\t\t\t\t\t<TimeCounter date_end={this.props.order.createdAt}></TimeCounter>\n\t\t\t\t</div>\n\t\t\t\t{this.buttonRender()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default OpenSellOrder;\n","import React, { useState, useEffect } from 'react';\r\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'; // ES6\r\nimport { withMapContext } from '../../context/MapContext';\r\nimport { withUserContext } from '../../context/UserContext';\r\nimport ValueCounter from '../ValueCounter/ValueCounter';\r\nimport HexButton from '../HexButton/HexButton';\r\nimport { successNotification, warningNotification, dangerNotification } from '../../lib/notifications';\r\n\r\nconst BuyLandOverlay = (props) => {\r\n\tconst { approveOvrTokens, buyLand } = props.userProvider.actions;\r\n\tconst pathHexId = window.location.pathname.split('/')[3];\r\n\tconst [hexId, setHexId] = useState(pathHexId && pathHexId.length === 15 ? pathHexId : props.mapProvider.state.hex_id);\r\n\tconst { ovr, ico, setupComplete } = props.userProvider.state;\r\n\tconst [nextBid, setNextBid] = useState(10);\r\n\tconst [activeStep, setActiveStep] = useState(0);\r\n\tconst [metamaskMessage, setMetamaskMessage] = useState('Waiting for MetaMask confirmation');\r\n\r\n\tuseEffect(() => {\r\n\t\tif (setupComplete) setupListeners();\r\n\t}, [setupComplete]);\r\n\r\n\tconst setupListeners = () => {\r\n\t\tsetNextBidSelectedLand(hexId);\r\n\t\tdocument.addEventListener('land-selected', (event) => {\r\n\t\t\tsetHexId(event.detail.hex_id);\r\n\t\t\tsetNextBidSelectedLand(event.detail.hex_id);\r\n\t\t});\r\n\t};\r\n\r\n\tconst setNextBidSelectedLand = async () => {\r\n\t\tif (!setupComplete || !ico || !ovr) {\r\n\t\t\treturn warningNotification('Metamask not detected', 'You must login to metamask to use this application');\r\n\t\t}\r\n\t\tconst landId = parseInt(hexId, 16);\r\n\t\tconst land = await ico.landsAsync(landId);\r\n\t\tconst price = String(window.web3.fromWei(land[7]));\r\n\t\tsetNextBid(price);\r\n\t};\r\n\r\n\tconst handleNext = async () => {\r\n\t\tif (activeStep + 1 === 1) {\r\n\t\t\tif (!props.userProvider.state.isLoggedIn) {\r\n\t\t\t\treturn warningNotification('Invalid authentication', 'Please Log In to partecipate');\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tlet currentBalance = await ovr.balanceOfAsync(window.web3.eth.defaultAccount);\r\n\t\t\t\tif (!currentBalance.greaterThan(nextBid))\r\n\t\t\t\t\treturn dangerNotification(\r\n\t\t\t\t\t\t'Balance insufficient',\r\n\t\t\t\t\t\t\"You don't have enough tokens to buy that land get more and try again\",\r\n\t\t\t\t\t);\r\n\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n\t\t\t\tsetMetamaskMessage('Approving tokens first...');\r\n\t\t\t\tawait approveOvrTokens();\r\n\t\t\t\tsetMetamaskMessage('Waiting for land buying MetaMask confirmation');\r\n\t\t\t\tawait buyLand(hexId);\r\n\t\t\t\tsuccessNotification('Land purchased successfully!', \"You completed the land purchase successfully and now it's yours the page will be updated automatically\");\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.reload();\r\n\t\t\t\t}, 2e3);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('Error', e);\r\n\t\t\t\treturn dangerNotification('Error processing the transactions', e.message);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction setDeactiveOverlay(e) {\r\n\t\te.preventDefault();\r\n\t\tprops.mapProvider.actions.changeActiveMintOverlay(false);\r\n\t\tsetActiveStep(0);\r\n\t}\r\n\r\n\tfunction getStepContent(step) {\r\n\t\tswitch (step) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\r\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\r\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Buy OVRLand</div>\r\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\r\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\r\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\r\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Price</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\r\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={nextBid}></ValueCounter>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\r\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Buy Now\" className={`--orange`} onClick={handleNext}></HexButton>\r\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Cancel\" className=\"--outline\" onClick={setDeactiveOverlay}></HexButton>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 1:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\r\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\r\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Buying OVRLand</div>\r\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\r\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\r\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\r\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Price</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\r\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={nextBid}></ValueCounter>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\r\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 2:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\r\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\r\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">Buying OVRLand</div>\r\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\r\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\r\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\r\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Price</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\r\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={nextBid}></ValueCounter>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\r\n\t\t\t\t\t\t\t\t<span>Land purchased successfully</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\r\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Close\" className=\"--outline\" onClick={setDeactiveOverlay}></HexButton>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Unknown step';\r\n\t\t}\r\n\t}\r\n\r\n\tif (!props.mapProvider.state.activeBuyOverlay) return null;\r\n\r\n\treturn (\r\n\t\t<ReactCSSTransitionGroup\r\n\t\t\ttransitionName=\"overlay\"\r\n\t\t\ttransitionAppear={true}\r\n\t\t\ttransitionAppearTimeout={500}\r\n\t\t\ttransitionEnter={false}\r\n\t\t\ttransitionLeave={false}\r\n\t\t\ttransitionLeaveTimeout={300}\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tkey=\"buy-land-overlay-\"\r\n\t\t\t\tto={props.url}\r\n\t\t\t\tclassName={`Overlay MintOverlay WhiteInputs ${\r\n\t\t\t\t\tprops.className ? props.className : ''\r\n\t\t\t\t} --activeStep-${activeStep}`}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"Overlay__cont\">\r\n\t\t\t\t\t<div className={`Icon Overlay__close_button`} onClick={setDeactiveOverlay}>\r\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fill-opacity=\"0.5\">\r\n\t\t\t\t\t\t\t\t<g\r\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\r\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\r\n\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\r\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\r\n\t\t\t\t\t\t\t\t\t></path>\r\n\t\t\t\t\t\t\t\t</g>\r\n\t\t\t\t\t\t\t</g>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Overlay__hex_cont\">\r\n\t\t\t\t\t\t<div className={`Icon Overlay__hex`}>\r\n\t\t\t\t\t\t\t<svg width=\"152px\" height=\"176px\" viewBox=\"0 0 152 176\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fill-opacity=\"0.2\">\r\n\t\t\t\t\t\t\t\t\t<g\r\n\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\r\n\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-439.000000, -349.000000)\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\r\n\t\t\t\t\t\t\t\t\t\tstroke=\"#FFFFFF\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<polygon\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"Polygon\"\r\n\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(515.000000, 437.000000) rotate(-360.000000) translate(-515.000000, -437.000000) \"\r\n\t\t\t\t\t\t\t\t\t\t\tpoints=\"515 350 590.34421 393.5 590.34421 480.5 515 524 439.65579 480.5 439.65579 393.5\"\r\n\t\t\t\t\t\t\t\t\t\t></polygon>\r\n\t\t\t\t\t\t\t\t\t</g>\r\n\t\t\t\t\t\t\t\t</g>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{getStepContent(activeStep)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ReactCSSTransitionGroup>\r\n\t);\r\n};\r\n\r\nexport default withUserContext(withMapContext(BuyLandOverlay));\r\n","import React, { Component } from 'react';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport ValueCounter from '../../components/ValueCounter/ValueCounter';\nimport TimeCounter from '../../components/TimeCounter/TimeCounter';\nimport HexButton from '../../components/HexButton/HexButton';\nimport BidOverlay from '../../components/BidOverlay/BidOverlay';\nimport MintOverlay from '../../components/MintOverlay/MintOverlay';\nimport SellOverlay from '../../components/SellOverlay/SellOverlay';\nimport BuyOfferOverlay from '../../components/BuyOfferOverlay/BuyOfferOverlay';\nimport OpenSellOrder from '../../components/OpenSellOrder/OpenSellOrder';\nimport BuyOfferOrder from '../../components/BuyOfferOrder/BuyOfferOrder';\nimport BuyLandOverlay from '../../components/BuyLandOverlay/BuyLandOverlay';\n\nimport { getLand } from '../../lib/api';\nimport { networkError } from '../../lib/notifications';\n\nimport { Textfit } from 'react-textfit';\nimport { ca } from 'date-fns/esm/locale';\n\nexport class Land extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst pathHexId = window.location.pathname.split('/')[3];\n\t\tthis.state = {\n\t\t\tkey: '8cbcc350c0ab5ff',\n\t\t\tvalue: 10,\n\t\t\tname: { sentence: 'director.connect.overflow', hex: '8cbcc350c0ab5ff' },\n\t\t\tlocation: 'Venice, Italy',\n\t\t\tmarketStatus: 0,\n\t\t\tuserPerspective: 0,\n\t\t\tauction: null,\n\t\t\topenSellOrder: null,\n\t\t\topenBuyOffers: [],\n\t\t\thexId: pathHexId && pathHexId.length === 15 ? pathHexId : this.props.mapProvider.state.hex_id,\n\t\t\tisRedeemingLand: false,\n\t\t};\n\t\tthis.mapActions = this.props.mapProvider.actions;\n\t}\n\n\tcomponentDidMount() {\n\t\tconst hex_id = this.props.match.params.id;\n\t\t// Focus map on hex_id\n\t\tthis.mapActions.changeHexId(hex_id);\n\t\t// Load data from API\n\t\tthis.loadLandStateFromApi(hex_id);\n\t\tif (this.props.userProvider.state.setupComplete && this.props.userProvider.state.ico) this.setupListeners();\n\t\tlet setupInterval = setInterval(() => {\n\t\t\tif (this.props.userProvider.state.setupComplete && this.props.userProvider.state.ico) {\n\t\t\t\tthis.setupListeners();\n\t\t\t\tclearInterval(setupInterval);\n\t\t\t}\n\t\t}, 5e2);\n\t}\n\n\tsetupListeners() {\n\t\tthis.getBuyOffers();\n\t\tthis.setContractPrice(this.state.hexId);\n\t\t// Update offers every half a second\n\t\tsetInterval(() => {\n\t\t\tthis.getBuyOffers();\n\t\t\tthis.updateMarketStatusFromSmartContract(this.state.hexId);\n\t\t\tthis.setContractPrice(this.state.hexId);\n\t\t}, 5e2);\n\t\tdocument.addEventListener('land-selected', (event) => {\n\t\t\tthis.setState({ hexId: event.detail.hex_id });\n\t\t\tthis.setContractPrice(event.detail.hex_id);\n\t\t\tthis.getBuyOffers();\n\t\t});\n\t}\n\n\tloadLandStateFromApi(hex_id) {\n\t\t// Call API function\n\t\tgetLand(hex_id)\n\t\t\t.then((response) => {\n\t\t\t\tlet data = response.data;\n\t\t\t\tconsole.log('landApiData', data);\n\t\t\t\tconst state = {\n\t\t\t\t\tkey: data.uuid,\n\t\t\t\t\tname: { sentence: data.sentenceId, hex: data.uuid },\n\t\t\t\t\tlocation: data.address.full,\n\t\t\t\t\t// marketStatus: data.marketStatus,\n\t\t\t\t\tuserPerspective: data.userPerspective,\n\t\t\t\t\topenSellOrder: data.openSellOrder,\n\t\t\t\t\t// openBuyOffers: data.openBuyOffers,\n\t\t\t\t\tauction: data.auction,\n\t\t\t\t\t// value: data.value,\n\t\t\t\t};\n\t\t\t\tthis.mapActions.changeLandData(state);\n\t\t\t\tthis.setState(state);\n\n\t\t\t\tif (this.props.userProvider.state.ico) {\n\t\t\t\t\tthis.updateMarketStatusFromSmartContract(hex_id);\n\t\t\t\t} else {\n\t\t\t\t\tconst myInterval = setInterval(() => {\n\t\t\t\t\t\tif (this.props.userProvider.state.ico) {\n\t\t\t\t\t\t\tthis.updateMarketStatusFromSmartContract(hex_id);\n\t\t\t\t\t\t\tclearInterval(myInterval);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 2e3);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tconsole.log(error);\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\t// If param change load data from API\n\t\tif (this.props.location !== prevProps.location || this.props.value !== prevProps.value) {\n\t\t\tconst hex_id = this.props.match.params.id;\n\t\t\tthis.loadLandStateFromApi(hex_id);\n\t\t\tthis.mapActions.changeHexId(hex_id);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.mapActions.changeActiveBidOverlay(false);\n\t\tthis.mapActions.changeActiveMintOverlay(false);\n\t\tthis.mapActions.changeActiveSellOverlay(false);\n\t}\n\n\tasync updateMarketStatusFromSmartContract(hex_id) {\n\t\t// Set 0 for not started, 1 for started and 2 for ended\n\t\tconst ico = this.props.userProvider.state.ico;\n\t\tconst landId = parseInt(hex_id, 16);\n\t\tconst land = await ico.landsAsync(landId);\n\t\tconst lastPaymentTimestamp = parseInt(land[3]);\n\t\tconst landOwner = land[0];\n\t\tconst auctionLandDuration = parseInt(await ico.auctionLandDurationAsync());\n\t\t// Check is the land is ended by comparing the timestamp to 24 hours\n\t\tconst now = Math.trunc(Date.now() / 1000);\n\t\tconst landContractState = parseInt(land[4]);\n\t\tconst isOnSale = land[8];\n\n\t\t// Checks if the land is on sale also to display the right buy button\n\t\tif (isOnSale) {\n\t\t\treturn this.setState({\n\t\t\t\tmarketStatus: 4,\n\t\t\t});\n\t\t}\n\n\t\t// If 24 hours have passed, consider it sold\n\t\t// Checks if you're the owner or not to display the appropriate button\n\t\tif (landContractState === 1 && now > lastPaymentTimestamp + auctionLandDuration) {\n\t\t\treturn this.setState({\n\t\t\t\tmarketStatus: 5, // Render redeem land button\n\t\t\t});\n\t\t}\n\n\t\tif (landContractState === 2) {\n\t\t\tif (landOwner === window.web3.eth.defaultAccount) {\n\t\t\t\treturn this.setState({\n\t\t\t\t\tmarketStatus: 3,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn this.setState({\n\t\t\t\t\tmarketStatus: 2,\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tmarketStatus: landContractState,\n\t\t\t});\n\t\t}\n\t}\n\n\tasync getBuyOffers() {\n\t\tlet offers = await this.props.userProvider.actions.getOffersToBuyLand(this.state.hexId);\n\t\tthis.setState({\n\t\t\topenBuyOffers: offers,\n\t\t});\n\t}\n\n\tasync redeemLand(e) {\n\t\te.preventDefault();\n\t\tthis.setState({ isRedeemingLand: true });\n\t\tawait this.props.userProvider.actions.redeemSingleLand(this.state.hexId);\n\t\tthis.setState({ isRedeemingLand: false });\n\t}\n\n\tsetActiveBidOverlay(e) {\n\t\te.preventDefault();\n\t\tif (!this.props.userProvider.state.isLoggedIn) {\n\t\t\t// TODO remove comment\n\t\t\t// warningNotification(\"Invalid authentication\", \"Please Log In to partecipate\")\n\t\t\t// this.props.history.push(\"/login\")\n\t\t} else {\n\t\t\t// this.mapActions.changeActiveBidOverlay(true)\n\t\t}\n\t\tthis.mapActions.changeActiveBidOverlay(true); // TODO COMMENT\n\t}\n\n\tsetActiveMintOverlay(e) {\n\t\te.preventDefault();\n\t\tthis.mapActions.changeActiveMintOverlay(true);\n\t}\n\n\tsetActiveSellOverlay(e) {\n\t\te.preventDefault();\n\t\tthis.mapActions.changeActiveSellOverlay(true);\n\t}\n\n\tsetActiveBuyOverlay(e) {\n\t\te.preventDefault();\n\t\tthis.mapActions.changeActiveBuyOverlay(true);\n\t}\n\n\tsetActiveBuyOfferOverlay(e) {\n\t\te.preventDefault();\n\t\tthis.mapActions.changeActiveBuyOfferOverlay(true);\n\t}\n\n\trealodLandStatefromApi = (value) => {\n\t\t// TODO Change with socket\n\t\tlet that = this;\n\t\tsetTimeout(function () {\n\t\t\tthat.loadLandStateFromApi(value);\n\t\t}, 1500);\n\t};\n\n\t//\n\t// Render elements\n\t//\n\n\trenderTimer() {\n\t\tif (this.state.marketStatus === 1) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<h3 className=\"o-small-title\">Closes</h3>\n\t\t\t\t\t<TimeCounter date_end={this.state.auction ? this.state.auction.closeAt : 24}></TimeCounter>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn <div>&nbsp;</div>;\n\t\t}\n\t}\n\n\trenderBadge() {\n\t\tlet badge = <div>&nbsp;</div>;\n\t\tswitch (this.state.marketStatus) {\n\t\t\tcase 1:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">Status</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --open\">OPEN</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">Status</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --owned\">OWNED</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbadge = <div>&nbsp;</div>;\n\t\t}\n\n\t\tswitch (this.state.userPerspective) {\n\t\t\tcase 1:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">Status</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge --bestbid\">OWNER</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">Status</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --bestbid\">BEST BID</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">Status</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --outbidded\">OUTBIDDED</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn badge;\n\t}\n\n\trenderOverlayButton() {\n\t\tlet button = <div>&nbsp;</div>;\n\t\tswitch (this.state.marketStatus) {\n\t\t\tcase 0:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton\n\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\ttext=\"Init Auction\"\n\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t\tonClick={(e) => this.setActiveMintOverlay(e)}\n\t\t\t\t\t></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton\n\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\ttext=\"Place bid\"\n\t\t\t\t\t\tclassName=\"--purple\"\n\t\t\t\t\t\tonClick={(e) => this.setActiveBidOverlay(e)}\n\t\t\t\t\t></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton\n\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\ttext=\"Buy offer\"\n\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t\tonClick={(e) => this.setActiveBuyOfferOverlay(e)}\n\t\t\t\t\t></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton\n\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\ttext=\"Sell Land\"\n\t\t\t\t\t\tclassName=\"--purple\"\n\t\t\t\t\t\tonClick={(e) => this.setActiveSellOverlay(e)}\n\t\t\t\t\t></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton\n\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\ttext=\"Buy Now\"\n\t\t\t\t\t\tclassName=\"--purple\"\n\t\t\t\t\t\tonClick={(e) => this.setActiveBuyOverlay(e)}\n\t\t\t\t\t></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tbutton = (\n\t\t\t\t\t<div className=\"redeem-land-map-button\">\n\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\ttext=\"Redeem Land\"\n\t\t\t\t\t\t\tclassName={this.state.isRedeemingLand ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\tonClick={(e) => this.redeemLand(e)}\n\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t{!this.state.isRedeemingLand ? null : <p className=\"Overlay__message__container\">Redeeming land...</p>}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbutton = <div>&nbsp;</div>;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn button;\n\t}\n\n\t// Sets the price displayed below the map\n\tsetContractPrice = (hex_id) => {\n\t\tlet ico = this.props.userProvider.state.ico;\n\t\tconst icoLoadInterval = setInterval(async () => {\n\t\t\tico = this.props.userProvider.state.ico;\n\t\t\tif (ico) {\n\t\t\t\tclearInterval(icoLoadInterval);\n\t\t\t\tconst landId = parseInt(hex_id, 16);\n\t\t\t\tconst land = await ico.landsAsync(landId);\n\t\t\t\tlet currentBid = String(window.web3.fromWei(land[2]));\n\t\t\t\tif (currentBid == 0) {\n\t\t\t\t\tcurrentBid = String(window.web3.fromWei(await ico.initialLandBidAsync()));\n\t\t\t\t}\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tvalue: currentBid,\n\t\t\t\t});\n\t\t\t}\n\t\t}, 1e2);\n\t};\n\n\trenderPrice() {\n\t\tswitch (this.state.marketStatus) {\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">Closing price</h3>\n\t\t\t\t\t\t<ValueCounter value={this.state.value}></ValueCounter>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">Price</h3>\n\t\t\t\t\t\t<ValueCounter value={this.state.value}></ValueCounter>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t}\n\t}\n\n\trenderBidHistory() {\n\t\tif (this.state.auction === null || this.state.auction.bidHistory.length === 0) {\n\t\t\treturn (\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"Title__container\">\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t<h3 className=\"o-small-title\">History</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\tBe the one to start an auction{' '}\n\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"fire-emoji\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\tThe land has no active Auction at the moment. <br></br>Click on \"Init Auction\" and be the one to own it.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"Title__container\">\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t<h3 className=\"o-small-title\">Bid History</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Table__container\">\n\t\t\t\t\t\t<table className=\"Table\">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>Price</th>\n\t\t\t\t\t\t\t\t\t<th>When</th>\n\t\t\t\t\t\t\t\t\t<th>From</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{this.state.auction.bidHistory.map((bid) => (\n\t\t\t\t\t\t\t\t\t<tr key={bid.when} className=\"Table__line\">\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid.worth}></ValueCounter>{' '}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<TimeCounter date_end={bid.when}></TimeCounter>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>{bid.from}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\trenderActiveOpenOrders() {\n\t\tlet custom_return = <></>;\n\t\tlet openSell = <></>;\n\t\tlet openBuyOffers = <></>;\n\t\tconst displayBuyOffers = this.state.marketStatus === 2;\n\t\tconst displaySells = this.state.marketStatus === 3;\n\n\t\t// If there are Buy Offers\n\t\tif (this.state.openBuyOffers.length > 0) {\n\t\t\t// If the land is owned, is not yours and is not on sale show the buy offer option\n\t\t\tif (displayBuyOffers) {\n\t\t\t\topenBuyOffers = this.state.openBuyOffers.map((offer) => (\n\t\t\t\t\t<BuyOfferOrder\n\t\t\t\t\t\tkey={offer.id}\n\t\t\t\t\t\toffer={offer}\n\t\t\t\t\t\tisOwner={true}\n\t\t\t\t\t\tuserPerspective={this.state.userPerspective}\n\t\t\t\t\t\tuserProvider={this.props.userProvider}\n\t\t\t\t\t></BuyOfferOrder>\n\t\t\t\t));\n\t\t\t\t// Else show the offers for the seller to accept or decline them\n\t\t\t} else if (displaySells) {\n\t\t\t\topenSell = this.state.openBuyOffers.map((offer) => (\n\t\t\t\t\t<BuyOfferOrder\n\t\t\t\t\t\tkey={offer.id}\n\t\t\t\t\t\toffer={offer}\n\t\t\t\t\t\tisOwner={false}\n\t\t\t\t\t\tuserPerspective={this.state.userPerspective}\n\t\t\t\t\t\tuserProvider={this.props.userProvider}\n\t\t\t\t\t></BuyOfferOrder>\n\t\t\t\t));\n\t\t\t}\n\t\t}\n\n\t\tif (displaySells || displayBuyOffers) {\n\t\t\tcustom_return = (\n\t\t\t\t<div className=\"Land__section\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"Title__container\">\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t<h3 className=\"o-small-title\">Open Orders</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Body__container\">\n\t\t\t\t\t\t\t{openSell}\n\t\t\t\t\t\t\t{openBuyOffers}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn custom_return;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Land\">\n\t\t\t\t<BidOverlay\n\t\t\t\t\tcurrentBid={this.state.value}\n\t\t\t\t\tland={this.state}\n\t\t\t\t\trealodLandStatefromApi={this.realodLandStatefromApi}\n\t\t\t\t></BidOverlay>\n\t\t\t\t<MintOverlay\n\t\t\t\t\tcurrentBid={this.state.value}\n\t\t\t\t\tland={this.state}\n\t\t\t\t\trealodLandStatefromApi={this.realodLandStatefromApi}\n\t\t\t\t></MintOverlay>\n\t\t\t\t<SellOverlay\n\t\t\t\t\tcurrentBid={this.state.value}\n\t\t\t\t\tland={this.state}\n\t\t\t\t\trealodLandStatefromApi={this.realodLandStatefromApi}\n\t\t\t\t></SellOverlay>\n\t\t\t\t<BuyOfferOverlay\n\t\t\t\t\tcurrentBid={this.state.value}\n\t\t\t\t\tland={this.state}\n\t\t\t\t\trealodLandStatefromApi={this.realodLandStatefromApi}\n\t\t\t\t></BuyOfferOverlay>\n\t\t\t\t<BuyLandOverlay\n\t\t\t\t\tcurrentBid={this.state.value}\n\t\t\t\t\tland={this.state}\n\t\t\t\t\trealodLandStatefromApi={this.realodLandStatefromApi}\n\t\t\t\t></BuyLandOverlay>\n\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"Land__heading__1\">\n\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t<Textfit mode=\"single\" max={25}>\n\t\t\t\t\t\t\t\t{this.state.name.sentence}\n\t\t\t\t\t\t\t</Textfit>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<div className=\"Land__location\">{this.state.location}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Land__heading__2\">\n\t\t\t\t\t\t<div className=\"o-fourth\">{this.renderPrice()}</div>\n\t\t\t\t\t\t<div className=\"o-fourth\">{this.renderTimer()}</div>\n\t\t\t\t\t\t<div className=\"o-fourth\">{this.renderBadge()}</div>\n\t\t\t\t\t\t<div className=\"o-fourth\">{this.renderOverlayButton()}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{this.renderActiveOpenOrders()}\n\t\t\t\t<div className=\"Land__section\">{this.renderBidHistory()}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withUserContext(withMapContext(Land));\n","import React from 'react';\n\nclass IdensicComp extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tidensicPath: props.baseUrl + '/idensic/static/sumsub-kyc.js',\n\t\t};\n\t}\n\n\tattachKycJs(idensicPath) {\n\t\tif (window.idensic) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst script = document.createElement('script');\n\t\t\tscript.onload = (loadEvent) => {\n\t\t\t\tif (window.idensic) {\n\t\t\t\t\tresolve();\n\t\t\t\t} else {\n\t\t\t\t\treject(new Error('Idensic loaded but not executed'));\n\t\t\t\t}\n\t\t\t};\n\t\t\tscript.onerror = (errorEvent) => {\n\t\t\t\treject(new Error('Idensic not loaded'));\n\t\t\t};\n\t\t\tscript.src = idensicPath;\n\t\t\tdocument.head.appendChild(script);\n\t\t});\n\t}\n\n\tinitIdensic() {\n\t\t// Set current values\n\t\tlet config = {\n      clientId: 'ovr_ai', // fixed for project\n      externalUserId: this.props.externalUserId, // the one in mydatabase \n      accessToken: this.props.accessToken, // the one returned from back end\n\t\t};\n\n\t\twindow.idensic.init('#idensic-block', config, (messageType, payload) => {\n\t\t\tconsole.log('[IDENSIC]', messageType, payload);\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.attachKycJs(this.state.idensicPath)\n\t\t\t.then(() => {\n\t\t\t\tthis.initIdensic();\n\t\t\t})\n\t\t\t.catch((error) => console.error(error));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div id=\"idensic-block\"></div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default IdensicComp;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Checkbox, FormControlLabel } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\n\nconst CustomColorCheckbox = withStyles({\n\troot: {\n\t\tcolor: grey[600],\n\t\t'&$checked': {\n\t\t\tcolor: grey[600],\n\t\t},\n\t},\n\tchecked: {},\n})((props) => <Checkbox color=\"default\" {...props} />);\nconst CheckBox = ({ checked, label, text, name }) => {\n\treturn (\n\t\t<div className=\"checkbox\">\n\t\t\t<FormControlLabel\n\t\t\t\tclassName=\"checkbox-input\"\n\t\t\t\tcontrol={<CustomColorCheckbox name={name} />}\n\t\t\t\tchecked={checked}\n\t\t\t\tlabel={label}\n\t\t\t/>\n\t\t\t{text && <div className=\"checkbox-smalltext\">{text}</div>}\n\t\t</div>\n\t);\n};\nCheckBox.propTypes = {\n\tchecked: PropTypes.bool,\n\tlabel: PropTypes.string,\n\ttext: PropTypes.string,\n\tname: PropTypes.string,\n};\nexport default CheckBox;\n","import React, { useContext, useEffect, useState } from 'react';\nimport * as moment from 'moment';\n\nimport { UserContext } from '../../context/UserContext';\nimport HexImage from '../../components/HexImage/HexImage';\nimport HexButton from '../../components/HexButton/HexButton';\nimport CheckBox from '../../components/CheckBox/CheckBox';\nimport EmailConfirmation from '../../components/EmailConfirmation/EmailConfirmation';\nimport IdensicComp from '../../components/IdensicComp/IdensicComp';\nimport { getSumsubData } from '../../lib/api';\nimport Blockies from 'react-blockies';\n\nimport ValueCounter from '../../components/ValueCounter/ValueCounter';\n// import { networkError } from '../../lib/notifications';\n\nconst ProfileContentLoginRequired = () => (\n\t<div className=\"profile\">\n\t\t<div className=\"o-container\">\n\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\tYou have to log in to visit Your profile\n\t\t\t\t\t<span role=\"img\" aria-label=\"Cool dude\">\n\t\t\t\t\t\t\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"c-dialog-sub-title\">Check your profile. Login now.</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n);\n\nconst ProfileLayout = (props) => {\n\tconst currentDatetimeStamp = moment().format('HH:mm, dddd, MMM D, YYYY');\n\treturn (\n\t\t<div className=\"profile\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"p-header\">\n\t\t\t\t\t<h2 className=\"p-header-title\">My Profile</h2>\n\t\t\t\t\t<span className=\"p-header-datetime\">{currentDatetimeStamp}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"p-body\">\n\t\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t\t{/* <HexImage className=\"profile-image\" /> */}\n\t\t\t\t\t\t<Blockies\n\t\t\t\t\t\t\tseed={props.state.user.uuid || 'wewewe'}\n\t\t\t\t\t\t\tsize={12}\n\t\t\t\t\t\t\tscale={15}\n\t\t\t\t\t\t\tcolor=\"#7521c8\"\n\t\t\t\t\t\t\tbgColor=\"#EC663C\"\n\t\t\t\t\t\t\tspotColor=\"#F9B426\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ProfileContent />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst renderBadge = (status) => {\n\tlet badge = <div>&nbsp;</div>;\n\tswitch (status) {\n\t\tcase -1:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">Not started</div>;\n\t\t\tbreak;\n\t\tcase 0:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">Started</div>;\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">Pending</div>;\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">Queued</div>;\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">Completed</div>;\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">On Hold</div>;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbadge = <div>&nbsp;</div>;\n\t}\n\treturn badge;\n};\n\nconst ProfileContent = () => {\n\tconst { state, actions } = useContext(UserContext);\n\tconst [sumsubShowPanel, setSumsubShowPanel] = useState(false);\n\tconst [sumsubExternalUserId, setSumsubExternalUserId] = useState(0);\n\tconst [sumsubAccessToken, setSumsubAccessToken] = useState(0);\n\tconst { user } = state;\n\t// console.log('ProfileContent->These are user and actions from UserContext', actions, user);\n\n\tuseEffect(() => {\n\t\tif (sumsubShowPanel == true && sumsubExternalUserId == 0 && user.uuid != undefined) {\n\t\t\tgetSumsubData()\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t\tsetSumsubExternalUserId(user.uuid);\n\t\t\t\t\t\tsetSumsubAccessToken(response.data.content.token);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t// Notify user if network error\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t}\n\t}, [user.uuid, sumsubShowPanel]);\n\n\tconst toggleKycVerificationFrame = (e) => {\n\t\tconsole.log('clicchino')\n\t\te.preventDefault();\n\t\tsetSumsubShowPanel(!sumsubShowPanel);\n\t};\n\n\treturn (\n\t\t<div className=\"profile-content\">\n\t\t\t<div key=\"wallet\" className=\"p-section\">\n\t\t\t\t<h3 className=\"p-section-title\">Wallet informations</h3>\n\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t<h4 className=\"p-content-title\">Wallet address</h4>\n\t\t\t\t\t<div className=\"p-wallet-address\">\n\t\t\t\t\t\t{window.web3 &&\n\t\t\t\t\t\t\twindow.web3.eth &&\n\t\t\t\t\t\t\twindow.web3.eth.defaultAccount &&\n\t\t\t\t\t\t\twindow.web3.eth.defaultAccount.toLowerCase()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"p-balance\">\n\t\t\t\t\t\t<div className=\"p-small-title\">Balance</div>\n\t\t\t\t\t\t<div className=\"p-balance-value\">\n\t\t\t\t\t\t\t<ValueCounter value={state.ovrsOwned} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<HexButton url=\"/buy-tokens\" className=\"--orange\" text=\"BUY MORE\"></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div key=\"KYC\" className=\"p-section --m-t\">\n\t\t\t\t\t<h3 className=\"p-section-title\">Identity verification</h3>\n\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t<h4 className=\"p-content-title\">Status</h4>\n\t\t\t\t\t\t<div className=\"p-balance-value\">\n\t\t\t\t\t\t\t{renderBadge(user.kycReviewStatus)}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"\"\n\t\t\t\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t\t\t\t\ttext=\"START VERIFICATION\"\n\t\t\t\t\t\t\t\t\tonClick={toggleKycVerificationFrame}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{sumsubExternalUserId != 0 && (\n\t\t\t\t\t\t<IdensicComp\n\t\t\t\t\t\t\tbaseUrl=\"https://test-api.sumsub.com\"\n\t\t\t\t\t\t\texternalUserId={sumsubExternalUserId}\n\t\t\t\t\t\t\taccessToken={sumsubAccessToken}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{/*\n\t\t\t\t\t<div key=\"notifications\" className=\"p-section\">\n\t\t\t\t\t\t<h3 className=\"p-section-title\">NOTIFICATIONS</h3>\n\t\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t\t<h4 className=\"p-content-title\">General</h4>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t<CheckBox label=\"Hottest Auctions\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t<CheckBox label=\"Area of interest\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">My OVRLands</h4>\n\t\t\t\t\t\t\t\t\t<CheckBox label=\"New sell request\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t<CheckBox label=\"OVRLand sold\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">My auctions</h4>\n\t\t\t\t\t\t\t\t\t<CheckBox label=\"Over bidded\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t<CheckBox label=\"Auction won\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"p-email-subscription\">\n\t\t\t\t\t\t\t<EmailConfirmation />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t*/}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst Profile = () => {\n\tconst { state } = useContext(UserContext);\n\tconst { isLoggedIn: userAuthenticated } = state;\n\n\tif (!userAuthenticated) {\n\t\treturn <ProfileContentLoginRequired />;\n\t}\n\treturn <ProfileLayout state={state} />;\n};\n\nexport default Profile;\n","import React, { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { UserContext, withUserContext } from '../../context/UserContext';\nimport { useHistory } from 'react-router-dom';\n\n/**\n * Login page component\n */\n\nconst Login = () => {\n\tconst context = useContext(UserContext);\n\tlet history = useHistory();\n\n\tuseEffect(() => {\n\t\t// Login via web3\n\t\tcontext.actions.setupWeb3(() => {\n\t\t\thistory.push('map/discover');\n\t\t});\n\t}, []);\n\n\t//\n\t// Return\n\t//\n\n\treturn (\n\t\t<div className=\"Login\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<h2>Welcome back to OVR</h2>\n\t\t\t\t<div className=\"Login__sub-title\">We use MetaMask to authenticate Users. Please sign the nonce which will be used for this session.</div>\n\t\t\t\t<div className=\"Login__footer\">\n\t\t\t\t\tIf you have any question about your account visit <Link to=\"/FAQs\">FAQs</Link> or contact{' '}\n\t\t\t\t\t<Link to=\"mailto:info@ovr.ai\">info@ovr.ai</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withUserContext(Login);\n","import React, { useContext, useEffect, useState } from 'react';\nimport HexButton from '../../components/HexButton/HexButton';\nimport TextField from '@material-ui/core/TextField';\n\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport CheckCircleSharpIcon from '@material-ui/icons/CheckCircleSharp';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nimport config from '../../lib/config';\nimport { signUpHybrid } from '../../lib/api';\nimport { saveToken } from '../../lib/auth';\nimport { dangerNotification } from '../../lib/notifications';\n\nimport { UserContext, withUserContext } from '../../context/UserContext';\nimport { useHistory } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n/**\n * Signup page component\n */\n\nconst Signup = () => {\n\tconst context = useContext(UserContext);\n\tlet history = useHistory();\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [userEmail, setUserEmail] = useState('');\n\n\tconst [isSignupLoading, setIsSignupLoading] = useState(false);\n\tconst [userEmailValid, setUserEmailValid] = useState(false);\n\tconst [userEmailInputError, setUserEmailInputError] = useState(false);\n\n\tconst [username, setUsername] = useState('');\n\tconst [usernameValid, setUsernameValid] = useState(false);\n\tconst [usernameInputError, setUsernameInputError] = useState(false);\n\n\tuseEffect(() => {\n\t\t// console.log(web3NetworkName);\n\t}, []);\n\n\tconst handleNext = async () => {\n\t\tif (activeStep + 1 === 1) {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t} else {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t}\n\t};\n\n\tconst emailRegexAndNext = async () => {\n\t\tif (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(userEmail)){\n\t\t\thandleNext();\n\t\t} else {\n\t\t\tsetUserEmailInputError('The inserted email address is not a valid email address');\n\t\t\tsetUserEmailValid(false);\n\t\t}\n\t};\n\n\tconst updateUserEmail = (e) => {\n\t\tsetUserEmailInputError(false);\n\t\tif (userEmail === '') {\n\t\t\tsetUserEmailValid(false);\n\t\t} else {\n\t\t\tsetUserEmailValid(true);\n\t\t}\n\t\tsetUserEmail(e.target.value);\n\t};\n\n\tconst updateUsername = (e) => {\n\t\tsetUsernameInputError(false);\n\t\tif (username === '') {\n\t\t\tsetUsernameValid(false);\n\t\t} else {\n\t\t\tsetUsernameValid(true);\n\t\t}\n\t\tsetUsername(e.target.value);\n\t};\n\n\tconst handleSubscribe = () => {\n\t\tsetIsSignupLoading(true);\n\t\tlet publicAddress = window.web3.eth.defaultAccount.toLowerCase();\n\t\tsignUpHybrid(userEmail, username, publicAddress).then((response) => {\n\t\t\tsetIsSignupLoading(false);\n\t\t\tif (response.data.result === true) {\n\t\t\t\thandleNext();\n\t\t\t} else {\n\t\t\t\tlet error_code = response.data.errors[0].code;\n\t\t\t\tlet error_message = response.data.errors[0].message;\n\t\t\t\tif (error_code == 'public_address') {\n\t\t\t\t\tdangerNotification(error_message, 'Try to login instead');\n\t\t\t\t\tsetActiveStep(0);\n\t\t\t\t} else if (error_code == 'email') {\n\t\t\t\t\tsetActiveStep(2);\n\t\t\t\t\tsetUserEmailValid(false);\n\t\t\t\t\tsetUserEmailInputError(error_message);\n\t\t\t\t} else if (error_code == 'username') {\n\t\t\t\t\tsetActiveStep(3);\n\t\t\t\t\tsetUsernameValid(false);\n\t\t\t\t\tsetUsernameInputError(error_message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconst handleLogin = () => {\n\t\tcontext.actions.setupWeb3(() => {\n\t\t\tsaveToken('firstAfterSignup', true);\n\t\t\thistory.push('map/discover');\n\t\t});\n\t};\n\n\tfunction getStepContent(step) {\n\t\tlet isWeb3Active = typeof window.web3 !== 'undefined';\n\t\tlet isWeb3Account = false;\n\t\tlet web3NetworkVersion = false;\n\t\tif (isWeb3Active){\n\t\t\tisWeb3Account = window.web3.eth.accounts.length > 0;\n\t\t\tweb3NetworkVersion = window.ethereum.networkVersion === config.web3network;\n\t\t}\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"o-box\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\twidth=\"234px\"\n\t\t\t\t\t\t\t\theight=\"260px\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 234 260\"\n\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\tclassName=\"Logo\"\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<title>Group</title>\n\t\t\t\t\t\t\t\t<desc>Created with Sketch.</desc>\n\t\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\tx1=\"25.3511512%\"\n\t\t\t\t\t\t\t\t\t\ty1=\"49.9738242%\"\n\t\t\t\t\t\t\t\t\t\tx2=\"107.245785%\"\n\t\t\t\t\t\t\t\t\t\ty2=\"49.9738242%\"\n\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-1\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#6B32C1\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#C81D5E\" offset=\"99.6%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t<linearGradient x1=\"0%\" y1=\"49.997576%\" x2=\"100.032735%\" y2=\"49.997576%\" id=\"linearGradient-2\">\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#EC663C\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#F9B426\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\tx1=\"52.9498211%\"\n\t\t\t\t\t\t\t\t\t\ty1=\"9.77958549%\"\n\t\t\t\t\t\t\t\t\t\tx2=\"46.413551%\"\n\t\t\t\t\t\t\t\t\t\ty2=\"97.6215544%\"\n\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-3\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#0081DD\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#0589E0\" offset=\"18.55%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#11A0E9\" offset=\"47.85%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#25C5F8\" offset=\"84.03%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#2FD7FF\" offset=\"99.72%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\tx1=\"50.0693857%\"\n\t\t\t\t\t\t\t\t\t\ty1=\"83.9637181%\"\n\t\t\t\t\t\t\t\t\t\tx2=\"50.0693857%\"\n\t\t\t\t\t\t\t\t\t\ty2=\"-0.0504747626%\"\n\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#4E4D4C\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#5A5858\" offset=\"12.43%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#747273\" offset=\"46.61%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#848183\" offset=\"76.91%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#8A8789\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t<radialGradient\n\t\t\t\t\t\t\t\t\t\tcx=\"35.4086957%\"\n\t\t\t\t\t\t\t\t\t\tcy=\"34.4852355%\"\n\t\t\t\t\t\t\t\t\t\tfx=\"35.4086957%\"\n\t\t\t\t\t\t\t\t\t\tfy=\"34.4852355%\"\n\t\t\t\t\t\t\t\t\t\tr=\"66.2842391%\"\n\t\t\t\t\t\t\t\t\t\tid=\"radialGradient-5\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FDFDFC\" stopOpacity=\"0.8589\" offset=\"35.27%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#F6F6F2\" stopOpacity=\"0.7424\" offset=\"64.4%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#EAEBE0\" stopOpacity=\"0.635\" offset=\"91.26%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#E5E6D9\" stopOpacity=\"0.6\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t\t</radialGradient>\n\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\tx1=\"21.2472955%\"\n\t\t\t\t\t\t\t\t\t\ty1=\"18.1560041%\"\n\t\t\t\t\t\t\t\t\t\tx2=\"81.1871703%\"\n\t\t\t\t\t\t\t\t\t\ty2=\"81.6403727%\"\n\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" stopOpacity=\"0.5\" offset=\"99.99%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\tx1=\"37.2050099%\"\n\t\t\t\t\t\t\t\t\t\ty1=\"17.2946945%\"\n\t\t\t\t\t\t\t\t\t\tx2=\"63.1259484%\"\n\t\t\t\t\t\t\t\t\t\ty2=\"89.469351%\"\n\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-7\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" stopOpacity=\"0.3\" offset=\"99.99%\"></stop>\n\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t\t<g id=\"Symbols\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t<g id=\"logo_ovr\">\n\t\t\t\t\t\t\t\t\t\t<g id=\"Group\">\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M228.9,48.9 C226,44.9 222,41.6 217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 L117,96.6 L117,163.6 L228.9,210.5 C232.2,205.9 234,200.4 234,194.5 L234,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_viola_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-1`}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M106.5,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 C1.9,53.5 0,59.1 0,64.9 L0,194.4 C0,200.3 1.9,205.8 5.1,210.4 L117,163.5 L117,96.5 L117,0 C113.4,0 109.8,0.7 106.5,2.1 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_org_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-2`}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M117,163.5 L5.1,210.4 C8,214.4 11.9,217.6 16.6,219.6 L88.7,250.3 L106.2,257.8 C109.6,259.3 113.3,260 116.9,260 C120.6,260 124.2,259.3 127.6,257.8 L139.8,252.6 L217.2,219.6 C221.9,217.6 225.9,214.4 228.7,210.4 L117,163.5 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_blu_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-3`}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M198.7,67.6 C196.6,64.5 193.7,62 190.2,60.5 L164.7,49.2 L124.8,31.6 C122.3,30.5 119.7,30 117.1,30 C114.5,30 111.8,30.5 109.4,31.6 L46.1,59.5 L43.9,60.5 C40.4,62 37.5,64.5 35.4,67.6 C33,71.1 31.6,75.4 31.6,79.9 L31.6,179.6 C31.6,184.1 33,188.4 35.3,191.9 C37.4,195 40.3,197.5 43.7,199 L96.3,222.6 L109.1,228.4 C111.6,229.5 114.3,230.1 116.9,230.1 C119.5,230.1 122.2,229.5 124.7,228.4 L133.6,224.4 L190.1,199 C193.5,197.5 196.4,195 198.5,191.9 C200.9,188.4 202.2,184.1 202.2,179.6 L202.2,79.9 C202.5,75.4 201.1,71.1 198.7,67.6 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_hex-trasp_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-4`}\n\t\t\t\t\t\t\t\t\t\t\t\topacity=\"0.45\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'color-burn' }}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_sphere_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#radialGradient-5)`}\n\t\t\t\t\t\t\t\t\t\t\t\tcx=\"117\"\n\t\t\t\t\t\t\t\t\t\t\t\tcy=\"129.6\"\n\t\t\t\t\t\t\t\t\t\t\t\tr=\"55.2\"\n\t\t\t\t\t\t\t\t\t\t\t></circle>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 C113.4,0 109.8,0.7 106.4,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 L117,96.6 L228.9,49 C226,44.9 222,41.7 217.3,39.7 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_top_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-6`}\n\t\t\t\t\t\t\t\t\t\t\t\topacity=\"0.76\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'soft-light' }}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M228.9,48.9 L117,96.6 L117,163.6 L117,260 C120.7,260 124.3,259.3 127.7,257.8 L139.9,252.6 L217.3,219.6 C222,217.6 226,214.4 228.8,210.4 C232.1,205.8 233.9,200.3 233.9,194.4 L233.9,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_left_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-7`}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'soft-light' }}\n\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<h2>Join OVR, the decentralized infrastructure for the spatial web.</h2>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\tOVR merges physical and virtual world through Augmented Reality, creating a new dimension.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Get started\" className={`--purple`} onClick={handleNext}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"o-box\">\n\t\t\t\t\t\t\t<h1>First things first</h1>\n\t\t\t\t\t\t\t<div className=\"Signup__section --left\">\n\t\t\t\t\t\t\t\t{isWeb3Active ?\n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> Install Web3 provider\n\t\t\t\t\t\t\t\t\t</div> : \n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> Install Web3 provider\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{isWeb3Account ?\n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> Log in to Web3 provider\n\t\t\t\t\t\t\t\t\t</div> : \n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> Log in to Web3 provider\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{web3NetworkVersion ?\n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> Connect to {config.web3network === '3' ? 'Ropsten' : 'Mainnet'} network\n\t\t\t\t\t\t\t\t\t</div> : \n\t\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> Connect to {config.web3network === '3' ? 'Ropsten' : 'Mainnet'} network\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{isWeb3Active && web3NetworkVersion && isWeb3Account ? \n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className=\"Signup__section Signup__msg --positive\">Hurray! Click below to continue.</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Continue\" className={'--purple'} onClick={handleNext}></HexButton>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t\t<div className=\"Signup__section Signup__msg --negative\">Please install MetaMask and configure it on the correct network. Than reload this page.</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\t\t\turl=\"https://metamask.io\"\n\t\t\t\t\t\t\t\t\t\t\ttext=\"Install MetaMask\"\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={'--purple'}\n\t\t\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"o-box --left\">\n\t\t\t\t\t\t\t<h1>Signup</h1>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\tlabel=\"Email address\"\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tclassName=\"Signup__email_textfield\"\n\t\t\t\t\t\t\t\t\terror={userEmailInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={userEmailInputError !== false ? userEmailInputError : ''}\n\t\t\t\t\t\t\t\t\tvalue={userEmail}\n\t\t\t\t\t\t\t\t\tonFocus={updateUserEmail}\n\t\t\t\t\t\t\t\t\tonChange={updateUserEmail}\n\t\t\t\t\t\t\t\t\tonKeyUp={updateUserEmail}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section --small\">\n\t\t\t\t\t\t\t\tAccount info are stored privately off the blockchain. <Link to=\"#\">Read more</Link>.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext=\"Continue\"\n\t\t\t\t\t\t\t\t\tclassName={`--purple ${userEmailValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tonClick={emailRegexAndNext}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t{isSignupLoading && <CircularProgress />}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 3:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"o-box --left\">\n\t\t\t\t\t\t\t<h1>Signup</h1>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"Signup__userpass_textfield\"\n\t\t\t\t\t\t\t\t\terror={usernameInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={usernameInputError !== false ? usernameInputError : ''}\n\t\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\t\tonFocus={updateUsername}\n\t\t\t\t\t\t\t\t\tonChange={updateUsername}\n\t\t\t\t\t\t\t\t\tonKeyUp={updateUsername}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* <div className=\"Signup__section Signup__pass_cont\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"Signup__userpass_textfield\"\n\t\t\t\t\t\t\t\t\terror={usernameInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={usernameInputError !== false ? usernameInputError : ''}\n\t\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\t\tonFocus={updateUsername}\n\t\t\t\t\t\t\t\t\tonChange={updateUsername}\n\t\t\t\t\t\t\t\t\tonKeyUp={updateUsername}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t<div className=\"Signup__section --small\">\n\t\t\t\t\t\t\t\tAccount info are stored privately off the blockchain. <Link to=\"#\">Read more</Link>.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext=\"Signup\"\n\t\t\t\t\t\t\t\t\tclassName={`--purple ${isSignupLoading || usernameValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tonClick={handleSubscribe}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t{isSignupLoading && <CircularProgress />}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 4:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"o-box\">\n\t\t\t\t\t\t\t<h1>Signup completed</h1>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<CheckCircleIcon className=\"CheckCircleIcon\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\tYou've succesfully registered your account. From now on you can log in with Metamask by signing a secret code with one click.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* <div className=\"Signup__section Signup__pass_cont\">\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"Signup__userpass_textfield\"\n\t\t\t\t\t\t\t\t\terror={usernameInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\thelperText={usernameInputError !== false ? usernameInputError : ''}\n\t\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\t\tonFocus={updateUsername}\n\t\t\t\t\t\t\t\t\tonChange={updateUsername}\n\t\t\t\t\t\t\t\t\tonKeyUp={updateUsername}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t<div className=\"Signup__section --small\">\n\t\t\t\t\t\t\t\tAccount info are stored privately off the blockchain. <Link to=\"#\">Read more</Link>.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Log me in\" className=\"--purple\" onClick={handleLogin}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\t//\n\t// Return\n\t//\n\n\treturn <div className=\"Signup\">{getStepContent(activeStep)}</div>;\n};\n\nexport default withUserContext(Signup);\n","import React, { useState, useEffect } from 'react';\r\nimport './style.scss';\r\nimport { successNotification, warningNotification, dangerNotification } from '../../lib/notifications';\r\nimport { tokenBuyAddress } from '../../lib/contracts';\r\nimport { withUserContext } from '../../context/UserContext';\r\n\r\n// TODO Change this to the final address\r\nconst FIAT_BUY_URL = 'http://staging-credit-card.ovr.ai/buy';\r\n\r\n/**\r\n * Buy tokens component\r\n */\r\nconst BuyTokens = (context) => {\r\n\tconst { tokenBuy, dai, tether, usdc, setupComplete } = context.userProvider.state;\r\n\tconst { waitTx } = context.userProvider.actions;\r\n\tconst [perEth, setPerEth] = useState(0);\r\n\tconst [perUsd, setPerUsd] = useState(0);\r\n\tconst [tokensToBuy, setTokensToBuy] = useState(0);\r\n\t// Fiat variables\r\n\tconst [showCardForm, setShowCardForm] = useState(false);\r\n\tconst [cardNumber, setCardNumber] = useState(0);\r\n\tconst [cardExpiryMonth, setCardExpiryMonth] = useState(0);\r\n\tconst [cardExpiryYear, setCardExpiryYear] = useState(0);\r\n\tconst [cvv, setCvv] = useState(0);\r\n\tconst [zip, setZip] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (setupComplete) getPrices();\r\n\t}, [setupComplete]);\r\n\r\n\tconst requireSetup = () => {\r\n\t\tif (!setupComplete) {\r\n\t\t\twarningNotification('Metamask not detected', 'You must login to metamask to use this application');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/**\r\n\t * Sets the number of tokens you get per ether and the number of tokens for stablecoins\r\n\t */\r\n\tconst getPrices = async () => {\r\n\t\tif (!requireSetup()) return;\r\n\t\tconst receivedPerEth = Number(await tokenBuy.tokensPerEthAsync());\r\n\t\tconst receivedPerUsd = Number(await tokenBuy.tokensPerUsdAsync());\r\n\t\tsetPerEth(receivedPerEth);\r\n\t\tsetPerUsd(receivedPerUsd);\r\n\t};\r\n\r\n\t/**\r\n\t * To buy OVR ERC20 tokens from the TokenBuy contract.\r\n\t * When buying with stablecoins, you must first approve them which is done here automatically that's why you can expect to receive 2 transaction notifications from metamask\r\n\t * @param {String} type The type of payment chosen\r\n\t */\r\n\tconst buy = async (type) => {\r\n\t\tif (!requireSetup()) return;\r\n\t\tif (tokensToBuy <= 0) return warningNotification('Setup error', 'You must input more than 0 OVR tokens to buy');\r\n\t\ttry {\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'eth':\r\n\t\t\t\t\tconst value = tokensToBuy / perEth;\r\n\t\t\t\t\tconst tx = await tokenBuy.buyTokensWithEthAsync({\r\n\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\r\n\t\t\t\t\t});\r\n\t\t\t\t\tawait waitTx(tx);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'fiat':\r\n\t\t\t\t\tawait buyWithCard();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'usdt':\r\n\t\t\t\t\tawait buyWithToken(tether, 'usdt');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'usdc':\r\n\t\t\t\t\tawait buyWithToken(usdc, 'usdc');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'dai':\r\n\t\t\t\t\tawait buyWithToken(dai, 'dai');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\twarningNotification('Error', 'The currency selected is not correct');\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcontext.userProvider.actions.getOvrsOwned();\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('Error', e);\r\n\t\t\twarningNotification(\r\n\t\t\t\t'Error buying tokens',\r\n\t\t\t\t'There was an error processing your transaction refresh this page and try again',\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst buyWithCard = async () => {\r\n\t\t// tokensToBuy\r\n\t\tlet response;\r\n\t\tconst dataToSend = {\r\n\t\t\tamount: String(window.web3.fromWei(tokensToBuy / perUsd * 100)), // Must be in cents so 1 dollar is 100\r\n\t\t\taddressReceiver: window.web3.eth.defaultAccount,\r\n\t\t\tcard: {\r\n\t\t\t\tcardNum: cardNumber,\r\n\t\t\t\tcardExpiry: {\r\n\t\t\t\t\tmonth: cardExpiryMonth,\r\n\t\t\t\t\tyear: cardExpiryYear,\r\n\t\t\t\t},\r\n\t\t\t\tcvv,\r\n\t\t\t},\r\n\t\t\tbillingDetails: { zip },\r\n\t\t};\r\n\t\tconsole.log('data to send', dataToSend)\r\n\t\ttry {\r\n\t\t\tconst request = await fetch(FIAT_BUY_URL, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'content-type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(dataToSend),\r\n\t\t\t});\r\n\t\t\tresponse = await request.json();\r\n\t\t} catch (e) {\r\n\t\t\treturn dangerNotification(\r\n\t\t\t\t'Error processing the payment',\r\n\t\t\t\t'There was an error making the credit card purchase refresh the page and try again later',\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (!response) {\r\n\t\t\treturn dangerNotification('Error', 'No response received from the payment server');\r\n\t\t} else if (!response.ok) {\r\n\t\t\treturn dangerNotification('Error buying', response.msg);\r\n\t\t}\r\n\r\n\t\tsuccessNotification('Purchase successful', 'The purchase was completed successfully. It may take between 1 and 3 minutes to see your new tokens.');\r\n\t};\r\n\r\n\tconst buyWithToken = async (token, type) => {\r\n\t\tif (!requireSetup()) return;\r\n\t\tlet currentBalance = await token.balanceOfAsync(window.web3.eth.defaultAccount);\r\n\t\tlet currentAllowance = await token.allowanceAsync(window.web3.eth.defaultAccount, tokenBuyAddress);\r\n\t\t// Allow all the tokens\r\n\t\tif (currentBalance.greaterThan(currentAllowance)) {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await token.approveAsync(tokenBuyAddress, currentBalance);\r\n\t\t\t\tawait waitTx(response);\r\n\t\t\t} catch (e) {}\r\n\t\t}\r\n\t\t// Check if the user has enough balance to buy those tokens\r\n\t\tif (currentBalance.lessThan(tokensToBuy)) {\r\n\t\t\treturn warningNotification(\r\n\t\t\t\t'Not enough tokens',\r\n\t\t\t\t`You don't have enough to buy ${window.web3.fromWei(tokensToBuy)} OVR tokens`,\r\n\t\t\t);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tlet tx;\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase 'dai':\r\n\t\t\t\t\ttx = await tokenBuy.buyTokensWithDaiAsync(tokensToBuy, {\r\n\t\t\t\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'usdt':\r\n\t\t\t\t\ttx = await tokenBuy.buyTokensWithUsdtAsync(tokensToBuy, {\r\n\t\t\t\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'usdc':\r\n\t\t\t\t\ttx = await tokenBuy.buyTokensWithUsdcAsync(tokensToBuy, {\r\n\t\t\t\t\t\tgasPrice: window.web3.toWei(30, 'gwei'),\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\twarningNotification('Error', 'The currency selected is not correct');\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tawait waitTx(tx);\r\n\t\t} catch (e) {\r\n\t\t\treturn warningNotification('Error buying', `There was an error buying your OVR tokens`);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"BuyTokens__container\">\r\n\t\t\t<h1 className=\"full-size\">Buy OVR tokens</h1>\r\n\t\t\t<p className=\"BuyTokens__description full-size\">\r\n\t\t\t\tYou can pay with ETH, Tether, USDC and DAI.\r\n\t\t\t\t<br />\r\n\t\t\t\tThe current prices are:\r\n\t\t\t</p>\r\n\t\t\t<ul className=\"full-size\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t1 ETH gives you: <b>{perEth} OVR</b>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t1 Tether gives you: <b>{perUsd} OVR</b>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t1 USDC gives you: <b>{perUsd} OVR</b>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t1 DAI gives you: <b>{perUsd} OVR</b>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"number\"\r\n\t\t\t\tplaceholder=\"Tokens to buy...\"\r\n\t\t\t\tclassName=\"BuyTokens__input full-size\"\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t// Convert tokens to wei\r\n\t\t\t\t\tsetTokensToBuy(window.web3.toWei(e.target.value));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t<button className=\"HexButton --blue\" onClick={() => buy('eth')}>\r\n\t\t\t\tBuy with ETH\r\n\t\t\t</button>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"HexButton --blue\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetShowCardForm(!showCardForm);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tBuy with Dollars\r\n\t\t\t</button>\r\n\t\t\t<button className=\"HexButton --blue\" onClick={() => buy('usdt')}>\r\n\t\t\t\tBuy with Tether\r\n\t\t\t</button>\r\n\t\t\t<button className=\"HexButton --blue\" onClick={() => buy('usdc')}>\r\n\t\t\t\tBuy with USDC\r\n\t\t\t</button>\r\n\t\t\t<button className=\"HexButton --blue\" onClick={() => buy('dai')}>\r\n\t\t\t\tBuy with DAI\r\n\t\t\t</button>\r\n\t\t\t<p className=\"full-size\">\r\n\t\t\t\tNote: when paying with stablecoins you will receive 2 metamask notifications, simply approve them both to\r\n\t\t\t\tcomplete the payment.\r\n\t\t\t</p>\r\n\r\n\t\t\t<div className={showCardForm ? 'CardForm full-size' : 'hidden'}>\r\n\t\t\t\t<h2 className=\"card-title\">Card details</h2>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tplaceholder=\"Card number...\"\r\n\t\t\t\t\tclassName=\"card-number\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetCardNumber(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tplaceholder=\"Month\"\r\n\t\t\t\t\tclassName=\"expiration-month\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetCardExpiryMonth(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tplaceholder=\"Year\"\r\n\t\t\t\t\tclassName=\"expiration-year\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetCardExpiryYear(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tplaceholder=\"Cvv\"\r\n\t\t\t\t\tclassName=\"cvv\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetCvv(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tplaceholder=\"Postal code zip...\"\r\n\t\t\t\t\tclassName=\"zip\"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetZip(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<button className=\"HexButton --blue pay-with-card-button\" onClick={() => buy('fiat')}>\r\n\t\t\t\t\tBuy {tokensToBuy == 0 ? '' : window.web3.fromWei(tokensToBuy)} Tokens Paying {tokensToBuy == 0 ? '' :  '$'+window.web3.fromWei(tokensToBuy / perUsd)} USD\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withUserContext(BuyTokens);\r\n","import React from 'react';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\nimport Fade from '@material-ui/core/Fade';\nimport { useHistory } from 'react-router-dom';\n\nimport { readNotification, hideNotification } from '../../lib/api';\n\nconst Notification = (props) => {\n\tlet history = useHistory();\n\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\n\tconst [readed, setReaded] = React.useState(props.data.status !== 0);\n\tconst [hidden, setHidden] = React.useState(false);\n\tconst open = Boolean(anchorEl);\n\n\tconst handleClick = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\tconst handleGoTo = () => {\n\t\tsetAnchorEl(null);\n\t\thistory.push('/map/land/' + props.data.landUuid);\n\t\tprops.actions.toggleNotificationCenter();\n\t};\n\n\tconst formatTextContent = (content) => {\n\t\treturn content.replace(props.data.landSentence, \"<span>\" + props.data.landSentence +\"</span>\");\n\t}\n\n\tconst handleHide = () => {\n\t\tsetAnchorEl(null);\n\t\tsetHidden(true);\n\t\thideNotification(props.data.uuid).then(() => {});\n\t};\n\n\tconst setAsReaded = () => {\n\t\tsetReaded(true);\n\t\tif (!readed) {\n\t\t\treadNotification(props.data.uuid).then((response) => {\n\t\t\t\tprops.actions.setAsReaded(props.data.uuid);\n\t\t\t});\n\t\t}\n\t};\n\n\tconst returnContent = () => {\n\t\tlet content;\n\t\tif (!hidden) {\n\t\t\tcontent = (\n\t\t\t\t<div key={props.data.uuid} className={`Notification ${!readed ? '--new' : ''}`} onClick={setAsReaded}>\n\t\t\t\t\t<div className=\"Notification__body\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"Notification__content\"\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: formatTextContent(props.data.content) }}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div className=\"Notification__time\">\n\t\t\t\t\t\t\t<TimeCounter date_end={props.data.createdAt}></TimeCounter>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<IconButton aria-label=\"more\" aria-controls=\"long-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n\t\t\t\t\t\t<MoreIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Menu\n\t\t\t\t\t\tid=\"fade-menu\"\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\topen={open}\n\t\t\t\t\t\tonClose={handleClose}\n\t\t\t\t\t\tTransitionComponent={Fade}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem onClick={handleGoTo}>Go to OVRLand</MenuItem>\n\t\t\t\t\t\t<MenuItem onClick={handleHide}>Hide</MenuItem>\n\t\t\t\t\t</Menu>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tcontent = <></>;\n\t\t}\n\t\treturn content;\n\t};\n\treturn <>{returnContent()}</>;\n};\n\nexport default Notification;\n","import React, { useRef, useEffect, useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport Notification from '../Notification/Notification';\n\nimport { UserContext, withUserContext } from '../../context/UserContext';\nimport { readAllNotifications } from '../../lib/api';\n\nconst NotificationCenterContent = () => {\n\tconst { state, actions } = useContext(UserContext);\n\tconst wrapperRef = useRef(null);\n\n\tconst renderNotifications = () => {\n\t\tlet notifications;\n\t\tconsole.log('Notification Center this.context.state.user', state.user);\n\t\tif (\n\t\t\tstate.user.notifications !== null &&\n\t\t\tstate.user.notifications.content &&\n\t\t\tstate.user.notifications.content.length > 0\n\t\t) {\n\t\t\tnotifications = state.user.notifications.content.map((obj) => (\n\t\t\t\t<Notification\n\t\t\t\t\tkey={obj.uuid}\n\t\t\t\t\tdata={obj}\n\t\t\t\t\tactions={{\n\t\t\t\t\t\ttoggleNotificationCenter: actions.toggleShowNotificationCenter,\n\t\t\t\t\t\tsetAsReaded: actions.notification.setAsReaded,\n\t\t\t\t\t}}\n\t\t\t\t></Notification>\n\t\t\t));\n\t\t\treturn notifications;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\tThere is currently <br></br>no notifications to display.\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst setAllAsReaded = () => {\n\t\treadAllNotifications().then(() => {\n\t\t\tactions.notification.setAllAsReaded();\n\t\t\tactions.closeNotificationCenter();\n\t\t});\n\t};\n\n\tconst useOutsideAlerter = (ref) => {\n\t\tuseEffect(() => {\n\t\t\t/**\n\t\t\t * Alert if clicked on outside of element\n\t\t\t */\n\t\t\tfunction handleClickOutside(event) {\n\t\t\t\t// document.c Notifications__link\n\t\t\t\tif (\n\t\t\t\t\tref.current &&\n\t\t\t\t\t!ref.current.contains(event.target) &&\n\t\t\t\t\t!document.getElementById('js-open-notification-link').contains(event.target)\n\t\t\t\t) {\n\t\t\t\t\tactions.closeNotificationCenter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Bind the event listener\n\t\t\tdocument.addEventListener('mousedown', handleClickOutside);\n\t\t\treturn () => {\n\t\t\t\t// Unbind the event listener on clean up\n\t\t\t\tdocument.removeEventListener('mousedown', handleClickOutside);\n\t\t\t};\n\t\t}, [ref]);\n\t};\n\n\treturn (\n\t\t<div ref={wrapperRef} className=\"NotificationCenter\">\n\t\t\t{useOutsideAlerter(wrapperRef)}\n\t\t\t<div className=\"NotificationCenter__header\">\n\t\t\t\t<div className=\"NotificationCenter__title\">Notifications</div>\n\t\t\t\t<div className=\"NotificationCenter__toggle\"></div>\n\t\t\t</div>\n\t\t\t<div className=\"NotificationCenter__body\">{renderNotifications()}</div>\n\t\t\t<div className=\"NotificationCenter__footer\">\n\t\t\t\t<Link to={'#'} onClick={setAllAsReaded}>\n\t\t\t\t\tMark all as read\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst NotificationCenter = () => {\n\tconst { state } = useContext(UserContext);\n\tconst { showNotificationCenter: showNotificationCenter } = state;\n\n\tif (!showNotificationCenter) {\n\t\treturn null;\n\t}\n\n\treturn <NotificationCenterContent />;\n};\n\nexport default withUserContext(NotificationCenter);\n","import React, { Component } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport NotificationCenter from '../NotificationCenter/NotificationCenter';\n\nimport { UserContext, withUserContext } from '../../context/UserContext';\nimport Blockies from 'react-blockies';\n\nclass NavBar extends Component {\n\t// const { state, actions } = useContext(UserContext);\n\n\ttoggleNotificationCenter = (e) => {\n\t\te.preventDefault();\n\t\tthis.context.actions.toggleShowNotificationCenter(true);\n\t};\n\n\trender() {\n\t\tlet rightContainer = <div></div>;\n\t\tlet state = this.context.state;\n\t\tif (state.isLoggedIn === true && state.user !==null) {\n\t\t\trightContainer = (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"Navbar__right_container\">\n\t\t\t\t\t\t<Link to=\"/\" id=\"js-open-notification-link\" className=\"Notifications__link\" onClick={this.toggleNotificationCenter}>\n\t\t\t\t\t\t\t<div className=\"Notifications__icon\">\n\t\t\t\t\t\t\t\t<svg width=\"18px\" height=\"20px\" viewBox=\"0 0 18 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t<title>icons/icon_notification</title>\n\t\t\t\t\t\t\t\t\t<desc>Created with Sketch.</desc>\n\t\t\t\t\t\t\t\t\t<g id=\"Symbols\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t<g id=\"header\" transform=\"translate(-1243.000000, -25.000000)\">\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"icons/icon_notification\" transform=\"translate(1242.000000, 25.000000)\">\n\t\t\t\t\t\t\t\t\t\t\t\t<rect id=\"frame\" x=\"0\" y=\"0\" width=\"20\" height=\"20\"></rect>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M15.2321227,8.31973225 C12.6665198,2.77582053 11.3339364,0.670834332 7.14155795,0.75810667 C5.64837822,0.788892058 6.00782137,-0.327572512 4.86958472,0.0960796141 C3.73134807,0.51973174 4.70814468,1.13967602 3.54347011,2.098542 C0.278387518,4.79042761 0.57932975,7.2806548 2.09444733,13.2148914 C2.73261361,15.7150038 0.556266888,15.8375804 1.41746793,18.2603057 C2.04607157,20.0275 6.68001944,20.7669142 11.5713151,18.9443627 C16.4614858,17.1226586 19.5474093,13.506364 18.9190869,11.7400171 C18.0576046,9.31616205 16.3141084,10.6543379 15.2321227,8.31973225 Z M11.039463,17.4514126 C6.67242557,19.0788016 3.08305662,18.1221951 2.93146049,17.696566 C2.67017513,16.9628005 4.34110766,14.5146561 9.33449868,12.6545408 C14.3278897,10.7944255 17.113996,11.4838488 17.4050944,12.3037568 C17.5775033,12.7870027 15.4079067,15.824306 11.039463,17.4514126 Z M9.63656593,13.5041045 C7.35362378,14.354798 5.76594257,15.3277857 4.73992643,16.2036159 C5.46162528,16.8633835 6.81642784,17.0246537 8.16644907,16.521355 C9.88491359,15.8816403 10.9396177,14.4121323 10.5219549,13.2391807 C10.517736,13.225059 10.5098609,13.2129143 10.5045171,13.1985101 C10.2232627,13.2922785 9.93441437,13.3925428 9.63656593,13.5041045 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Fill-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#2B3034\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity=\"0.400000006\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(10.000000, 10.000000) scale(-1, 1) translate(-10.000000, -10.000000) \"\n\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Notifications__counter\">\n\t\t\t\t\t\t\t\t{state.user.notifications ? state.user.notifications.unreadedCount : 0}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\n\t\t\t\t\t\t<div className=\"Funds__container\">\n\t\t\t\t\t\t\t<Link to=\"/\" className=\"Funds__link\">\n\t\t\t\t\t\t\t\t<ValueCounter value={state.ovrsOwned}></ValueCounter>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link to=\"#\" className=\"Funds__buy HexButton --blue redeem-button\" onClick={() => {\n\t\t\t\t\t\t\t\tthis.context.actions.redeemLands()\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tRedeem Lands\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link to=\"/buy-tokens\" className=\"Funds__buy HexButton --blue\">\n\t\t\t\t\t\t\t\tBuy OVR\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Link to=\"/\" className=\"Profile__link\">\n\t\t\t\t\t\t\t<span>{state.user.username}</span>\n\t\t\t\t\t\t\t<div className=\"Profile__img-cont\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid=\"Profile__img\"\n\t\t\t\t\t\t\t\t\tclassName=\"Profile__img\"\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundImage: 'url(../../assets/img/auction-map.png)' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Blockies\n\t\t\t\t\t\t\t\t\t\tseed={state.user.uuid || 'wewewe'}\n\t\t\t\t\t\t\t\t\t\tsize={12}\n\t\t\t\t\t\t\t\t\t\tscale={3}\n\t\t\t\t\t\t\t\t\t\tcolor=\"#7521c8\"\n\t\t\t\t\t\t\t\t\t\tbgColor=\"#EC663C\"\n\t\t\t\t\t\t\t\t\t\tspotColor=\"#F9B426\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<NotificationCenter></NotificationCenter>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\trightContainer = (\n\t\t\t\t<div className=\"AuthLogin__link\">\n\t\t\t\t\t<NavLink className=\"NavBar__link General__link\" to=\"/login\">\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<NavLink className=\"NavBar__link General__link\" to=\"/signup\">\n\t\t\t\t\t\tSignup\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"NavBar\">\n\t\t\t\t<Link to=\"/\" className=\"Logo__link\">\n\t\t\t\t\t<div className=\"Icon NavBar__logo\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\twidth=\"234px\"\n\t\t\t\t\t\t\theight=\"260px\"\n\t\t\t\t\t\t\tviewBox=\"0 0 234 260\"\n\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<title>Group</title>\n\t\t\t\t\t\t\t<desc>Created with Sketch.</desc>\n\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\tx1=\"25.3511512%\"\n\t\t\t\t\t\t\t\t\ty1=\"49.9738242%\"\n\t\t\t\t\t\t\t\t\tx2=\"107.245785%\"\n\t\t\t\t\t\t\t\t\ty2=\"49.9738242%\"\n\t\t\t\t\t\t\t\t\tid=\"linearGradient-1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#6B32C1\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#C81D5E\" offset=\"99.6%\"></stop>\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t<linearGradient x1=\"0%\" y1=\"49.997576%\" x2=\"100.032735%\" y2=\"49.997576%\" id=\"linearGradient-2\">\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#EC663C\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#F9B426\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\tx1=\"52.9498211%\"\n\t\t\t\t\t\t\t\t\ty1=\"9.77958549%\"\n\t\t\t\t\t\t\t\t\tx2=\"46.413551%\"\n\t\t\t\t\t\t\t\t\ty2=\"97.6215544%\"\n\t\t\t\t\t\t\t\t\tid=\"linearGradient-3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#0081DD\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#0589E0\" offset=\"18.55%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#11A0E9\" offset=\"47.85%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#25C5F8\" offset=\"84.03%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#2FD7FF\" offset=\"99.72%\"></stop>\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\tx1=\"50.0693857%\"\n\t\t\t\t\t\t\t\t\ty1=\"83.9637181%\"\n\t\t\t\t\t\t\t\t\tx2=\"50.0693857%\"\n\t\t\t\t\t\t\t\t\ty2=\"-0.0504747626%\"\n\t\t\t\t\t\t\t\t\tid=\"linearGradient-4\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#4E4D4C\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#5A5858\" offset=\"12.43%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#747273\" offset=\"46.61%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#848183\" offset=\"76.91%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#8A8789\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t<radialGradient\n\t\t\t\t\t\t\t\t\tcx=\"35.4086957%\"\n\t\t\t\t\t\t\t\t\tcy=\"34.4852355%\"\n\t\t\t\t\t\t\t\t\tfx=\"35.4086957%\"\n\t\t\t\t\t\t\t\t\tfy=\"34.4852355%\"\n\t\t\t\t\t\t\t\t\tr=\"66.2842391%\"\n\t\t\t\t\t\t\t\t\tid=\"radialGradient-5\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FDFDFC\" stopOpacity=\"0.8589\" offset=\"35.27%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#F6F6F2\" stopOpacity=\"0.7424\" offset=\"64.4%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#EAEBE0\" stopOpacity=\"0.635\" offset=\"91.26%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#E5E6D9\" stopOpacity=\"0.6\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t</radialGradient>\n\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\tx1=\"21.2472955%\"\n\t\t\t\t\t\t\t\t\ty1=\"18.1560041%\"\n\t\t\t\t\t\t\t\t\tx2=\"81.1871703%\"\n\t\t\t\t\t\t\t\t\ty2=\"81.6403727%\"\n\t\t\t\t\t\t\t\t\tid=\"linearGradient-6\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" stopOpacity=\"0.5\" offset=\"99.99%\"></stop>\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\tx1=\"37.2050099%\"\n\t\t\t\t\t\t\t\t\ty1=\"17.2946945%\"\n\t\t\t\t\t\t\t\t\tx2=\"63.1259484%\"\n\t\t\t\t\t\t\t\t\ty2=\"89.469351%\"\n\t\t\t\t\t\t\t\t\tid=\"linearGradient-7\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" stopOpacity=\"0.3\" offset=\"99.99%\"></stop>\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t<g id=\"Symbols\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t<g id=\"logo_ovr\">\n\t\t\t\t\t\t\t\t\t<g id=\"Group\">\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M228.9,48.9 C226,44.9 222,41.6 217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 L117,96.6 L117,163.6 L228.9,210.5 C232.2,205.9 234,200.4 234,194.5 L234,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"h_viola_1_\"\n\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-1`}\n\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M106.5,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 C1.9,53.5 0,59.1 0,64.9 L0,194.4 C0,200.3 1.9,205.8 5.1,210.4 L117,163.5 L117,96.5 L117,0 C113.4,0 109.8,0.7 106.5,2.1 Z\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"h_org_1_\"\n\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-2`}\n\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M117,163.5 L5.1,210.4 C8,214.4 11.9,217.6 16.6,219.6 L88.7,250.3 L106.2,257.8 C109.6,259.3 113.3,260 116.9,260 C120.6,260 124.2,259.3 127.6,257.8 L139.8,252.6 L217.2,219.6 C221.9,217.6 225.9,214.4 228.7,210.4 L117,163.5 Z\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"h_blu_1_\"\n\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-3`}\n\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M198.7,67.6 C196.6,64.5 193.7,62 190.2,60.5 L164.7,49.2 L124.8,31.6 C122.3,30.5 119.7,30 117.1,30 C114.5,30 111.8,30.5 109.4,31.6 L46.1,59.5 L43.9,60.5 C40.4,62 37.5,64.5 35.4,67.6 C33,71.1 31.6,75.4 31.6,79.9 L31.6,179.6 C31.6,184.1 33,188.4 35.3,191.9 C37.4,195 40.3,197.5 43.7,199 L96.3,222.6 L109.1,228.4 C111.6,229.5 114.3,230.1 116.9,230.1 C119.5,230.1 122.2,229.5 124.7,228.4 L133.6,224.4 L190.1,199 C193.5,197.5 196.4,195 198.5,191.9 C200.9,188.4 202.2,184.1 202.2,179.6 L202.2,79.9 C202.5,75.4 201.1,71.1 198.7,67.6 Z\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"h_hex-trasp_1_\"\n\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-4`}\n\t\t\t\t\t\t\t\t\t\t\topacity=\"0.45\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'color-burn' }}\n\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\t\t\tid=\"h_sphere_1_\"\n\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#radialGradient-5)`}\n\t\t\t\t\t\t\t\t\t\t\tcx=\"117\"\n\t\t\t\t\t\t\t\t\t\t\tcy=\"129.6\"\n\t\t\t\t\t\t\t\t\t\t\tr=\"55.2\"\n\t\t\t\t\t\t\t\t\t\t></circle>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 C113.4,0 109.8,0.7 106.4,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 L117,96.6 L228.9,49 C226,44.9 222,41.7 217.3,39.7 Z\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"h_top_1_\"\n\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-6`}\n\t\t\t\t\t\t\t\t\t\t\topacity=\"0.76\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'soft-light' }}\n\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M228.9,48.9 L117,96.6 L117,163.6 L117,260 C120.7,260 124.3,259.3 127.7,257.8 L139.9,252.6 L217.3,219.6 C222,217.6 226,214.4 228.8,210.4 C232.1,205.8 233.9,200.3 233.9,194.4 L233.9,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"h_left_1_\"\n\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-7`}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'soft-light' }}\n\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t\t<div className=\"Navbar__link_container\">\n\t\t\t\t\t<NavLink className=\"NavBar__link\" to=\"/map/discover\">\n\t\t\t\t\t\tDiscover\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<NavLink className=\"NavBar__link\" to=\"/map/overview\">\n\t\t\t\t\t\tMy Assets\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<NavLink className=\"NavBar__link\" to=\"/profile\">\n\t\t\t\t\t\tProfile\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t{rightContainer}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nNavBar.contextType = UserContext;\n\nexport default withUserContext(NavBar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as moment from 'moment';\n\nimport { Breadcrumbs as MaterialBreadcrumbs } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\n\nconst Breadcrumbs = ({ previousLinks, currentPageLabel, className }) => {\n\tconst currentDatetimeStamp = moment().format('HH:mm, dddd, MMM D, YYYY');\n\n\treturn (\n\t\t<div className={`breadcrumbs ${className}`}>\n\t\t\t<MaterialBreadcrumbs\n\t\t\t\tclassName={'breadcrumbs--items'}\n\t\t\t\tseparator={<NavigateNextIcon fontSize=\"small\" />}\n\t\t\t\taria-label=\"breadcrumb\"\n\t\t\t>\n\t\t\t\t{previousLinks.map((a, index) => (\n\t\t\t\t\t<Link className=\"breadcrumbs--prevlink\" key={`prev_link_${index}`} color=\"inherit\" to={a.href}>\n\t\t\t\t\t\t{a.label}\n\t\t\t\t\t</Link>\n\t\t\t\t))}\n\t\t\t\t<span className=\"breadcrumbs--currentlabel\">{currentPageLabel}</span>\n\t\t\t</MaterialBreadcrumbs>\n\t\t\t<span className=\"breadcrumbs--datetime\">{currentDatetimeStamp}</span>\n\t\t</div>\n\t);\n};\n\nBreadcrumbs.propTypes = {\n\tpreviousLinks: PropTypes.arrayOf(PropTypes.shape({ href: PropTypes.string, label: PropTypes.string })),\n\tcurrentPageLabel: PropTypes.string,\n\tclassName: PropTypes.string,\n};\nBreadcrumbs.defaultProps = {\n\tpreviousLinks: [],\n\tcurrentPageLabel: 'undefined',\n\tclassName: '',\n};\nexport default Breadcrumbs;\n","import React, { useContext } from 'react';\n\nimport Breadcrumbs from './Breadcrumbs';\n\nimport { MapContext } from '../../context/MapContext';\nimport { useLocation } from 'react-router-dom';\n\nconst MapBreadcrumbs = () => {\n\tconst { state } = useContext(MapContext);\n\tconst { pathname } = useLocation();\n\n\tconst { hex_id, landData: data } = state;\n\n\tlet currentPageLabel = pathname.split('/')[2];\n\tcurrentPageLabel = currentPageLabel.charAt(0).toUpperCase() + currentPageLabel.slice(1);\n\n\tconst prevLinks = [];\n\n\tconst isAuction = data.marketStatus === 1;\n\tconst isUserRelated = data.userPerspective !== 0;\n\n\t// console.log('This is the data', data);\n\n\tif (currentPageLabel === 'Land') {\n\t\tconst dataIsEmpty = Object.keys(data).length === 0 && data.constructor === Object;\n\t\tif (dataIsEmpty) {\n\t\t\tcurrentPageLabel = '';\n\t\t} else {\n\t\t\tprevLinks.push({\n\t\t\t\thref: `${isUserRelated ? '/map/overview' : '/map/discover'}`,\n\t\t\t\tlabel: `${isUserRelated ? 'My ' : ''}${isAuction ? 'Auctions' : 'Lands'}`,\n\t\t\t});\n\n\t\t\tcurrentPageLabel = (data.name && data.name.sentence) || hex_id;\n\t\t}\n\t}\n\n\treturn <Breadcrumbs currentPageLabel={currentPageLabel} previousLinks={prevLinks} />;\n};\n\nexport default MapBreadcrumbs;\n","import React, { useContext, useState, useEffect } from 'react';\n// import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { NavigateNext, NavigateBefore } from '@material-ui/icons';\nimport { grey } from '@material-ui/core/colors';\n\nimport { MapContext } from '../../context/MapContext';\nimport { UserContext } from '../../context/UserContext';\n\nclass CircularList {\n\tconstructor(array, index) {\n\t\tthis.data = array || [];\n\t\tthis.index = index || 0;\n\t}\n\n\tgetCurrent() {\n\t\treturn this.data[((this.index % this.data.length) + this.data.length) % this.data.length];\n\t}\n\n\tgetNext() {\n\t\tconst nextIndex = (((this.index + 1) % this.data.length) + this.data.length) % this.data.length;\n\t\treturn this.data[nextIndex];\n\t}\n\tgetPrevious() {\n\t\tconst prevIndex = (((this.index - 1) % this.data.length) + this.data.length) % this.data.length;\n\t\treturn this.data[prevIndex];\n\t}\n\tmoveToNext() {\n\t\tconst nextIndex = (((this.index + 1) % this.data.length) + this.data.length) % this.data.length;\n\t\tthis.index = nextIndex;\n\t}\n\tmoveToPrevious() {\n\t\tconst prevIndex = (((this.index - 1) % this.data.length) + this.data.length) % this.data.length;\n\t\tthis.index = prevIndex;\n\t}\n}\n\nconst MapNavigationBox = () => {\n\tconst { state } = useContext(MapContext);\n\tconst { auctionList } = state;\n\n\tconst items = new CircularList(\n\t\tauctionList.map((item) => item.land),\n\t\t0,\n\t);\n\n\tconst [current, setCurrent] = useState(items.getCurrent());\n\tconst [previous, setPrevious] = useState(items.getPrevious());\n\tconst [next, setNext] = useState(items.getNext());\n\tconst [index, setIndex] = useState(0);\n\n\tuseEffect(() => {\n\t\titems.index = index;\n\t\tsetCurrent(items.getCurrent());\n\t\tsetPrevious(items.getPrevious());\n\t\tsetNext(items.getNext());\n\t});\n\n\tconst currentCity = current && current.address.city ? `${current.address.city}, ` : '';\n\n\treturn (\n\t\tauctionList.length > 0 && (\n\t\t\t<div className=\"map-navigation-box\">\n\t\t\t\t{previous && (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/map/land/${previous.uuid}`}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetIndex(index - 1);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<NavigateBefore fontSize=\"large\" style={{ color: grey[800] }} />\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t\t{current && (\n\t\t\t\t\t<div className=\"map-navigation-box--current\">\n\t\t\t\t\t\t<div className=\"map-navigation-box--current--name\">{current.sentenceId}</div>\n\t\t\t\t\t\t<div className=\"map-navigation-box--current--location\">\n\t\t\t\t\t\t\t{currentCity}\n\t\t\t\t\t\t\t{current.address.country}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{next && (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/map/land/${next.uuid}`}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetIndex(index + 1);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<NavigateNext fontSize=\"large\" style={{ color: grey[800] }} />\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t);\n};\n\nexport default MapNavigationBox;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport mapboxgl from 'mapbox-gl';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\nimport * as MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport geojson2h3 from 'geojson2h3';\nimport * as h3 from 'h3-js';\nimport config from '../../lib/config';\nimport { MapContext, withMapContext } from '../../context/MapContext';\n\nimport Breadcrumbs from '../Breadcrumbs/MapBreadcrumbs';\nimport MapNavigationBox from '../MapNavigationBox/MapNavigationBox';\n\nclass Map extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.hexagons = this.hexagons.bind(this);\n\t\tthis.initMap = this.initMap.bind(this);\n\t\tthis.waitMapStyle = this.waitMapStyle.bind(this);\n\t}\n\n\trenderHexes(hexagons) {\n\t\tconst geojson = geojson2h3.h3SetToFeatureCollection(Object.keys(hexagons), (hex) => ({ value: hexagons[hex] }));\n\t\tconst sourceId = 'h3-hexes';\n\t\tconst layerId = `${sourceId}-layer`;\n\t\tlet source = this.map.getSource(sourceId);\n\n\t\tif (!source) {\n\t\t\tthis.map.addSource(sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: geojson,\n\t\t\t});\n\t\t\tthis.map.addLayer({\n\t\t\t\tid: layerId,\n\t\t\t\tsource: sourceId,\n\t\t\t\ttype: 'fill',\n\t\t\t\tinteractive: false,\n\t\t\t\tpaint: {\n\t\t\t\t\t'fill-outline-color': 'rgba(255,255,255,1)',\n\t\t\t\t},\n\t\t\t});\n\t\t\tsource = this.map.getSource(sourceId);\n\t\t}\n\n\t\t// Update the geojson data\n\t\tsource.setData(geojson);\n\n\t\t// Update the layer paint properties, using the current config values\n\t\tthis.map.setPaintProperty(layerId, 'fill-opacity', config.map.fillOpacity);\n\n\t\tthis.map.setPaintProperty(layerId, 'fill-color', {\n\t\t\tproperty: 'value',\n\t\t\tstops: [\n\t\t\t\t[0, config.map.colorScale[0]],\n\t\t\t\t[0.5, config.map.colorScale[0]],\n\t\t\t\t[1, config.map.colorScale[0]],\n\t\t\t],\n\t\t});\n\t}\n\n\thexagons() {\n\t\tvar center = this.map.getCenter();\n\n\t\tconst centerHex = h3.geoToH3(center['lat'], center['lng'], 12);\n\t\tconst kRing = h3.kRing(centerHex, 20);\n\n\t\tvar data = Object.assign({}, kRing);\n\n\t\tvar newData = Object.keys(data).reduce(function (obj, key) {\n\t\t\tobj[data[key]] = Math.random();\n\t\t\treturn obj;\n\t\t}, {});\n\n\t\treturn newData;\n\t}\n\n\t//\n\t// Mapbox init\n\t//\n\n\tinitMap() {\n\t\tconst state = this.context.state;\n\n\t\tmapboxgl.accessToken =\n\t\t\t'pk.eyJ1IjoibWFudG9uZWxsaSIsImEiOiJjam9hNmljdHkwY2Y0M3JuejJrenhmMWE1In0.dC9b8oqj24iiSfm-qbNqmw';\n\t\tthis.map = new mapboxgl.Map({\n\t\t\tcontainer: 'Map',\n\t\t\tcenter: [config.map.lng, config.map.lat],\n\t\t\tzoom: config.map.zoom,\n\t\t\tstyle: 'mapbox://styles/mapbox/light-v9',\n\t\t});\n\n\t\t// geocoder setup\n\t\tvar geocoder = new MapboxGeocoder({\n\t\t\taccessToken: mapboxgl.accessToken,\n\t\t\tmarker: false,\n\t\t});\n\t\tthis.map.addControl(geocoder);\n\n\t\t// geocoder init\n\t\tthis.map.on('load', () => {\n\t\t\tgeocoder.on('result', (ev) => {\n\t\t\t\tthis.map.flyTo({\n\t\t\t\t\tcenter: [ev.result.geometry.coordinates[0], ev.result.geometry.coordinates[1]],\n\t\t\t\t\tzoom: 18,\n\t\t\t\t\tspeed: 1.8,\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.map.addLayer({\n\t\t\t\tid: 'mapbox-mapbox-satellite',\n\t\t\t\tsource: { type: 'raster', url: 'mapbox://mapbox.satellite', tileSize: 256 },\n\t\t\t\ttype: 'raster',\n\t\t\t});\n\t\t\tthis.map.setLayoutProperty('mapbox-mapbox-satellite', 'visibility', 'none');\n\n\t\t\tvar switchy = document.getElementById('js-map-view');\n\t\t\tif (switchy) {\n\t\t\t\tswitchy.addEventListener('click', () => {\n\t\t\t\t\tif (switchy.className === 'on') {\n\t\t\t\t\t\tswitchy.setAttribute('class', 'off');\n\t\t\t\t\t\tthis.map.setLayoutProperty('mapbox-mapbox-satellite', 'visibility', 'none');\n\t\t\t\t\t\tswitchy.innerHTML = 'Satellite';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswitchy.setAttribute('class', 'on');\n\t\t\t\t\t\tthis.map.setLayoutProperty('mapbox-mapbox-satellite', 'visibility', 'visible');\n\t\t\t\t\t\tswitchy.innerHTML = 'Streets';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// View single point\n\t\t\tif (state.onSingleView === true) {\n\t\t\t\tthis.focusMap(state.hex_id, state.isAuction);\n\t\t\t}\n\t\t});\n\n\t\t// Show grid on high zoom\n\t\tconst zoomThreshold = 17;\n\t\tlet that = this;\n\t\tthis.map.on('moveend', function () {\n\t\t\tif (that.map.getZoom() > zoomThreshold) {\n\t\t\t\tthat.renderHexes(that.hexagons());\n\t\t\t}\n\t\t});\n\n\t\t// Click hexagon\n\t\tthis.map.on('click', function (e) {\n\t\t\t// change focus of map\n\t\t\tconst hex_id = h3.geoToH3(e.lngLat['lat'], e.lngLat['lng'], 12);\n\t\t\tthat.focusMap(hex_id, state.isAuction);\n\t\t\tthat.props.history.push(`/map/land/${hex_id}`);\n\t\t\tconst landSelectedEvent = new CustomEvent('land-selected', {\n\t\t\t\tdetail: {\n\t\t\t\t\thex_id,\n\t\t\t\t},\n\t\t\t});\n\t\t\tdocument.dispatchEvent(landSelectedEvent);\n\t\t});\n\t}\n\n\t//\n\t// Focus on single point\n\t// Used when accessing directly to a single land view or when clicked on a land\n\t//\n\tfocusMap(hex_id, isAuction) {\n\t\t// Hex to geo\n\t\tlet hexCenterCoordinates = h3.h3ToGeo(hex_id);\n\t\t// Move map focus\n\t\tthis.map.flyTo({\n\t\t\tcenter: [hexCenterCoordinates[1], hexCenterCoordinates[0]],\n\t\t\tzoom: 18,\n\t\t\tspeed: 1.8,\n\t\t});\n\t\t// Plot graphic point into map\n\t\tlet singleHexGeojson = geojson2h3.h3ToFeature(hex_id);\n\n\t\tconst selected_sourceId = 'h3-hexes_selected';\n\t\tconst selected_layerId = `${selected_sourceId}-layer`;\n\t\tlet selected_source = this.map.getSource(selected_sourceId);\n\t\tif (!selected_source) {\n\t\t\tthis.map.addSource(selected_sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: singleHexGeojson,\n\t\t\t});\n\t\t\tthis.map.addLayer({\n\t\t\t\tid: selected_layerId,\n\t\t\t\tsource: selected_sourceId,\n\t\t\t\ttype: 'fill',\n\t\t\t\tinteractive: false,\n\t\t\t\tpaint: {\n\t\t\t\t\t'fill-outline-color': '#4A90E2',\n\t\t\t\t\t'fill-color': 'rgba(74,144,226,0.20)',\n\t\t\t\t\t'fill-opacity': 1,\n\t\t\t\t},\n\t\t\t});\n\t\t\tselected_source = this.map.getSource(selected_sourceId);\n\t\t}\n\n\t\t// Update the h3Geo data\n\t\tselected_source.setData(singleHexGeojson);\n\t\tthis.map.setLayoutProperty(selected_layerId, 'visibility', 'visible');\n\n\t\t// Plot pin\n\t\tif (isAuction) {\n\t\t\t// Add pin\n\t\t\t// TODO\n\t\t\t// let el = document.createElement('div');\n\t\t\t// el.className = `Map__ping_container --open`;\n\t\t\t// el.insertAdjacentHTML('beforeend', '<div class=\"c-ping-layer c-ping-layer-1\"></div>');\n\t\t\t// new mapboxgl.Marker(el)\n\t\t\t//     .setLngLat([hexCenterCoordinates[1], hexCenterCoordinates[0]])\n\t\t\t//     .addTo(this.map);\n\t\t}\n\t}\n\n\t//\n\t// Plot auctions from MapContext data\n\t//\n\n\tplotAuctions() {\n\t\t// Delete all displayed markers\n\t\tvar paras = document.getElementsByClassName('Map__ping_container');\n\t\twhile (paras[0]) {\n\t\t\tparas[0].parentNode.removeChild(paras[0]);\n\t\t}\n\n\t\t// Add all markers on map\n\t\tfor (const auction of this.context.state.auctionList) {\n\t\t\tlet statusClassName = 0;\n\t\t\tswitch (auction.status) {\n\t\t\t\tcase 0:\n\t\t\t\t\tstatusClassName = '--open';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tstatusClassName = '--outbidded';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tstatusClassName = '--open';\n\t\t\t}\n\n\t\t\t// Add pin\n\t\t\tlet el = document.createElement('div');\n\t\t\tel.className = `Map__ping_container ${statusClassName}`;\n\t\t\tel.insertAdjacentHTML('beforeend', '<div class=\"c-ping-layer c-ping-layer-1\"></div>');\n\t\t\tnew mapboxgl.Marker(el)\n\t\t\t\t.setLngLat([auction.land.address.geocenter[1], auction.land.address.geocenter[0]])\n\t\t\t\t.addTo(this.map);\n\t\t}\n\t}\n\n\t//\n\t// Used for safely load the map\n\t//\n\n\twaitMapStyle() {\n\t\tif (!this.map.isStyleLoaded()) {\n\t\t\tsetTimeout(this.waitMapStyle, 200);\n\t\t} else {\n\t\t\tthis.focusMap(this.context.state.hex_id, this.context.state.isAuction);\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.initMap();\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\n\t\tif (this.context.state.onSingleView !== nextContext.state.onSingleView) {\n\t\t\treturn true;\n\t\t}\n\t\t// if (this.context.state.auctionList.map((a) => a.uuid) === nextContext.state.auctionList.map((a) => a.uuid)) {\n\t\t// \treturn false;\n\t\t// }\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst state = this.context.state;\n\t\tif (state.onSingleView === true) {\n\t\t\tthis.waitMapStyle();\n\t\t} else {\n\t\t\tthis.plotAuctions();\n\t\t\tthis.map.flyTo({\n\t\t\t\tcenter: [config.map.lng, config.map.lat],\n\t\t\t\tzoom: config.map.zoom,\n\t\t\t\tspeed: 1.8,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Breadcrumbs />\n\t\t\t\t<div id=\"Map\" className=\"Map\">\n\t\t\t\t\t<div id=\"js-map-view\">Satellite</div>\n\t\t\t\t\t<MapNavigationBox />\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nMap.contextType = MapContext;\n\nMap.propTypes = {\n\tlocation: PropTypes.object,\n\tmapProvider: PropTypes.object,\n};\n\nexport default withMapContext(Map);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass Footer extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Footer\">\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container\">\n\t\t\t\t\t\t<Link to=\"/\" className=\"Logo__footer_link\">\n\t\t\t\t\t\t\t<div className=\"Footer__logo Icon\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\twidth=\"234px\"\n\t\t\t\t\t\t\t\t\theight=\"260px\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 234 260\"\n\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<title>Group</title>\n\t\t\t\t\t\t\t\t\t<desc>Created with Sketch.</desc>\n\t\t\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\t\tx1=\"25.3511512%\"\n\t\t\t\t\t\t\t\t\t\t\ty1=\"49.9738242%\"\n\t\t\t\t\t\t\t\t\t\t\tx2=\"107.245785%\"\n\t\t\t\t\t\t\t\t\t\t\ty2=\"49.9738242%\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-1\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#6B32C1\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#C81D5E\" offset=\"99.6%\"></stop>\n\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t\t<linearGradient x1=\"0%\" y1=\"49.997576%\" x2=\"100.032735%\" y2=\"49.997576%\" id=\"linearGradient-2\">\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#EC663C\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#F9B426\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\t\tx1=\"52.9498211%\"\n\t\t\t\t\t\t\t\t\t\t\ty1=\"9.77958549%\"\n\t\t\t\t\t\t\t\t\t\t\tx2=\"46.413551%\"\n\t\t\t\t\t\t\t\t\t\t\ty2=\"97.6215544%\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-3\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#0081DD\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#0589E0\" offset=\"18.55%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#11A0E9\" offset=\"47.85%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#25C5F8\" offset=\"84.03%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#2FD7FF\" offset=\"99.72%\"></stop>\n\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\t\tx1=\"50.0693857%\"\n\t\t\t\t\t\t\t\t\t\t\ty1=\"83.9637181%\"\n\t\t\t\t\t\t\t\t\t\t\tx2=\"50.0693857%\"\n\t\t\t\t\t\t\t\t\t\t\ty2=\"-0.0504747626%\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#4E4D4C\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#5A5858\" offset=\"12.43%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#747273\" offset=\"46.61%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#848183\" offset=\"76.91%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#8A8789\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t\t<radialGradient\n\t\t\t\t\t\t\t\t\t\t\tcx=\"35.4086957%\"\n\t\t\t\t\t\t\t\t\t\t\tcy=\"34.4852355%\"\n\t\t\t\t\t\t\t\t\t\t\tfx=\"35.4086957%\"\n\t\t\t\t\t\t\t\t\t\t\tfy=\"34.4852355%\"\n\t\t\t\t\t\t\t\t\t\t\tr=\"66.2842391%\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"radialGradient-5\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FDFDFC\" stopOpacity=\"0.8589\" offset=\"35.27%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#F6F6F2\" stopOpacity=\"0.7424\" offset=\"64.4%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#EAEBE0\" stopOpacity=\"0.635\" offset=\"91.26%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#E5E6D9\" stopOpacity=\"0.6\" offset=\"100%\"></stop>\n\t\t\t\t\t\t\t\t\t\t</radialGradient>\n\t\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\t\tx1=\"21.2472955%\"\n\t\t\t\t\t\t\t\t\t\t\ty1=\"18.1560041%\"\n\t\t\t\t\t\t\t\t\t\t\tx2=\"81.1871703%\"\n\t\t\t\t\t\t\t\t\t\t\ty2=\"81.6403727%\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-6\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" stopOpacity=\"0.5\" offset=\"99.99%\"></stop>\n\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t\t<linearGradient\n\t\t\t\t\t\t\t\t\t\t\tx1=\"37.2050099%\"\n\t\t\t\t\t\t\t\t\t\t\ty1=\"17.2946945%\"\n\t\t\t\t\t\t\t\t\t\t\tx2=\"63.1259484%\"\n\t\t\t\t\t\t\t\t\t\t\ty2=\"89.469351%\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"linearGradient-7\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" offset=\"0%\"></stop>\n\t\t\t\t\t\t\t\t\t\t\t<stop stopColor=\"#FFFFFF\" stopOpacity=\"0.3\" offset=\"99.99%\"></stop>\n\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t\t\t<g id=\"Symbols\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t<g id=\"logo_ovr\">\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Group\">\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M228.9,48.9 C226,44.9 222,41.6 217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 L117,96.6 L117,163.6 L228.9,210.5 C232.2,205.9 234,200.4 234,194.5 L234,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_viola_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-1`}\n\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M106.5,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 C1.9,53.5 0,59.1 0,64.9 L0,194.4 C0,200.3 1.9,205.8 5.1,210.4 L117,163.5 L117,96.5 L117,0 C113.4,0 109.8,0.7 106.5,2.1 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_org_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-2`}\n\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M117,163.5 L5.1,210.4 C8,214.4 11.9,217.6 16.6,219.6 L88.7,250.3 L106.2,257.8 C109.6,259.3 113.3,260 116.9,260 C120.6,260 124.2,259.3 127.6,257.8 L139.8,252.6 L217.2,219.6 C221.9,217.6 225.9,214.4 228.7,210.4 L117,163.5 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_blu_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-3`}\n\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M198.7,67.6 C196.6,64.5 193.7,62 190.2,60.5 L164.7,49.2 L124.8,31.6 C122.3,30.5 119.7,30 117.1,30 C114.5,30 111.8,30.5 109.4,31.6 L46.1,59.5 L43.9,60.5 C40.4,62 37.5,64.5 35.4,67.6 C33,71.1 31.6,75.4 31.6,79.9 L31.6,179.6 C31.6,184.1 33,188.4 35.3,191.9 C37.4,195 40.3,197.5 43.7,199 L96.3,222.6 L109.1,228.4 C111.6,229.5 114.3,230.1 116.9,230.1 C119.5,230.1 122.2,229.5 124.7,228.4 L133.6,224.4 L190.1,199 C193.5,197.5 196.4,195 198.5,191.9 C200.9,188.4 202.2,184.1 202.2,179.6 L202.2,79.9 C202.5,75.4 201.1,71.1 198.7,67.6 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_hex-trasp_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-4`}\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity=\"0.45\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'color-burn' }}\n\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t<circle\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_sphere_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#radialGradient-5)`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcx=\"117\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcy=\"129.6\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tr=\"55.2\"\n\t\t\t\t\t\t\t\t\t\t\t\t></circle>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 C113.4,0 109.8,0.7 106.4,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 L117,96.6 L228.9,49 C226,44.9 222,41.7 217.3,39.7 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_top_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-6`}\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity=\"0.76\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'soft-light' }}\n\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M228.9,48.9 L117,96.6 L117,163.6 L117,260 C120.7,260 124.3,259.3 127.7,257.8 L139.9,252.6 L217.3,219.6 C222,217.6 226,214.4 228.8,210.4 C232.1,205.8 233.9,200.3 233.9,194.4 L233.9,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"h_left_1_\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill={`url(${window.location}#linearGradient-7`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ mixBlendMode: 'soft-light' }}\n\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<div className=\"Footer__copyright\">Over Holding Srl  2020</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container --large\">\n\t\t\t\t\t\tOver Holding Srl <br></br>\n\t\t\t\t\t\tViale Tricesimo n. 200<br></br>\n\t\t\t\t\t\t33100 Udine - Italy<br></br>\n\t\t\t\t\t\tVat no. IT02945890305\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container\">\n\t\t\t\t\t\t<div className=\"Footer__title\">Legal</div>\n\t\t\t\t\t\t<Link to=\"/\" className=\"Footer__link\">\n\t\t\t\t\t\t\tTerms of Service\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to=\"/\" className=\"Footer__link\">\n\t\t\t\t\t\t\tPrivacy\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container\">\n\t\t\t\t\t\t<div className=\"Footer__title\">Community</div>\n\t\t\t\t\t\t<Link to=\"/\" className=\"Footer__link\">\n\t\t\t\t\t\t\tTelegram\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to=\"/\" className=\"Footer__link\">\n\t\t\t\t\t\t\tMedium\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to=\"/\" className=\"Footer__link\">\n\t\t\t\t\t\t\tFacebook\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Footer;\n","import React, { useContext, useEffect } from 'react';\n\nimport { UserContext, withUserContext } from '../../context/UserContext';\nimport { getToken, removeToken } from '../../lib/auth';\n\n/**\n * BannerNotification component\n */\n\nconst BannerNotification = () => {\n\tconst context = useContext(UserContext);\n\tconst firstAfterSignup = getToken('firstAfterSignup');\n\n\tuseEffect(() => {\n\t\tif (firstAfterSignup) {\n\t\t\tremoveToken('firstAfterSignup');\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t{firstAfterSignup && (\n\t\t\t\t<div className=\"BannerNotification\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"--positive\">\n\t\t\t\t\t\t\t<div className=\"BannerNotification__title\">Welome to OVR </div>\n\t\t\t\t\t\t\t<div className=\"BannerNotification__content\">\n\t\t\t\t\t\t\t\tYou can now own your land, customized it, top up your OVR wallet\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default withUserContext(BannerNotification);\n","import React from 'react';\nimport './App.scss';\nimport 'react-notifications-component/dist/theme.css';\n\n// import Home from './views/Home/Home';\nimport Discover from './views/Discover/Discover';\nimport Overview from './views/Overview/Overview';\nimport Land from './views/Land/Land';\nimport Profile from './views/Profile/Profile';\nimport Login from './views/Login/Login';\nimport Signup from './views/Signup/Signup';\nimport BuyTokens from './views/BuyTokens/BuyTokens';\n\nimport NavBar from './components/NavBar/NavBar';\nimport Map from './components/Map/Map';\nimport Footer from './components/Footer/Footer';\nimport BannerNotification from './components/BannerNotification/BannerNotification';\n\nimport ReactNotification from 'react-notifications-component';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { MapProvider, MapContext } from './context/MapContext';\nimport { UserProvider, UserContext } from './context/UserContext';\n\nfunction App() {\n\treturn (\n\t\t<UserProvider>\n\t\t\t<MapProvider>\n\t\t\t\t<UserContext.Consumer>\n\t\t\t\t\t{(userValue) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<MapContext.Consumer>\n\t\t\t\t\t\t\t\t{(mapValue) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Router>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"App\">\n\t\t\t\t\t\t\t\t\t\t\t\t<ReactNotification />\n\t\t\t\t\t\t\t\t\t\t\t\t<NavBar></NavBar>\n\t\t\t\t\t\t\t\t\t\t\t\t<BannerNotification></BannerNotification>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/\" component={Map}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <Route path=\"/\" exact component={Home}></Route> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Redirect to=\"/map/discover\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/discover\" component={Discover}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/overview\" component={Overview}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/profile\" component={Profile}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/land/:id\" component={Land}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/login\" component={Login}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/signup\" component={Signup}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/buy-tokens\" component={BuyTokens}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t\t\t\t\t\t<Footer></Footer>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Router>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</MapContext.Consumer>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</UserContext.Consumer>\n\t\t\t</MapProvider>\n\t\t</UserProvider>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA',\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (response.status === 404 || (contentType !==null && contentType.indexOf('javascript') === -1)) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}