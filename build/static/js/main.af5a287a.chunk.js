(this.webpackJsonpmarketplace=this.webpackJsonpmarketplace||[]).push([[0],{196:function(e,t,a){e.exports=a(362)},201:function(e,t,a){},202:function(e,t,a){},204:function(e,t,a){},233:function(e,t,a){},296:function(e,t){},298:function(e,t){},329:function(e,t,a){},331:function(e,t,a){},362:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),s=a.n(i),l=(a(201),a(202),a(203),a(7)),o=(a(204),a(31)),c=a(13),u=a(14),d=a(20),m=a(19),p=a(18),y=Object(n.createContext)(),v=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={onSingleView:!1,hex_id:"8c81326dda43dff",isAuction:!1,isUserRelated:!1,activeBidOverlay:!1,activeMintOverlay:!1,activeSellOverlay:!1,activeBuyOfferOverlay:!1,activeBuyOverlay:!1,auctionList:[],landData:{}},n.changeHexId=n.changeHexId.bind(Object(d.a)(n)),n.disableSingleView=n.disableSingleView.bind(Object(d.a)(n)),n.changeAuctionList=n.changeAuctionList.bind(Object(d.a)(n)),n.changeActiveBidOverlay=n.changeActiveBidOverlay.bind(Object(d.a)(n)),n.changeActiveMintOverlay=n.changeActiveMintOverlay.bind(Object(d.a)(n)),n.changeActiveSellOverlay=n.changeActiveSellOverlay.bind(Object(d.a)(n)),n.changeActiveBuyOfferOverlay=n.changeActiveBuyOfferOverlay.bind(Object(d.a)(n)),n.changeLandData=n.changeLandData.bind(Object(d.a)(n)),n.changeActiveBuyOverlay=n.changeActiveBuyOverlay.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"changeHexId",value:function(e){this.setState({onSingleView:!0,hex_id:e,isAuction:!0})}},{key:"changeLandData",value:function(e){this.setState({landData:e})}},{key:"disableSingleView",value:function(){this.setState({onSingleView:!1})}},{key:"changeAuctionList",value:function(e){this.setState({auctionList:e})}},{key:"changeActiveBidOverlay",value:function(e){this.setState({activeBidOverlay:e})}},{key:"changeActiveMintOverlay",value:function(e){this.setState({activeMintOverlay:e})}},{key:"changeActiveSellOverlay",value:function(e){this.setState({activeSellOverlay:e})}},{key:"changeActiveBuyOfferOverlay",value:function(e){this.setState({activeBuyOfferOverlay:e})}},{key:"changeActiveBuyOverlay",value:function(e){this.setState({activeBuyOverlay:e})}},{key:"render",value:function(){return r.a.createElement(y.Provider,{value:{state:this.state,actions:{changeHexId:this.changeHexId,changeActiveBidOverlay:this.changeActiveBidOverlay,changeActiveMintOverlay:this.changeActiveMintOverlay,changeAuctionList:this.changeAuctionList,disableSingleView:this.disableSingleView,changeActiveSellOverlay:this.changeActiveSellOverlay,changeActiveBuyOfferOverlay:this.changeActiveBuyOfferOverlay,changeLandData:this.changeLandData,changeActiveBuyOverlay:this.changeActiveBuyOverlay},overviewList:this.overviewList}},this.props.children)}}]),a}(n.Component);function f(e){return function(t){Object(m.a)(n,t);var a=Object(p.a)(n);function n(){return Object(c.a)(this,n),a.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(y.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t.props,{mapProvider:Object(o.a)({},a)}))}))}}]),n}(r.a.Component)}var b=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"TextCounter"},r.a.createElement("div",{className:"TextCounter__text"}," ",this.props.value," "),r.a.createElement("div",{className:"TextCounter__label"}," ",this.props.label," "))}}]),a}(n.Component),h=a(78),E=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"LandName"},this.props.value&&r.a.createElement(b,{value:this.props.value,label:"OVR"}),r.a.createElement("div",{className:"LandName__name"},r.a.createElement(h.Textfit,{mode:"single",max:17},this.props.name.sentence)),r.a.createElement("div",{className:"LandName__location"}," ",this.props.location," "))}}]),a}(n.Component),_=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ValueCounter"},r.a.createElement("div",{className:"ValueCounter__icon"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"18px",height:"20px",viewBox:"0 0 18 20",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"109.444%",y1:"100%",x2:"0%",y2:"0%",id:"prefix__a"},r.a.createElement("stop",{stopColor:"#EB663B",offset:"0%"}),r.a.createElement("stop",{stopColor:"#F9B326",offset:"100%"}))),r.a.createElement("g",{transform:"translate(-1)",stroke:"url(".concat(window.location,"#prefix__a)"),fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M18.5 5.246v9.462a2.01 2.01 0 01-1.21 1.842l-5.624 2.41-.886.38a1.984 1.984 0 01-1.56 0l-1.274-.546L2.71 16.55a2.01 2.01 0 01-1.21-1.842V5.246A2.01 2.01 0 012.721 3.4l.218-.091L9.23.656a1.973 1.973 0 011.538 0l3.974 1.674L17.279 3.4A2.01 2.01 0 0118.5 5.246z"}),r.a.createElement("path",{d:"M15.958 5.47a1.472 1.472 0 00-.62-.518l-1.86-.817-2.914-1.28a1.4 1.4 0 00-1.128 0L4.822 4.881l-.16.07a1.472 1.472 0 00-.62.517 1.582 1.582 0 00-.275.896V13.6c0 .327.099.638.273.892.153.224.363.405.614.517l3.84 1.716.934.417a1.4 1.4 0 001.144 0l.65-.29 4.124-1.843c.251-.112.461-.293.614-.517.174-.254.273-.565.273-.892V6.365c0-.329-.1-.64-.275-.896z"}),r.a.createElement("path",{d:"M6.033 10c0-2.16 1.776-3.912 3.967-3.912 2.19 0 3.967 1.752 3.967 3.912S12.19 13.912 10 13.912c-2.19 0-3.967-1.752-3.967-3.912z"}))))),r.a.createElement("div",{className:"ValueCounter__value"}," ",this.props.value))}}]),a}(n.Component),g=a(168),O=a.n(g),w=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"TimeCounter"},r.a.createElement(O.a,{local:!0,fromNow:!0},this.props.date_end))}}]),a}(n.Component),x=a(9),N=function(e){var t=e.user_perspective,a=e.background_image,n=e.name,i=e.value,s=e.location,l=e.date_end,o=n.sentence,c=n.hex,u="--open",d="OPEN";switch(t){case 1:u="--open",d="OPEN";break;case 2:u="--bestbid",d="BEST BID";break;case 3:u="--outbidded",d="OUTBIDDED";break;default:u="--open",d="OPEN"}return r.a.createElement("div",{className:"AuctionCard ".concat(u)},r.a.createElement(x.b,{to:"/map/land/".concat(c)},r.a.createElement("div",{className:"AuctionCard__header",style:{backgroundImage:a}},r.a.createElement("div",{className:"c-status-badge AuctionCard__status"},d),r.a.createElement("div",{className:"AuctionCard__ping_container"},r.a.createElement("div",{className:"c-ping-layer c-ping-layer-1"}," "),r.a.createElement("div",{className:"c-ping-layer c-ping-layer-2"}," "),r.a.createElement("div",{className:"c-ping-layer c-ping-layer-3"}," "),r.a.createElement("div",{className:"c-ping-layer c-ping-layer-4"}," ")))),r.a.createElement("div",{className:"AuctionCard__body"},r.a.createElement(E,{name:{sentence:o,hex:c},location:s}),r.a.createElement("div",{className:"AuctionCard__bottom_line"},r.a.createElement("div",{className:"o-half"},r.a.createElement(_,{value:i})),r.a.createElement("div",{className:"o-half"},r.a.createElement(w,{time:20,signature:"mins",date_end:l})))))},C=function(e){return r.a.createElement(x.b,{to:"/map/land/".concat(e.name.hex),className:"LandCard"},r.a.createElement("div",{className:"LandCard__header",style:{backgroundImage:e.background_image}}),r.a.createElement("div",{className:"LandCard__cont"},r.a.createElement("div",{className:"LandCard__body"},r.a.createElement(E,{name:e.name,location:e.location}),r.a.createElement("div",{className:"LandCard__body__footer"},r.a.createElement(w,{time:20,signature:"mins",date_end:e.date_end})))))},k=a(41),T=a.n(k),L={web3network:"3",apis:{hostname:"http://47.254.135.104:8003/api/v1",socket:"ws://47.254.135.104:8003/cable"},map:{lat:46.0922495,lng:13.2312417,zoom:0,fillOpacity:.3,colorScale:["#5F39BE","#ffffff","#1a0731","#EC663C","#0081DD"]}};function S(e){var t=T.a.cloneDeep(e);return T.a.isArray(t)?T.a.map(t,S):T.a.isString(t)?t:(t=T.a.mapKeys(t,(function(e,t){return T.a.camelCase(t)})),T.a.mapValues(t,(function(e){return T.a.isPlainObject(e)?S(e):T.a.isArray(e)?T.a.map(e,S):e})))}Array.prototype.readNotification=function(e){var t=this.find((function(t){return t.uuid===e}));t&&(t.status=1)},Array.prototype.readAllNotifications=function(){this.forEach((function(e){e.status=1}))};var j=a(59),A=a.n(j);function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token",t=arguments.length>1?arguments[1]:void 0;A.a.set(e,t)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return A.a.get(e)}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";A.a.remove(e)}function P(){return void 0!==function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userToken";return A.a.get(e)}()}var I=a(112),D=a.n(I);function W(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",t=arguments.length>1?arguments[1]:void 0;A.a.set(e,t)}("user",e),R({url:"/user/profile",method:"GET"},{},null)}function R(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{headers:{"Content-Type":"application/json"}},n=M("userToken");return n&&(D.a.defaults.headers.common.Authorization=n),new Promise((function(n,r){("POST"===e.method?D.a.post("".concat(L.apis.hostname).concat(e.url),t,a):D.a.get("".concat(L.apis.hostname).concat(e.url),{params:t})).then((function(e){n(S(e))})).catch((function(e){r(e),console.log(e)}))}))}var G=a(68),V=a.n(G);function U(){G.store.addNotification({title:"Connection error",message:"Check your internet connection or try again later",type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}function H(e,t){G.store.addNotification({title:e,message:t,type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}function Y(e,t){G.store.addNotification({title:e,message:t,type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}function Z(e,t){G.store.addNotification({title:e,message:t,type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}var z=a(410),q=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(0),o=Object(l.a)(s,2),c=o[0],u=o[1],d=Object(n.useState)(1),m=Object(l.a)(d,2),p=m[0],v=m[1],f=Object(n.useState)(""),b=Object(l.a)(f,2),h=b[0],E=b[1],_=Object(n.useState)(0),g=Object(l.a)(_,2),O=g[0],w=g[1],x=Object(n.useState)(1),k=Object(l.a)(x,2),T=k[0],L=k[1],S=Object(n.useContext)(y).actions;function j(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return R({url:"/auctions/open",method:"GET"},{sort:e,page:t},null)})(null,e).then((function(e){S.changeAuctionList(e.data.auctions),console.log(e.data.auctions),e.data.auctions.length>0?(i(e.data.auctions.map((function(e){return r.a.createElement(N,{key:e.land.uuid,value:e.land.auction.currentWorth,background_image:"url(".concat(e.land.mapTileUrl),name:{sentence:e.land.sentenceId,hex:e.land.uuid},location:e.land.address.full,market_status:e.land.marketStatus,user_perspective:e.land.userPerspective,date_end:e.land.auction.closeAt})}))),u(e.data.numberOfPages)):i(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},"There is currently no ",r.a.createElement("div",{className:"c-status-badge"},"OPEN")," auction \u26a1\ufe0f"),r.a.createElement("div",{className:"c-dialog-sub-title"},"Browse the OVRLands: search for a location or click a point in the map and mint a land now.")))})).catch((function(){U()}))}function A(e){console.log("load land"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return R({url:"/lands",method:"GET"},{sort:e,page:t},null)}(null,e).then((function(e){e.data.lands.length>0?(E(e.data.lands.map((function(e){return r.a.createElement(C,{key:e.uuid,url:"/",value:e.currentWorth,background_image:"url(".concat(e.mapTileUrl),name:{sentence:e.sentenceId,hex:e.uuid},location:e.address.full,date_end:e.auction.closeAt})}))),w(e.data.numberOfPages)):E(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},"There is currently no lands to display"),r.a.createElement("div",{className:"c-dialog-sub-title"},"Browse the aviable OVRLands: mint a land and own it now.")))})).catch((function(e){console.log(e),U()}))}return Object(n.useEffect)((function(){S.disableSingleView(),j(),A()}),[]),r.a.createElement("div",{className:"Overview"},r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},"Auctions")),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-auction-list"},a),r.a.createElement("div",{className:"o-pagination"},c>1&&r.a.createElement(z.a,{count:c,page:p,onChange:function(e,t){j(t),v(t)}}))),r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},"Closed Auctions")),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-land-list"},h),r.a.createElement("div",{className:"o-pagination"},O>1&&r.a.createElement(z.a,{count:O,page:T,onChange:function(e,t){A(t),L(t)}}))))},J=(a(233),function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(0),o=Object(l.a)(s,2),c=o[0],u=o[1],d=Object(n.useState)(1),m=Object(l.a)(d,2),p=m[0],v=m[1],f=Object(n.useState)(""),b=Object(l.a)(f,2),h=b[0],E=b[1],_=Object(n.useState)(0),g=Object(l.a)(_,2),O=g[0],w=g[1],x=Object(n.useState)(1),k=Object(l.a)(x,2),T=k[0],L=k[1],S=Object(n.useState)(!0),j=Object(l.a)(S,2),A=j[0],F=j[1],M=Object(n.useContext)(y).actions;function B(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return R({url:"/user/auctions",method:"GET"},{sort:e,page:t},null)})(null,e).then((function(e){console.log(e),!0===e.data.result?(M.changeAuctionList(e.data.auctions),e.data.auctions.length>0?(i(e.data.auctions.map((function(e){return r.a.createElement(N,{key:e.land.uuid,value:e.land.auction.currentWorth,background_image:"url(".concat(e.land.mapTileUrl),name:{sentence:e.land.sentenceId,hex:e.land.uuid},location:e.land.address.full,market_status:e.land.marketStatus,user_perspective:e.land.userPerspective,date_end:e.land.auction.closeAt})}))),u(e.data.numberOfPages)):i(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},"There is currently no ",r.a.createElement("div",{className:"c-status-badge"},"OPEN")," auction \u26a1\ufe0f"),r.a.createElement("div",{className:"c-dialog-sub-title"},"Browse the OVRLands: search for a location or click a point in the map and mint a land now.")))):F(!1)})).catch((function(e){console.error(e),U()}))}function P(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return R({url:"/user/lands",method:"GET"},{sort:e,page:t},null)})(null,e).then((function(e){!0===e.data.result&&(e.data.lands.length>0?(E(e.data.lands.map((function(e){return r.a.createElement(C,{key:e.uuid,url:"/",value:e.currentWorth,background_image:"url(".concat(e.mapTileUrl),name:{sentence:e.sentenceId,hex:e.uuid},location:e.address.full,icon:{url:"./assets/icons/icon_deal.png",isSvg:!1},date_end:e.auction.closeAt})}))),w(e.data.numberOfPages)):E(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},"There is currently no lands to display"),r.a.createElement("div",{className:"c-dialog-sub-title"},"Browse the aviable OVRLands: mint a land and own it now."))))})).catch((function(e){console.error(e),U()}))}return Object(n.useEffect)((function(){M.disableSingleView(),B(),P()}),[]),A?r.a.createElement("div",{className:"Overview"},r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},"Auctions")),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-auction-list"},a),r.a.createElement("div",{className:"o-pagination"},c>1&&r.a.createElement(z.a,{count:c,page:p,onChange:function(e,t){B(t),v(t)}}))),r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},"My OVR Lands")),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-land-list"},h),r.a.createElement("div",{className:"o-pagination"},O>1&&r.a.createElement(z.a,{count:O,page:T,onChange:function(e,t){P(t),L(t)}})))):r.a.createElement("div",{className:"Overview"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},"You have to log in to visit My Assets",r.a.createElement("span",{role:"img","aria-label":"Cool dude"},"\ud83d\ude0e")),r.a.createElement("div",{className:"c-dialog-sub-title"},"Browse your OVRLands and ongoing Auctions. Login now."))))}),K=a(5),$=a.n(K),X=a(8),Q=a(180),ee=a(126),te=a.n(ee),ae=a(60),ne="0x312Fc53504A20154C681d9d57606aA2E8B48ee7b",re="0x208191dd0DD9C296765BE384303f6E4577F8A81E",ie=[{constant:!0,inputs:[],name:"usdcToken",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"isPauser",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renouncePauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"account",type:"address"}],name:"addPauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"usdtToken",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tokensPerUsd",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"daiToken",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ovrToken",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tokensPerEth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address payable",name:"_newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_ovrToken",type:"address"},{internalType:"address",name:"_daiToken",type:"address"},{internalType:"address",name:"_usdcToken",type:"address"},{internalType:"address",name:"_usdtToken",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"ovrPurchased",type:"uint256"},{indexed:!1,internalType:"uint256",name:"coinsPaid",type:"uint256"},{indexed:!1,internalType:"string",name:"coinUsed",type:"string"}],name:"TokenPurchase",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!1,inputs:[{internalType:"uint256",name:"_tokensPerEth",type:"uint256"},{internalType:"uint256",name:"_tokensPerUsd",type:"uint256"}],name:"setTokenPrices",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"buyTokensWithEth",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_tokensToBuy",type:"uint256"}],name:"buyTokensWithUsdt",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_tokensToBuy",type:"uint256"}],name:"buyTokensWithUsdc",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_tokensToBuy",type:"uint256"}],name:"buyTokensWithDai",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_tokenToExtract",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"extractTokens",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"extractEth",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"sendTokensCreditCard",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_tokensToBuy",type:"uint256"}],name:"calculateHowManyTokensYouCanBuyWithEth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],se=[{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeSub",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeDiv",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeMul",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeAdd",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"tokens",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenOwner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"tokens",type:"uint256"}],name:"Approval",type:"event"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"tokenOwner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"tokenOwner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokens",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokens",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokens",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],le=[{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"isPauser",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"activeLands",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastLandOfferId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renouncePauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"account",type:"address"}],name:"addPauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"landOfferIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"extractableTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"initialLandBid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ovrLand",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"landOffers",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"by",type:"address"},{internalType:"uint256",name:"group",type:"uint256"},{internalType:"uint256",name:"landId",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"expirationDate",type:"uint256"},{internalType:"enum ICO.LandOfferState",name:"state",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"cashbacks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"ownedLands",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"auctionLandDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ovrToken",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"contractCreationDate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lands",outputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"landToBuy",type:"uint256"},{internalType:"uint256",name:"paid",type:"uint256"},{internalType:"uint256",name:"lastBidTimestamp",type:"uint256"},{internalType:"enum ICO.AuctionState",name:"state",type:"uint8"},{internalType:"uint256",name:"cashbackAmount",type:"uint256"},{internalType:"bool",name:"isCashbackRedeemed",type:"bool"},{internalType:"uint256",name:"sellPrice",type:"uint256"},{internalType:"bool",name:"onSale",type:"bool"},{internalType:"bool",name:"hasBeenRedeemed",type:"bool"},{internalType:"uint256",name:"lastUpdateTimestamp",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address payable",name:"_newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"landsOnSaleOrSold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"groupCounters",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ovrToken",type:"address"},{internalType:"address",name:"_ovrLand",type:"address"},{internalType:"uint256",name:"_initialLandBid",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"lastBidder",type:"address"},{indexed:!0,internalType:"uint256",name:"landToBuy",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"AuctionStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBidder",type:"address"},{indexed:!0,internalType:"address",name:"oldBidder",type:"address"},{indexed:!0,internalType:"uint256",name:"landToBuy",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"AuctionBid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"WonLand",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"LandSaleStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"CashbackRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"}],name:"LandSaleCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"by",type:"address"},{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"uint256",name:"expirationDate",type:"uint256"}],name:"LandOfferCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"},{indexed:!0,internalType:"address",name:"oldOwner",type:"address"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"LandSold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"landOfferId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"}],name:"LandOfferDeclined",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"}],name:"LandOfferCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!1,inputs:[{internalType:"uint256",name:"_time",type:"uint256"}],name:"setAuctionLandDuration",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"participateInAuction",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"redeemWonLand",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"redeemCashback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_tokenToExtract",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"extractTokens",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"bool",name:"_onSale",type:"bool"}],name:"putLandOnSale",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"buyLand",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_expirationDate",type:"uint256"}],name:"offerToBuyLand",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"cancelBuyOffer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landOfferId",type:"uint256"},{internalType:"bool",name:"_accept",type:"bool"}],name:"respondToBuyOffer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"checkMyLandOffers",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"checkWonLands",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"checkEpoch",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getActiveLands",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getLandsOnSaleOrSold",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"getLandOffers",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],oe=[{constant:!0,inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"account",type:"address"}],name:"removeMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"account",type:"address"}],name:"addMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"OVRLandID",type:"uint256"}],name:"mintLand",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!1,inputs:[{internalType:"uint256",name:"OVRLandID",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"setOVRLandURI",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],ce=a(317),ue=function(e){return new Promise((function(t,a){return e((function(e,n){e?a(e):t(n)}))}))},de=Object(n.createContext)(),me=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).loginUser=function(e,t){n.setState({isLoggedIn:!0,token:e,user:t}),F("userToken",e),F("userUuid",t),n.liveSocket()},n.logOutUser=function(){n.setState({isLoggedIn:!1,token:null,user:{uuid:null}}),B("userToken"),B("userUuid")},n.waitTx=function(e){return new Promise((function(t,a){var n=60,r=window.web3.eth.filter("latest").watch(function(){var i=Object(X.a)($.a.mark((function i(s,l){var o;return $.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!s){i.next=4;break}return r.stopWatching(),r=null,i.abrupt("return",a(s));case 4:return n<=0&&(r.stopWatching(),r=null,console.warn("!! Tx expired !!"),a("Transaction not confirmed after ".concat(n," blocks"))),i.next=7,ue((function(e){return window.web3.eth.getBlock(l,e)}));case 7:if(o=i.sent,--n,!(o.transactions.indexOf(e)>-1)){i.next=13;break}return r.stopWatching(),r=null,i.abrupt("return",t());case 13:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}())}))},n.setupWeb3=function(){var e=Object(X.a)($.a.mark((function e(t){var a,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("render setupweb3"),"undefined"===typeof(a=window.ethereum)){e.next=14;break}return e.prev=3,e.next=6,a.enable();case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",H("Metamask permission error","You must accept the connection request to continue"));case 11:window.web3=new te.a(a),e.next=19;break;case 14:if("undefined"===typeof window.web3){e.next=18;break}window.web3=new te.a(window.web3.currentProvider),e.next=19;break;case 18:return e.abrupt("return",H("Metamask not detected","You must login to metamask to use this application"));case 19:return window.web3.eth.defaultAccount=window.web3.eth.accounts[0],r=window.web3.eth.defaultAccount.toLowerCase(),e.next=23,n.handleCentralizedLogin(r,t);case 23:return e.next=25,n.refreshWhenAccountsChanged();case 25:return e.next=27,n.updateBalanceWhenChanged();case 27:return e.next=29,n.setupContracts();case 29:return e.next=31,n.getOvrsOwned();case 31:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),n.lightSetupWeb3=Object(X.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.web3.eth.defaultAccount=window.web3.eth.accounts[0],e.next=3,n.refreshWhenAccountsChanged();case 3:return e.next=5,n.updateBalanceWhenChanged();case 5:return e.next=7,n.setupContracts();case 7:return e.next=9,n.getOvrsOwned();case 9:case"end":return e.stop()}}),e)}))),n.setupContracts=Object(X.a)($.a.mark((function e(){var t,a,r,i,s,l,o;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.web3.eth.contract(se).at("0x2896b548d6AeC66389205Ac7c569f6ED06B8dAf0"),a=window.web3.eth.contract(se).at("0x13a4CcdA281A304DCd87010A4Ad3f7e68258A9FA"),r=window.web3.eth.contract(se).at("0x47D535B1E67A8cC070E150F0177e8ca99Cbf8134"),i=window.web3.eth.contract(ie).at(ne),s=window.web3.eth.contract(se).at("0xaBeb208e1b394c24962B51C301aE6D6dF9a89BFE"),l=window.web3.eth.contract(le).at(re),o=window.web3.eth.contract(oe).at("0x958b3760dFc71C70D8155FD0A5e710554A2F6b1A"),n.setState({dai:Object(ae.promisifyAll)(t),tether:Object(ae.promisifyAll)(a),usdc:Object(ae.promisifyAll)(r),tokenBuy:Object(ae.promisifyAll)(i),ovr:Object(ae.promisifyAll)(s),ico:Object(ae.promisifyAll)(l),ovr721:Object(ae.promisifyAll)(o),setupComplete:!0});case 8:case"end":return e.stop()}}),e)}))),n.refreshWhenAccountsChanged=function(){console.log("init refresh"),window.ethereum.on("accountsChanged",(function(e){console.log("this.state.isLoggedIn",n.state.isLoggedIn),n.state.isLoggedIn&&(console.log("isLoggedin"),n.logOutUser(),n.setupWeb3())}))},n.updateBalanceWhenChanged=Object(X.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setInterval((function(){return n.getOvrsOwned()}),1e3);case 1:case"end":return e.stop()}}),e)}))),n.getOvrsOwned=Object(X.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.state.ovr&&n.state.setupComplete&&window.web3.eth.defaultAccount)){e.next=9;break}return e.t0=String,e.t1=window.web3,e.next=5,n.state.ovr.balanceOfAsync(window.web3.eth.defaultAccount);case 5:e.t2=e.sent,e.t3=e.t1.fromWei.call(e.t1,e.t2),t=(0,e.t0)(e.t3),n.setState({ovrsOwned:t});case 9:case"end":return e.stop()}}),e)}))),n.handleUserSignMessage=function(e,t,a){return new Promise((function(r,i){return window.web3.personal.sign(window.web3.fromUtf8("I am signing my one-time nonce: ".concat(t)),e,(function(t,r){if(t)return i(t);n.handleAuthenticate(e,r,a)}))}))},n.handleAuthenticate=function(e,t,a){(function(e,t){return R({url:"/authentication/login",method:"POST"},{public_address:e,signed_nonce:t},null)})(e,t).then((function(e){!0===e.data.result?(n.loginUser(e.data.token,e.data.user),a&&a()):Y("Unable to login",e.data.errors[0].message)}))},n.redeemLands=Object(X.a)($.a.mark((function e(){var t,a,r,i,s,l,o;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.state.ico.getActiveLandsAsync();case 2:t=e.sent,a=0,r=0;case 5:if(!(r<t.length)){e.next=28;break}return e.next=8,n.state.ico.landsAsync(t[r]);case 8:return i=e.sent,e.next=11,n.state.ico.auctionLandDurationAsync();case 11:if(s=e.sent,l=Math.trunc(Date.now()/1e3),o=l-i[3],!(2!==parseInt(i[4])&&i[0]===window.web3.eth.defaultAccount&&o>=s)){e.next=25;break}return e.prev=16,e.next=19,n.state.ico.redeemWonLandAsync(t[r],{gasPrice:window.web3.toWei(30,"gwei")});case 19:a++,e.next=25;break;case 22:return e.prev=22,e.t0=e.catch(16),e.abrupt("return",Y("Error redeeming the land ".concat(t[r]),e.t0.message));case 25:r++,e.next=5;break;case 28:0===a?H("No lands to redeem","You don't have any lands to redeem for now. Check in a few hours when the auction time is reached."):Z("Your lands are on their way!","You'll receive your lands in a few minutes");case 29:case"end":return e.stop()}}),e,null,[[16,22]])}))),n.approveErc721Token=function(){var e=Object(X.a)($.a.mark((function e(t,a){var r,i;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=parseInt(t,16),a&&(r=t),e.next=4,n.state.ovr721.getApprovedAsync(r);case 4:if(e.sent!==re){e.next=7;break}return e.abrupt("return",!0);case 7:return e.prev=7,e.next=10,n.state.ovr721.approveAsync(re,r,{gasPrice:window.web3.toWei(30,"gwei")});case 10:return i=e.sent,e.next=13,n.waitTx(i);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(7),Y("Error approving the OVR land token",e.t0.message),e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,a){return e.apply(this,arguments)}}(),n.approveOvrTokens=Object(X.a)($.a.mark((function e(){var t,a,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.state.ovr.balanceOfAsync(window.web3.eth.defaultAccount);case 2:return t=e.sent,e.next=5,n.state.ovr.allowanceAsync(window.web3.eth.defaultAccount,re);case 5:if(a=e.sent,!t.greaterThan(a)){e.next=19;break}return e.prev=7,e.next=10,n.state.ovr.approveAsync(re,t,{gasPrice:window.web3.toWei(30,"gwei")});case 10:return r=e.sent,e.next=13,n.waitTx(r);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(7),Y("Approval error","There was an error processing the approval of your tokens try again in a few minutes"),e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[7,15]])}))),n.buyLand=function(){var e=Object(X.a)($.a.mark((function e(t){var a,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t,16),e.next=3,n.state.ico.buyLandAsync(a,{gasPrice:window.web3.toWei(30,"gwei")});case 3:return r=e.sent,e.next=6,n.waitTx(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.putLandOnSale=function(){var e=Object(X.a)($.a.mark((function e(t,a,r){var i,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=parseInt(t,16),e.prev=1,e.next=4,n.state.ico.putLandOnSaleAsync(i,a,r,{gasPrice:window.web3.toWei(30,"gwei")});case 4:return s=e.sent,e.next=7,n.waitTx(s);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",Y("Error listing the land on sale",e.t0.message));case 12:Z("Successful land listing","Your land has been listed successfully");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.toggleShowNotificationCenter=function(){n.setState({showNotificationCenter:!n.state.showNotificationCenter})},n.closeNotificationCenter=function(){n.setState({showNotificationCenter:!1})},n.setNotificationAsReaded=function(e){var t=n.state.user.notifications.content,a=n.state.user.notifications.unreadedCount;t.readNotification(e),a-=1,n.setState({user:Object(o.a)(Object(o.a)({},n.state.user),{},{notifications:Object(o.a)(Object(o.a)({},n.state.user.notifications),{},{unreadedCount:a,content:t})})})},n.setAllNotificationsAsReaded=function(){var e=n.state.user.notifications.content;e.readAllNotifications(),n.setState({user:Object(o.a)(Object(o.a)({},n.state.user),{},{notifications:Object(o.a)(Object(o.a)({},n.state.user.notifications),{},{unreadedCount:0,content:e})})})},n.liveSocket=function(){ce.createConsumer(L.apis.socket).subscriptions.create({channel:"UsersChannel",user_uuid:n.state.user.uuid},{received:function(e){var t=e.notification,a=e.balance,r=e.unreaded_count;n.setState({user:Object(o.a)(Object(o.a)({},n.state.user),{},{balance:a,notifications:Object(o.a)(Object(o.a)({},n.state.user.notifications),{},{unreadedCount:r,content:[t].concat(Object(Q.a)(n.state.user.notifications.content))})})})}})},n.offerToBuyLand=function(){var e=Object(X.a)($.a.mark((function e(t,a,r){var i,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=parseInt(t,16),e.next=3,n.state.ico.offerToBuyLandAsync(i,a,r,{gasPrice:window.web3.toWei(30,"gwei")});case 3:return s=e.sent,e.next=6,n.waitTx(s);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.getOffersToBuyLand=function(){var e=Object(X.a)($.a.mark((function e(t){var a,r,i,s,l,o,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t,16),e.next=3,n.state.ico.getLandOffersAsync(a);case 3:return r=e.sent,i=[],e.t0=String,e.next=8,n.state.ico.groupCountersAsync(a);case 8:e.t1=e.sent,s=(0,e.t0)(e.t1),l=0;case 11:if(!(l<r.length)){e.next=22;break}return o=r[l],e.next=15,n.state.ico.landOffersAsync(String(o));case 15:if(c=e.sent,parseInt(c[2])==s){e.next=18;break}return e.abrupt("continue",19);case 18:i.push(c);case 19:l++,e.next=11;break;case 22:return i=i.map((function(e){return{id:String(e[0]),by:e[1],group:parseInt(e[2]),landId:String(e[3]),price:String(window.web3.fromWei(e[4])),timestamp:String(e[5]),expirationDate:String(e[6]),state:String(e[7])}})),e.abrupt("return",i);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.cancelBuyOffer=function(){var e=Object(X.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.state.ico.cancelBuyOfferAsync(t,{gasPrice:window.web3.toWei(30,"gwei")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.declineBuyOffer=function(){var e=Object(X.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.state.ico.respondToBuyOfferAsync(t,!1,{gasPrice:window.web3.toWei(30,"gwei")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.acceptBuyOffer=function(){var e=Object(X.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.state.ico.respondToBuyOfferAsync(t,!0,{gasPrice:window.web3.toWei(30,"gwei")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={isLoggedIn:!1,showNotificationCenter:!1,token:null,user:{uuid:null},ovrsOwned:0,dai:null,tether:null,usdc:null,tokenBuy:null,ovr:null,ico:null,ovr721:null,setupComplete:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;P()&&(this.lightSetupWeb3(),W().then((function(t){!0===t.data.result?(e.setState({user:t.data.user}),e.liveSocket()):(Y("Session expired","Please login again"),e.logOutUser())})).catch((function(){U()})),this.loginUser(M("userToken"),M("userUuid")))}},{key:"handleCentralizedLogin",value:function(e,t){var a=this;(function(e){return R({url:"/user/nonce",method:"GET"},{public_address:e},null)})(e).then((function(n){if(!0===n.data.result){var r=n.data.user.nonce;a.handleUserSignMessage(e,r,t)}else Y("Unable to login",n.data.errors)}))}},{key:"render",value:function(){return r.a.createElement(de.Provider,{value:{state:this.state,actions:{loginUser:this.loginUser,toggleShowNotificationCenter:this.toggleShowNotificationCenter,closeNotificationCenter:this.closeNotificationCenter,notification:{setAsReaded:this.setNotificationAsReaded,setAllAsReaded:this.setAllNotificationsAsReaded},getOvrsOwned:this.getOvrsOwned,waitTx:this.waitTx,setupWeb3:this.setupWeb3,redeemLands:this.redeemLands,putLandOnSale:this.putLandOnSale,approveErc721Token:this.approveErc721Token,approveOvrTokens:this.approveOvrTokens,buyLand:this.buyLand,offerToBuyLand:this.offerToBuyLand,getOffersToBuyLand:this.getOffersToBuyLand,cancelBuyOffer:this.cancelBuyOffer,declineBuyOffer:this.declineBuyOffer,acceptBuyOffer:this.acceptBuyOffer}}},this.props.children)}}]),a}(n.Component);function pe(e){return function(t){Object(m.a)(n,t);var a=Object(p.a)(n);function n(){return Object(c.a)(this,n),a.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(de.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t.props,{userProvider:Object(o.a)({},a)}))}))}}]),n}(r.a.Component)}var ye=function(e){var t=e.className,a=e.onClick,n=e.url,i=e.text,s=e.target;return s?r.a.createElement("a",{href:n,target:s,className:"HexButton ".concat(t),onClick:a},i):r.a.createElement(x.b,{to:n,target:s,className:"HexButton ".concat(t),onClick:a},i)},ve=a(44),fe=a.n(ve),be=pe(f((function(e){var t=Object(n.useState)(10),a=Object(l.a)(t,2),i=a[0],s=a[1],o=Object(n.useState)(!1),c=(Object(l.a)(o,1)[0],Object(n.useState)(!1)),u=Object(l.a)(c,2),d=(u[0],u[1],Object(n.useState)(0)),m=Object(l.a)(d,2),p=m[0],y=m[1],v=Object(n.useState)(e.currentBid),f=Object(l.a)(v,2),b=f[0],h=f[1],E=e.userProvider.actions,g=E.waitTx,O=E.approveOvrTokens,w=window.location.pathname.split("/")[3],x=Object(n.useState)(w&&15==w.length?w:e.mapProvider.state.hex_id),N=Object(l.a)(x,2),C=N[0],k=N[1],T=e.userProvider.state,L=T.ovr,S=T.ico,j=T.setupComplete,A=null;Object(n.useEffect)((function(){j&&F()}),[j]);var F=function(){M(),A=setInterval((function(){M()}),500),document.addEventListener("land-selected",(function(e){k(e.detail.hex_id),clearInterval(A),A=setInterval((function(){M()}),500),M()}))},M=function(){var e=Object(X.a)($.a.mark((function e(){var t,a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j&&S&&L){e.next=2;break}return e.abrupt("return",H("Metamask not detected","You must login to metamask to use this application"));case 2:return t=parseInt(C,16),e.next=5,S.landsAsync(t);case 5:a=e.sent,n=String(window.web3.fromWei(a[2])),h(n),s(2*n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var t=Object(X.a)($.a.mark((function t(){var a,n;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p+1!==1){t.next=21;break}if(e.userProvider.state.isLoggedIn){t.next=3;break}return t.abrupt("return",H("Invalid authentication","Please Log In to partecipate"));case 3:return a=parseInt(C,16),t.prev=4,t.next=7,O();case 7:return t.next=9,S.participateInAuctionAsync(a,{gasPrice:window.web3.toWei(30,"gwei")});case 9:return n=t.sent,y((function(e){return e+1})),t.next=13,g(n);case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(4),t.abrupt("return",Y("Error processing the transaction",t.t0.message));case 18:(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return R({url:"/auction/bid",method:"POST"},{land_uuid:e,worth:t},null)})(e.land.key,i).then((function(t){!0===t.data.result?(console.log("responseTrue",t.data),e.realodLandStatefromApi(e.land.key),y(2)):(console.log("responseFalse"),Y("Unable to place requested bid",t.data.errors[0].message),y(0))})).catch((function(){U()})),t.next=22;break;case 21:y((function(e){return e+1}));case 22:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(){return t.apply(this,arguments)}}();function P(t){t.preventDefault(),e.mapProvider.actions.changeActiveBidOverlay(!1),setTimeout((function(){y(0),s("")}),200)}return e.mapProvider.state.activeBidOverlay?r.a.createElement(fe.a,{transitionName:"overlay",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionLeaveTimeout:300},r.a.createElement("div",{key:"bid-overlay-",to:e.url,className:"Overlay BidOverlay WhiteInputs ".concat(e.className?e.className:""," --activeStep-").concat(p)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:P},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0.5"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#FFFFFF",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),r.a.createElement("div",{className:"Overlay__hex_cont"},r.a.createElement("div",{className:"Icon Overlay__hex"},r.a.createElement("svg",{width:"152px",height:"176px",viewBox:"0 0 152 176",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0.2"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-439.000000, -349.000000)",fill:"#FFFFFF",stroke:"#FFFFFF"},r.a.createElement("polygon",{id:"Polygon",transform:"translate(515.000000, 437.000000) rotate(-360.000000) translate(-515.000000, -437.000000) ",points:"515 350 590.34421 393.5 590.34421 480.5 515 524 439.65579 480.5 439.65579 393.5"})))))),function(t){switch(t){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Place a bid for the OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Current bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:b}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Minimum bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:i})))),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ye,{url:"#",text:"Place Bid",className:"--orange",onClick:B}),r.a.createElement(ye,{url:"#",text:"Cancel",className:"--outline",onClick:P}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Bidding the OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Current bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:b}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Your bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:i})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,"Waiting for MetaMask confirmation"))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Bidding the OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Current bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:b})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,"Transaction confirmed")),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ye,{url:"#",text:"Close",className:"--outline",onClick:P}))));default:return"Unknown step"}}(p)))):null}))),he=pe(f((function(e){var t=e.userProvider.actions,a=t.waitTx,i=t.approveOvrTokens,s=e.mapProvider.state.hex_id,o=e.userProvider.state,c=o.ovr,u=o.ico,d=o.setupComplete,m=Object(n.useState)(10),p=Object(l.a)(m,2),y=p[0],v=p[1],f=Object(n.useState)(0),b=Object(l.a)(f,2),h=b[0],E=b[1],g=Object(n.useState)("Waiting for MetaMask confirmation"),O=Object(l.a)(g,2),w=O[0],x=O[1];Object(n.useEffect)((function(){d&&N()}),[d]);var N=function(){document.addEventListener("land-selected",(function(e){C(e.detail.hex_id)}))},C=function(){var e=Object(X.a)($.a.mark((function e(){var t,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&u&&c){e.next=2;break}return e.abrupt("return",H("Metamask not detected","You must login to metamask to use this application"));case 2:return e.t0=String,e.next=5,u.initialLandBidAsync();case 5:e.t1=e.sent,t=(0,e.t0)(e.t1),a=window.web3.fromWei(t),v(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var t=Object(X.a)($.a.mark((function t(){var n,r,l,o,d;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h+1!==1){t.next=40;break}if(e.userProvider.state.isLoggedIn){t.next=3;break}return t.abrupt("return",H("Invalid authentication","Please Log In to partecipate"));case 3:return n=parseInt(s,16),t.next=6,u.checkEpochAsync(n);case 6:if(t.sent){t.next=9;break}return t.abrupt("return",H("Epoch issue","The current land is not available in this epoch"));case 9:return t.prev=9,x("Approving OVR tokens first..."),E((function(e){return e+1})),t.next=14,i();case 14:return t.t0=String,t.next=17,u.initialLandBidAsync();case 17:return t.t1=t.sent,r=(0,t.t0)(t.t1),t.next=21,c.balanceOfAsync(window.web3.eth.defaultAccount);case 21:if(l=t.sent,o=window.web3.fromWei(r),!l.lessThan(o)){t.next=25;break}return t.abrupt("return",H("Not enough tokens","You don't have enough to pay ".concat(window.web3.fromWei(o)," OVR tokens")));case 25:return t.next=27,u.participateInAuctionAsync(n,{gasPrice:window.web3.toWei(30,"gwei")});case 27:return d=t.sent,x("Waiting for MetaMask confirmation"),t.next=31,a(d);case 31:(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return R({url:"/land/mint",method:"POST"},{land_uuid:e,worth:t},null)})(e.land.key,y).then((function(t){!0===t.data.result?(console.log("responseTrue",t.data),e.realodLandStatefromApi(e.land.key),console.log("props.land.key",e),E(2)):(console.log("responseFalse"),Y("Unable to mint land",t.data.errors[0].message),E(0))})).catch((function(e){console.log(e),U()})),t.next=38;break;case 34:return t.prev=34,t.t2=t.catch(9),E((function(e){return e-1})),t.abrupt("return",Y("Error processing the transactions",t.t2.message));case 38:t.next=41;break;case 40:E((function(e){return e+1}));case 41:case"end":return t.stop()}}),t,null,[[9,34]])})));return function(){return t.apply(this,arguments)}}();function T(t){t.preventDefault(),e.mapProvider.actions.changeActiveMintOverlay(!1),E(0)}return e.mapProvider.state.activeMintOverlay?r.a.createElement(fe.a,{transitionName:"overlay",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionLeaveTimeout:300},r.a.createElement("div",{key:"mint-overlay-",to:e.url,className:"Overlay MintOverlay WhiteInputs ".concat(e.className?e.className:""," --activeStep-").concat(h)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:T},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd","fill-opacity":"0.5"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#FFFFFF",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),r.a.createElement("div",{className:"Overlay__hex_cont"},r.a.createElement("div",{className:"Icon Overlay__hex"},r.a.createElement("svg",{width:"152px",height:"176px",viewBox:"0 0 152 176",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd","fill-opacity":"0.2"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-439.000000, -349.000000)",fill:"#FFFFFF",stroke:"#FFFFFF"},r.a.createElement("polygon",{id:"Polygon",transform:"translate(515.000000, 437.000000) rotate(-360.000000) translate(-515.000000, -437.000000) ",points:"515 350 590.34421 393.5 590.34421 480.5 515 524 439.65579 480.5 439.65579 393.5"})))))),function(t){switch(t){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Place a bid for the OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Next bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:y})))),r.a.createElement("br",null),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ye,{url:"#",text:"Place Bid",className:"--orange",onClick:k}),r.a.createElement(ye,{url:"#",text:"Cancel",className:"--outline",onClick:T}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Bidding the OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Your bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:y})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,w))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Minting the OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Current bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:y})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,"Bid published")),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ye,{url:"#",text:"Close",className:"--outline",onClick:T}))));default:return"Unknown step"}}(h)))):null}))),Ee=a(409),_e=pe(f((function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),i=a[0],s=a[1],o=Object(n.useState)(!1),c=Object(l.a)(o,1)[0],u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),f=v[0],b=v[1],E=window.location.pathname.split("/")[3],g=Object(n.useState)(E&&15==E.length?E:e.mapProvider.state.hex_id),O=Object(l.a)(g,2),w=O[0],x=O[1],N=e.userProvider.state,C=N.ico,k=N.setupComplete,T=e.userProvider.actions,L=T.approveErc721Token,S=T.putLandOnSale,j=Object(n.useState)(e.currentBid),A=Object(l.a)(j,2),F=A[0],M=A[1],B=Object(n.useState)("Waiting for MetaMask confirmation"),P=Object(l.a)(B,2),I=P[0],D=P[1],W=null;Object(n.useEffect)((function(){k&&G()}),[k]);var G=function(){V(),W=setInterval((function(){V()}),500),document.addEventListener("land-selected",(function(e){x(e.detail.hex_id),clearInterval(W),W=setInterval((function(){V()}),500),V()}))},V=function(){var e=Object(X.a)($.a.mark((function e(){var t,a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(w,16),e.next=3,C.landsAsync(t);case 3:a=e.sent,n=String(window.web3.fromWei(a[2])),M(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var t=Object(X.a)($.a.mark((function t(){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f+1!==1){t.next=21;break}if(e.userProvider.state.isLoggedIn){t.next=5;break}H("Invalid authentication","Please Log In to partecipate"),t.next=19;break;case 5:return b((function(e){return e+1})),t.prev=6,D("Approving ERC721 token for the Smart Contract..."),t.next=10,L(w);case 10:return D("Waiting for MetaMask confirmation"),t.next=13,S(w,String(window.web3.toWei(i)),!0);case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(6),t.abrupt("return",Y("Error processing the transactions",t.t0.message));case 18:(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return R({url:"/order/sell",method:"POST"},{land_uuid:e,worth:t},null)})(e.land.key,i).then((function(t){!0===t.data.result?(console.log("responseTrue",t.data),e.realodLandStatefromApi(e.land.key),b(2)):(console.log("responseFalse"),Y("Unable to place sell request",t.data.errors[0].message),b(0))})).catch((function(){U()}));case 19:t.next=22;break;case 21:b((function(e){return e+1}));case 22:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log("bidoverlayuseeffect")}),[]);var z=function(e){p(""!==i),s(e.target.value)};function q(t){t.preventDefault(),e.mapProvider.actions.changeActiveSellOverlay(!1),setTimeout((function(){b(0),s("")}),200)}return e.mapProvider.state.activeSellOverlay?r.a.createElement(fe.a,{transitionName:"overlay",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionLeaveTimeout:300},r.a.createElement("div",{key:"bid-overlay-",to:e.url,className:"Overlay SellOverlay WhiteInputs ".concat(e.className?e.className:""," --activeStep-").concat(f)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:q},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","fill-opacity":"0.5"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#FFFFFF","fill-rule":"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),r.a.createElement("div",{className:"Overlay__hex_cont"},r.a.createElement("div",{className:"Icon Overlay__hex"},r.a.createElement("svg",{width:"152px",height:"176px",viewBox:"0 0 152 176",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","fill-opacity":"0.2"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-439.000000, -349.000000)",fill:"#FFFFFF",stroke:"#FFFFFF"},r.a.createElement("polygon",{id:"Polygon",transform:"translate(515.000000, 437.000000) rotate(-360.000000) translate(-515.000000, -437.000000) ",points:"515 350 590.34421 393.5 590.34421 480.5 515 524 439.65579 480.5 439.65579 393.5"})))))),function(t){switch(t){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},r.a.createElement(h.Textfit,{mode:"single"},"Set sell offer for the OVRLand")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Bought at"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:F})))),r.a.createElement("div",{className:"Overlay__input"},r.a.createElement(Ee.a,{id:"quantity",label:"Sell at",type:"number",error:!1!==c,helperText:!1!==c?c:"",value:i,onFocus:z,onChange:z,onKeyUp:z})),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ye,{url:"#",text:"Place Sell",className:"--purple ".concat(m?"":"--disabled"),onClick:Z}),r.a.createElement(ye,{url:"#",text:"Cancel",className:"--outline",onClick:q}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Set Sell order for OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Bought at"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:F}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Sell at"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:i})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,I))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Opened sell for OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Sell at"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:i})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,"Sell order placed")),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ye,{url:"#",text:"Close",className:"--outline",onClick:q}))));default:return"Unknown step"}}(f)))):null}))),ge=a(173),Oe=a(25),we=a(407),xe=new Date,Ne=new Date(xe);Ne.setDate(Ne.getDate()+1);var Ce=pe(f((function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),i=a[0],s=a[1],o=Object(n.useState)(!1),c=Object(l.a)(o,1)[0],u=Object(n.useState)(!1),d=Object(l.a)(u,2),m=d[0],p=d[1],y=Object(n.useState)(0),v=Object(l.a)(y,2),f=v[0],b=v[1],h=Object(n.useState)(Ne),E=Object(l.a)(h,2),g=E[0],O=E[1],w=window.location.pathname.split("/")[3],x=Object(n.useState)(w&&15===w.length?w:e.mapProvider.state.hex_id),N=Object(l.a)(x,2),C=N[0],k=N[1],T=e.userProvider.actions,L=T.approveOvrTokens,S=T.offerToBuyLand,j=e.userProvider.state.setupComplete,A=Object(n.useState)("Waiting for MetaMask confirmation"),F=Object(l.a)(A,2),M=F[0],B=F[1],P=Object(n.useState)(0),I=Object(l.a)(P,2),D=I[0],W=I[1];Object(n.useEffect)((function(){j&&G()}),[j]);var G=function(){document.addEventListener("land-selected",(function(e){k(e.detail.hex_id)}))},V=function(){var t=Object(X.a)($.a.mark((function t(){var a,n;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f+1!==1){t.next=25;break}if(e.userProvider.state.isLoggedIn){t.next=5;break}H("Invalid authentication","Please Log In to partecipate"),t.next=23;break;case 5:if(a=Math.trunc(Date.now()/1e3),n=String(window.web3.toWei(i)),!(a>=D)){t.next=9;break}return t.abrupt("return",H("Date error","The expiration date must be set in the future"));case 9:return b((function(e){return e+1})),t.prev=10,B("Approving OVR tokens for the Smart Contract..."),t.next=14,L();case 14:return B("Waiting for MetaMask confirmation"),t.next=17,S(C,n,D);case 17:t.next=22;break;case 19:return t.prev=19,t.t0=t.catch(10),t.abrupt("return",Y("Error processing the transaction",t.t0.message));case 22:(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return R({url:"/order/buy_offer",method:"POST"},{land_uuid:e,worth:t,expiration_date:a},null)})(C,i,g).then((function(t){!0===t.data.result?(console.log("responseTrue",t.data),e.realodLandStatefromApi(e.land.key),b(2)):(console.log("responseFalse"),Y("Unable to place sell request",t.data.errors[0].message),b(0))})).catch((function(){U()}));case 23:t.next=26;break;case 25:b((function(e){return e+1}));case 26:case"end":return t.stop()}}),t,null,[[10,19]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log("bidoverlayuseeffect")}),[]);var Z=function(e){p(""!==i),s(e.target.value)};function z(t){t.preventDefault(),e.mapProvider.actions.changeActiveBuyOfferOverlay(!1),setTimeout((function(){b(0),s("")}),200)}function q(e){W(Math.trunc(e/1e3)),O(e)}return e.mapProvider.state.activeBuyOfferOverlay?r.a.createElement(fe.a,{transitionName:"overlay",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionLeaveTimeout:300},r.a.createElement("div",{key:"bid-overlay-",to:e.url,className:"Overlay BuyOfferOverlay WhiteInputs ".concat(e.className?e.className:""," --activeStep-").concat(f)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:z},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","fill-opacity":"0.5"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#FFFFFF","fill-rule":"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),r.a.createElement("div",{className:"Overlay__hex_cont"},r.a.createElement("div",{className:"Icon Overlay__hex"},r.a.createElement("svg",{width:"152px",height:"176px",viewBox:"0 0 152 176",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","fill-opacity":"0.2"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-439.000000, -349.000000)",fill:"#FFFFFF",stroke:"#FFFFFF"},r.a.createElement("polygon",{id:"Polygon",transform:"translate(515.000000, 437.000000) rotate(-360.000000) translate(-515.000000, -437.000000) ",points:"515 350 590.34421 393.5 590.34421 480.5 515 524 439.65579 480.5 439.65579 393.5"})))))),function(t){switch(t){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Set buy order for OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Current Value"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:e.currentBid})))),r.a.createElement("div",{className:"Overlay__input"},r.a.createElement(Ee.a,{id:"quantity",label:"Buy at",type:"number",error:!1!==c,helperText:!1!==c?c:"",value:i,onFocus:Z,onChange:Z,onKeyUp:Z}),r.a.createElement(Oe.a,{utils:ge.a},r.a.createElement(we.a,{variant:"inline",format:"DD-MM-YYYY HH:mm",margin:"normal",id:"date-picker-inline",label:"Expires at",value:g,onChange:q,KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ye,{url:"#",text:"Place Order",className:"--orange ".concat(m?"":"--disabled"),onClick:V}),r.a.createElement(ye,{url:"#",text:"Cancel",className:"--outline",onClick:z}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Set Buy order for OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Current Value"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:e.currentBid}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Buy at"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:i})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,M))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Open Buy offer for OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Buy at"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:i})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,"Buy offer placed")),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ye,{url:"#",text:"Close",className:"--outline",onClick:z}))));default:return"Unknown step"}}(f)))):null}))),ke=a(411),Te=(n.Component,a(329),pe(f(function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).confirmDeleteBuyOffer=function(){var e=Object(X.a)($.a.mark((function e(t){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.userProvider.actions.cancelBuyOffer(t);case 3:return a=e.sent,n.setState({metamaskMessage:"Cancelling buy offer transaction...",transactionInProcess:!0}),e.next=7,n.props.userProvider.actions.waitTx(a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Y("Error cancelling buy offer",e.t0.message));case 12:Z("Delete successful","Your order request has be processed successfully on the blockchain"),n.handleClose();case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),n.declineBuyOffer=function(){var e=Object(X.a)($.a.mark((function e(t){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.userProvider.actions.declineBuyOffer(t);case 3:return a=e.sent,n.setState({metamaskMessage:"Declining buy offer transaction...",transactionInProcess:!0}),e.next=7,n.props.userProvider.actions.waitTx(a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Y("Error declining buy offer",e.t0.message));case 12:Z("Decline successful","Your order request has be processed successfully on the blockchain"),n.handleClose();case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),n.confirmSell=function(){var e=Object(X.a)($.a.mark((function e(t,a){var r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({metamaskMessage:"Approving the OVRLand token...",transactionInProcess:!0}),e.next=4,n.props.userProvider.actions.approveErc721Token(a,!0);case 4:return n.setState({metamaskMessage:"Accepting sell order..."}),e.next=7,n.props.userProvider.actions.acceptBuyOffer(t,a);case 7:return r=e.sent,e.next=10,n.props.userProvider.actions.waitTx(r);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Y("Error accepting buy offer",e.t0.message));case 15:Z("Land sold successfully","Your order request has be processed successfully on the blockchain"),n.handleClose();case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),n.openDeclineModal=function(){n.props.userProvider.state.isLoggedIn?n.setState({openDeclineBuyModal:!0}):H("Invalid authentication","Please Log In to buy land")};var r=window.location.pathname.split("/")[3];return n.state={openModal:!1,offerId:n.props.offer.id,openDeclineBuyModal:!1,metamaskMessage:"",transactionInProcess:!1,hexId:r&&15===r.length?r:n.props.mapProvider.state.hex_id},n.confirmDeleteBuyOffer=n.confirmDeleteBuyOffer.bind(Object(d.a)(n)),n.confirmSell=n.confirmSell.bind(Object(d.a)(n)),n.handleOpen=n.handleOpen.bind(Object(d.a)(n)),n.handleClose=n.handleClose.bind(Object(d.a)(n)),n.buttonRender=n.buttonRender.bind(Object(d.a)(n)),n.setupComplete=n.props.userProvider.state.setupComplete,n}return Object(u.a)(a,[{key:"setupListeners",value:function(){var e=this;document.addEventListener("land-selected",(function(t){e.setState({hexId:t.detail.hex_id})}))}},{key:"handleOpen",value:function(){this.props.userProvider.state.isLoggedIn?this.setState({openModal:!0}):H("Invalid authentication","Please Log In to buy land")}},{key:"handleClose",value:function(){this.setState({openModal:!1,openDeclineBuyModal:!1,metamaskMessage:"",transactionInProcess:!1})}},{key:"componentDidMount",value:function(){this.setupComplete&&this.setupListeners()}},{key:"buttonRender",value:function(){var e=this;return this.props.isOwner?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section"},r.a.createElement("button",{type:"button",className:"orderTileButton",onClick:this.handleOpen},"Delete")),r.a.createElement("div",{className:"section"}),r.a.createElement(ke.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openModal,onClose:this.handleClose},r.a.createElement("div",{className:"BuyOfferModal"},r.a.createElement("h2",null,"Delete confirmation"),r.a.createElement("p",null,"Do you confirm the delete of this ",r.a.createElement("b",null,"Buy offer"),"?"),r.a.createElement("p",{className:"blinking-message"},this.state.metamaskMessage),r.a.createElement("div",{className:"Modal__buttons_container"},r.a.createElement(ye,{url:"#",text:"Confirm",className:this.state.transactionInProcess?"--purple --disabled":"--purple",onClick:function(){return e.confirmDeleteBuyOffer(e.props.offer.id)}}),r.a.createElement(ye,{url:"#",text:"Cancel",className:"--outline",onClick:this.handleClose}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section"},r.a.createElement("button",{type:"button",className:"orderTileButton",onClick:this.handleOpen},"Accept Offer")," ",r.a.createElement("button",{type:"button",className:"orderTileButton",onClick:this.openDeclineModal},"Decline Offer")),r.a.createElement("div",{className:"section"}),r.a.createElement(ke.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openModal,onClose:this.handleClose},r.a.createElement("div",{className:"BuyOfferModal"},r.a.createElement("h2",null,"Sell confirmation"),r.a.createElement("p",null,"Do you confirm the sell of this ",r.a.createElement("b",null,"OVRLand"),"?"),r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"OrderModal__bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Sell at"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:this.props.offer.price})))),r.a.createElement("p",{className:"blinking-message"},this.state.metamaskMessage),r.a.createElement("div",{className:"Modal__buttons_container"},r.a.createElement(ye,{url:"#",text:"Confirm",className:this.state.transactionInProcess?"--purple --disabled":"--purple",onClick:function(){return e.confirmSell(e.props.offer.id,e.props.offer.landId)}}),r.a.createElement(ye,{url:"#",text:"Cancel",className:"--outline",onClick:this.handleClose})))),r.a.createElement(ke.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openDeclineBuyModal,onClose:this.handleClose},r.a.createElement("div",{className:"BuyOfferModal"},r.a.createElement("h2",null,"Decline buy offer confirmation"),r.a.createElement("p",null,"Do you confirm to decline this buy offer for this ",r.a.createElement("b",null,"OVRLand"),"?"),r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"OrderModal__bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Sell at"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:this.props.offer.price})))),r.a.createElement("p",{className:"blinking-message"},this.state.metamaskMessage),r.a.createElement("div",{className:"Modal__buttons_container"},r.a.createElement(ye,{url:"#",text:"Confirm",className:this.state.transactionInProcess?"--purple --disabled":"--purple",onClick:function(){return e.declineBuyOffer(e.props.offer.id)}}),r.a.createElement(ye,{url:"#",text:"Cancel",className:"--outline",onClick:this.handleClose})))))}},{key:"render",value:function(){return r.a.createElement("div",{className:"BuyOfferTile"},r.a.createElement("div",{className:"section"},r.a.createElement(_,{value:this.props.offer.price})),r.a.createElement("div",{className:"section"},r.a.createElement("b",null,"Buy Offer Order")),r.a.createElement("div",{className:"section"},r.a.createElement("span",{className:"c-small-tile-text"},"Expires")," ",r.a.createElement(w,{date_end:new Date(1e3*this.props.offer.expirationDate)})),this.buttonRender())}}]),a}(n.Component)))),Le=pe(f((function(e){var t=e.userProvider.actions,a=t.approveOvrTokens,i=t.buyLand,s=window.location.pathname.split("/")[3],o=Object(n.useState)(s&&15===s.length?s:e.mapProvider.state.hex_id),c=Object(l.a)(o,2),u=c[0],d=c[1],m=e.userProvider.state,p=m.ovr,y=m.ico,v=m.setupComplete,f=Object(n.useState)(10),b=Object(l.a)(f,2),h=b[0],E=b[1],g=Object(n.useState)(0),O=Object(l.a)(g,2),w=O[0],x=O[1],N=Object(n.useState)("Waiting for MetaMask confirmation"),C=Object(l.a)(N,2),k=C[0],T=C[1];Object(n.useEffect)((function(){v&&L()}),[v]);var L=function(){S(u),document.addEventListener("land-selected",(function(e){d(e.detail.hex_id),S(e.detail.hex_id)}))},S=function(){var e=Object(X.a)($.a.mark((function e(){var t,a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v&&y&&p){e.next=2;break}return e.abrupt("return",H("Metamask not detected","You must login to metamask to use this application"));case 2:return t=parseInt(u,16),e.next=5,y.landsAsync(t);case 5:a=e.sent,n=String(window.web3.fromWei(a[7])),E(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var t=Object(X.a)($.a.mark((function t(){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w+1!==1){t.next=26;break}if(e.userProvider.state.isLoggedIn){t.next=3;break}return t.abrupt("return",H("Invalid authentication","Please Log In to partecipate"));case 3:return t.prev=3,t.next=6,p.balanceOfAsync(window.web3.eth.defaultAccount);case 6:if(t.sent.greaterThan(h)){t.next=9;break}return t.abrupt("return",Y("Balance insufficient","You don't have enough tokens to buy that land get more and try again"));case 9:return x((function(e){return e+1})),T("Approving tokens first..."),t.next=13,a();case 13:return T("Waiting for land buying MetaMask confirmation"),t.next=16,i(u);case 16:Z("Land purchased successfully!","You completed the land purchase successfully and now it's yours the page will be updated automatically"),setTimeout((function(){window.reload()}),2e3),t.next=24;break;case 20:return t.prev=20,t.t0=t.catch(3),console.log("Error",t.t0),t.abrupt("return",Y("Error processing the transactions",t.t0.message));case 24:t.next=27;break;case 26:x((function(e){return e+1}));case 27:case"end":return t.stop()}}),t,null,[[3,20]])})));return function(){return t.apply(this,arguments)}}();function A(t){t.preventDefault(),e.mapProvider.actions.changeActiveMintOverlay(!1),x(0)}return e.mapProvider.state.activeBuyOverlay?r.a.createElement(fe.a,{transitionName:"overlay",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionLeaveTimeout:300},r.a.createElement("div",{key:"buy-land-overlay-",to:e.url,className:"Overlay MintOverlay WhiteInputs ".concat(e.className?e.className:""," --activeStep-").concat(w)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:A},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd","fill-opacity":"0.5"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#FFFFFF",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),r.a.createElement("div",{className:"Overlay__hex_cont"},r.a.createElement("div",{className:"Icon Overlay__hex"},r.a.createElement("svg",{width:"152px",height:"176px",viewBox:"0 0 152 176",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd","fill-opacity":"0.2"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-439.000000, -349.000000)",fill:"#FFFFFF",stroke:"#FFFFFF"},r.a.createElement("polygon",{id:"Polygon",transform:"translate(515.000000, 437.000000) rotate(-360.000000) translate(-515.000000, -437.000000) ",points:"515 350 590.34421 393.5 590.34421 480.5 515 524 439.65579 480.5 439.65579 393.5"})))))),function(t){switch(t){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Buy OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Price"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:h})))),r.a.createElement("br",null),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ye,{url:"#",text:"Buy Now",className:"--orange",onClick:j}),r.a.createElement(ye,{url:"#",text:"Cancel",className:"--outline",onClick:A}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Buying OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Price"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:h})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,k))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},"Buying OVRLand"),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Price"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(_,{value:h})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,"Land purchased successfully")),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(ye,{url:"#",text:"Close",className:"--outline",onClick:A}))));default:return"Unknown step"}}(w)))):null}))),Se=pe(f(function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).realodLandStatefromApi=function(e){var t=Object(d.a)(n);setTimeout((function(){t.loadLandStateFromApi(e)}),1500)},n.setContractPrice=function(e){var t=n.props.userProvider.state.ico,a=setInterval(Object(X.a)($.a.mark((function r(){var i,s,l;return $.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t=n.props.userProvider.state.ico)){r.next=17;break}return clearInterval(a),i=parseInt(e,16),r.next=6,t.landsAsync(i);case 6:if(s=r.sent,0!=(l=String(window.web3.fromWei(s[2])))){r.next=16;break}return r.t0=String,r.t1=window.web3,r.next=13,t.initialLandBidAsync();case 13:r.t2=r.sent,r.t3=r.t1.fromWei.call(r.t1,r.t2),l=(0,r.t0)(r.t3);case 16:n.setState({value:l});case 17:case"end":return r.stop()}}),r)}))),100)};var r=window.location.pathname.split("/")[3];return n.state={key:"8cbcc350c0ab5ff",value:10,name:{sentence:"director.connect.overflow",hex:"8cbcc350c0ab5ff"},location:"Venice, Italy",marketStatus:0,userPerspective:0,auction:null,openSellOrder:null,openBuyOffers:[],hexId:r&&15===r.length?r:n.props.mapProvider.state.hex_id},n.mapActions=n.props.mapProvider.actions,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.mapActions.changeHexId(t),this.loadLandStateFromApi(t),this.props.userProvider.state.setupComplete&&this.props.userProvider.state.ico&&this.setupListeners();var a=setInterval((function(){e.props.userProvider.state.setupComplete&&e.props.userProvider.state.ico&&(e.setupListeners(),clearInterval(a))}),500)}},{key:"setupListeners",value:function(){var e=this;this.getBuyOffers(),this.setContractPrice(this.state.hexId),setInterval((function(){e.getBuyOffers(),e.updateMarketStatusFromSmartContract(e.state.hexId),e.setContractPrice(e.state.hexId)}),500),document.addEventListener("land-selected",(function(t){e.setState({hexId:t.detail.hex_id}),e.setContractPrice(t.detail.hex_id),e.getBuyOffers()}))}},{key:"loadLandStateFromApi",value:function(e){var t=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return R({url:"/land",method:"GET"},{hex_id:e},null)})(e).then((function(a){var n=a.data;console.log("landApiData",n);var r={key:n.uuid,name:{sentence:n.sentenceId,hex:n.uuid},location:n.address.full,userPerspective:n.userPerspective,openSellOrder:n.openSellOrder,auction:n.auction};if(t.mapActions.changeLandData(r),t.setState(r),t.props.userProvider.state.ico)t.updateMarketStatusFromSmartContract(e);else var i=setInterval((function(){t.props.userProvider.state.ico&&(t.updateMarketStatusFromSmartContract(e),clearInterval(i))}),2e3)})).catch((function(e){console.log(e),U()}))}},{key:"componentDidUpdate",value:function(e){if(this.props.location!==e.location||this.props.value!==e.value){var t=this.props.match.params.id;this.loadLandStateFromApi(t),this.mapActions.changeHexId(t)}}},{key:"componentWillUnmount",value:function(){this.mapActions.changeActiveBidOverlay(!1),this.mapActions.changeActiveMintOverlay(!1),this.mapActions.changeActiveSellOverlay(!1)}},{key:"updateMarketStatusFromSmartContract",value:function(){var e=Object(X.a)($.a.mark((function e(t){var a,n,r,i,s,l,o,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.userProvider.state.ico,n=parseInt(t,16),e.next=4,a.landsAsync(n);case 4:return r=e.sent,i=parseInt(r[3]),s=r[0],e.t0=parseInt,e.next=10,a.auctionLandDurationAsync();case 10:if(e.t1=e.sent,l=(0,e.t0)(e.t1),o=Math.trunc(Date.now()/1e3),c=parseInt(r[4]),!r[8]){e.next=17;break}return e.abrupt("return",this.setState({marketStatus:4}));case 17:if(!(2===c||1===c&&o>i+l)){e.next=25;break}if(s!==window.web3.eth.defaultAccount){e.next=22;break}return e.abrupt("return",this.setState({marketStatus:3}));case 22:return e.abrupt("return",this.setState({marketStatus:2}));case 23:e.next=26;break;case 25:this.setState({marketStatus:c});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBuyOffers",value:function(){var e=Object(X.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.userProvider.actions.getOffersToBuyLand(this.state.hexId);case 2:t=e.sent,this.setState({openBuyOffers:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setActiveBidOverlay",value:function(e){e.preventDefault(),this.props.userProvider.state.isLoggedIn,this.mapActions.changeActiveBidOverlay(!0)}},{key:"setActiveMintOverlay",value:function(e){e.preventDefault(),this.mapActions.changeActiveMintOverlay(!0)}},{key:"setActiveSellOverlay",value:function(e){e.preventDefault(),this.mapActions.changeActiveSellOverlay(!0)}},{key:"setActiveBuyOverlay",value:function(e){e.preventDefault(),this.mapActions.changeActiveBuyOverlay(!0)}},{key:"setActiveBuyOfferOverlay",value:function(e){e.preventDefault(),this.mapActions.changeActiveBuyOfferOverlay(!0)}},{key:"renderTimer",value:function(){return 1===this.state.marketStatus?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"o-small-title"},"Closes"),r.a.createElement(w,{date_end:this.state.auction?this.state.auction.closeAt:24})):r.a.createElement("div",null,"\xa0")}},{key:"renderBadge",value:function(){var e=r.a.createElement("div",null,"\xa0");switch(this.state.marketStatus){case 1:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},"Status"),r.a.createElement("div",{className:"c-status-badge  --open"},"OPEN"));break;case 2:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},"Status"),r.a.createElement("div",{className:"c-status-badge  --owned"},"OWNED"));break;default:e=r.a.createElement("div",null,"\xa0")}switch(this.state.userPerspective){case 1:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},"Status"),r.a.createElement("div",{className:"c-status-badge --bestbid"},"OWNER"));break;case 2:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},"Status"),r.a.createElement("div",{className:"c-status-badge  --bestbid"},"BEST BID"));break;case 3:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},"Status"),r.a.createElement("div",{className:"c-status-badge  --outbidded"},"OUTBIDDED"))}return e}},{key:"renderOverlayButton",value:function(){var e=this,t=r.a.createElement("div",null,"\xa0");switch(this.state.marketStatus){case 0:t=r.a.createElement(ye,{url:"/",text:"Init Auction",className:"--blue",onClick:function(t){return e.setActiveMintOverlay(t)}});break;case 1:t=r.a.createElement(ye,{url:"/",text:"Place bid",className:"--purple",onClick:function(t){return e.setActiveBidOverlay(t)}});break;case 2:t=r.a.createElement(ye,{url:"/",text:"Buy offer",className:"--blue",onClick:function(t){return e.setActiveBuyOfferOverlay(t)}});break;case 3:t=r.a.createElement(ye,{url:"/",text:"Sell Land",className:"--purple",onClick:function(t){return e.setActiveSellOverlay(t)}});break;case 4:t=r.a.createElement(ye,{url:"/",text:"Buy Now",className:"--purple",onClick:function(t){return e.setActiveBuyOverlay(t)}});break;default:t=r.a.createElement("div",null,"\xa0")}return t}},{key:"renderPrice",value:function(){switch(this.state.marketStatus){case 2:return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"o-small-title"},"Closing price"),r.a.createElement(_,{value:this.state.value}));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"o-small-title"},"Price"),r.a.createElement(_,{value:this.state.value}))}}},{key:"renderBidHistory",value:function(){return null===this.state.auction||0===this.state.auction.bidHistory.length?r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Title__container"}," ",r.a.createElement("h3",{className:"o-small-title"},"History")),r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},"Be the one to start an auction"," ",r.a.createElement("span",{role:"img","aria-label":"fire-emoji"},"\ud83d\udd25")),r.a.createElement("div",{className:"c-dialog-sub-title"},"The land has no active Auction at the moment. ",r.a.createElement("br",null),'Click on "Init Auction" and be the one to own it.'))):r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Title__container"}," ",r.a.createElement("h3",{className:"o-small-title"},"Bid History")),r.a.createElement("div",{className:"Table__container"},r.a.createElement("table",{className:"Table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"When"),r.a.createElement("th",null,"From"))),r.a.createElement("tbody",null,this.state.auction.bidHistory.map((function(e){return r.a.createElement("tr",{key:e.when,className:"Table__line"},r.a.createElement("td",null,r.a.createElement(_,{value:e.worth})," "),r.a.createElement("td",null,r.a.createElement(w,{date_end:e.when})),r.a.createElement("td",null,e.from))}))))))}},{key:"renderActiveOpenOrders",value:function(){var e=this,t=r.a.createElement(r.a.Fragment,null),a=r.a.createElement(r.a.Fragment,null),n=r.a.createElement(r.a.Fragment,null),i=2===this.state.marketStatus,s=3===this.state.marketStatus;return this.state.openBuyOffers.length>0&&(i?n=this.state.openBuyOffers.map((function(t){return r.a.createElement(Te,{key:t.id,offer:t,isOwner:!0,userPerspective:e.state.userPerspective,userProvider:e.props.userProvider})})):s&&(a=this.state.openBuyOffers.map((function(t){return r.a.createElement(Te,{key:t.id,offer:t,isOwner:!1,userPerspective:e.state.userPerspective,userProvider:e.props.userProvider})})))),(s||i)&&(t=r.a.createElement("div",{className:"Land__section"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Title__container"}," ",r.a.createElement("h3",{className:"o-small-title"},"Open Orders")),r.a.createElement("div",{className:"Body__container"},a,n)))),t}},{key:"render",value:function(){return r.a.createElement("div",{className:"Land"},r.a.createElement(be,{currentBid:this.state.value,land:this.state,realodLandStatefromApi:this.realodLandStatefromApi}),r.a.createElement(he,{currentBid:this.state.value,land:this.state,realodLandStatefromApi:this.realodLandStatefromApi}),r.a.createElement(_e,{currentBid:this.state.value,land:this.state,realodLandStatefromApi:this.realodLandStatefromApi}),r.a.createElement(Ce,{currentBid:this.state.value,land:this.state,realodLandStatefromApi:this.realodLandStatefromApi}),r.a.createElement(Le,{currentBid:this.state.value,land:this.state,realodLandStatefromApi:this.realodLandStatefromApi}),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Land__heading__1"},r.a.createElement("h2",null,r.a.createElement(h.Textfit,{mode:"single",max:25},this.state.name.sentence)),r.a.createElement("div",{className:"Land__location"},this.state.location)),r.a.createElement("div",{className:"Land__heading__2"},r.a.createElement("div",{className:"o-fourth"},this.renderPrice()),r.a.createElement("div",{className:"o-fourth"},this.renderTimer()),r.a.createElement("div",{className:"o-fourth"},this.renderBadge()),r.a.createElement("div",{className:"o-fourth"},this.renderOverlayButton()))),this.renderActiveOpenOrders(),r.a.createElement("div",{className:"Land__section"},this.renderBidHistory()))}}]),a}(n.Component))),je=a(66),Ae=function(e){var t=e.className,a=e.src,n=e.style;return r.a.createElement("svg",{className:t,height:"102",width:"102",viewBox:"0 0 102 102",style:n},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"linear-stroke",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},r.a.createElement("stop",{offset:"0%",stopColor:"#a354b1"}),r.a.createElement("stop",{offset:"100%",stopColor:"#2fd7ff"})),r.a.createElement("linearGradient",{id:"linear-fill",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},r.a.createElement("stop",{offset:"0%",stopColor:"#a354b122"}),r.a.createElement("stop",{offset:"100%",stopColor:"#2fd7ff22"})),r.a.createElement("pattern",{id:"background-image",patternUnits:"userSpaceOnUse",width:"100",height:"100"},r.a.createElement("image",{xlinkHref:a,x:"0",y:"0",width:"100",height:"100",preserveAspectRatio:"xMinYMin slice"}))),r.a.createElement("polyline",{points:"51,1 101,26 101,76 51,101 1,76 1,26 51,1",style:{fill:a?"url(#background-image)":"url(#linear-fill)",stroke:"url(#linear-stroke)",strokeWidth:"1"}}))},Fe=a(6),Me=a(412),Be=(a(404),a(113)),Pe=(Object(Fe.a)({root:{color:Be.a[600],"&$checked":{color:Be.a[600]}},checked:{}})((function(e){return r.a.createElement(Me.a,Object.assign({color:"default"},e))})),function(){return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},"You have to log in to visit Your profile",r.a.createElement("span",{role:"img","aria-label":"Cool dude"},"\ud83d\ude0e")),r.a.createElement("div",{className:"c-dialog-sub-title"},"Check your profile. Login now."))))}),Ie=function(){var e=je().format("HH:mm, dddd, MMM D, YYYY");return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"p-header"},r.a.createElement("h2",{className:"p-header-title"},"My Profile"),r.a.createElement("span",{className:"p-header-datetime"},e)),r.a.createElement("div",{className:"p-body"},r.a.createElement("div",{className:"o-fourth"},r.a.createElement(Ae,{className:"profile-image"})),r.a.createElement(De,null))))},De=function(){var e=Object(n.useContext)(de),t=e.state,a=e.actions,i=t.user;return console.log("ProfileContent->These are user and actions from UserContext",a,i),r.a.createElement("div",{className:"profile-content"},r.a.createElement("div",{key:"wallet",className:"p-section"},r.a.createElement("h3",{className:"p-section-title"},"WALLET"),r.a.createElement("div",{className:"p-section-content"},r.a.createElement("h4",{className:"p-content-title"},"Wallet address"),r.a.createElement("div",{className:"p-wallet-address"},window.web3.eth.defaultAccount.toLowerCase()),r.a.createElement("div",{className:"p-balance"},r.a.createElement("div",{className:"p-small-title"},"Balance"),r.a.createElement("div",{className:"p-balance-value"},r.a.createElement(_,{value:t.ovrsOwned}),r.a.createElement("div",null,r.a.createElement(ye,{url:"/buy-tokens",className:"--orange",text:"BUY MORE"})))))))},We=function(){var e=Object(n.useContext)(de),t=e.state,a=e.actions;return t.isLoggedIn?(console.log("These are the actions for UserContext",a),r.a.createElement(Ie,null)):r.a.createElement(Pe,null)},Re=a(57),Ge=pe((function(){var e=Object(n.useContext)(de),t=Object(Re.g)();return Object(n.useEffect)((function(){e.actions.setupWeb3((function(){t.push("map/discover")}))}),[]),r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",null,"Welcome back to OVR"),r.a.createElement("div",{className:"Login__sub-title"},"We use MetaMask to authenticate Users. Please sign the nonce which will be used for this session."),r.a.createElement("div",{className:"Login__footer"},"If you have any question about your account visit ",r.a.createElement(x.b,{to:"/FAQs"},"FAQs")," or contact"," ",r.a.createElement(x.b,{to:"mailto:info@ovr.ai"},"info@ovr.ai"))))})),Ve=a(115),Ue=a.n(Ve),He=a(114),Ye=a.n(He),Ze=a(174),ze=a.n(Ze),qe=a(403),Je=pe((function(){var e=Object(n.useContext)(de),t=Object(Re.g)(),a=Object(n.useState)(0),i=Object(l.a)(a,2),s=i[0],o=i[1],c=Object(n.useState)(""),u=Object(l.a)(c,2),d=u[0],m=u[1],p=Object(n.useState)(!1),y=Object(l.a)(p,2),v=y[0],f=y[1],b=Object(n.useState)(!1),h=Object(l.a)(b,2),E=h[0],_=h[1],g=Object(n.useState)(!1),O=Object(l.a)(g,2),w=O[0],N=O[1],C=Object(n.useState)(""),k=Object(l.a)(C,2),T=k[0],S=k[1],j=Object(n.useState)(!1),A=Object(l.a)(j,2),M=A[0],B=A[1],P=Object(n.useState)(!1),I=Object(l.a)(P,2),D=I[0],W=I[1];Object(n.useEffect)((function(){}),[]);var G=function(){var e=Object(X.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o((function(e){return e+1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(X.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(d)?G():(N("The inserted email address is not a valid email address"),_(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e){N(!1),_(""!==d),m(e.target.value)},H=function(e){W(!1),B(""!==T),S(e.target.value)},Z=function(){f(!0);var e=window.web3.eth.defaultAccount.toLowerCase();(function(e,t,a){return R({url:"/user/registration",method:"POST"},{email:e,username:t,public_address:a},null)})(d,T,e).then((function(e){if(f(!1),!0===e.data.result)G();else{var t=e.data.errors[0].code,a=e.data.errors[0].message;"public_address"==t?(Y(a,"Try to login instead"),o(0)):"email"==t?(o(2),_(!1),N(a)):"username"==t&&(o(3),B(!1),W(a))}}))},z=function(){e.actions.setupWeb3((function(){F("firstAfterSignup",!0),t.push("map/discover")}))};return r.a.createElement("div",{className:"Signup"},function(e){var t="undefined"!==typeof window.web3,a=!1,n=!1;switch(t&&(a=window.web3.eth.accounts.length>0,n=window.ethereum.networkVersion===L.web3network),e){case 0:return r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box"},r.a.createElement("svg",{width:"234px",height:"260px",viewBox:"0 0 234 260",version:"1.1",className:"Logo",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r.a.createElement("title",null,"Group"),r.a.createElement("desc",null,"Created with Sketch."),r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"25.3511512%",y1:"49.9738242%",x2:"107.245785%",y2:"49.9738242%",id:"linearGradient-1"},r.a.createElement("stop",{stopColor:"#6B32C1",offset:"0%"}),r.a.createElement("stop",{stopColor:"#C81D5E",offset:"99.6%"})),r.a.createElement("linearGradient",{x1:"0%",y1:"49.997576%",x2:"100.032735%",y2:"49.997576%",id:"linearGradient-2"},r.a.createElement("stop",{stopColor:"#EC663C",offset:"0%"}),r.a.createElement("stop",{stopColor:"#F9B426",offset:"100%"})),r.a.createElement("linearGradient",{x1:"52.9498211%",y1:"9.77958549%",x2:"46.413551%",y2:"97.6215544%",id:"linearGradient-3"},r.a.createElement("stop",{stopColor:"#0081DD",offset:"0%"}),r.a.createElement("stop",{stopColor:"#0589E0",offset:"18.55%"}),r.a.createElement("stop",{stopColor:"#11A0E9",offset:"47.85%"}),r.a.createElement("stop",{stopColor:"#25C5F8",offset:"84.03%"}),r.a.createElement("stop",{stopColor:"#2FD7FF",offset:"99.72%"})),r.a.createElement("linearGradient",{x1:"50.0693857%",y1:"83.9637181%",x2:"50.0693857%",y2:"-0.0504747626%",id:"linearGradient-4"},r.a.createElement("stop",{stopColor:"#4E4D4C",offset:"0%"}),r.a.createElement("stop",{stopColor:"#5A5858",offset:"12.43%"}),r.a.createElement("stop",{stopColor:"#747273",offset:"46.61%"}),r.a.createElement("stop",{stopColor:"#848183",offset:"76.91%"}),r.a.createElement("stop",{stopColor:"#8A8789",offset:"100%"})),r.a.createElement("radialGradient",{cx:"35.4086957%",cy:"34.4852355%",fx:"35.4086957%",fy:"34.4852355%",r:"66.2842391%",id:"radialGradient-5"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FDFDFC",stopOpacity:"0.8589",offset:"35.27%"}),r.a.createElement("stop",{stopColor:"#F6F6F2",stopOpacity:"0.7424",offset:"64.4%"}),r.a.createElement("stop",{stopColor:"#EAEBE0",stopOpacity:"0.635",offset:"91.26%"}),r.a.createElement("stop",{stopColor:"#E5E6D9",stopOpacity:"0.6",offset:"100%"})),r.a.createElement("linearGradient",{x1:"21.2472955%",y1:"18.1560041%",x2:"81.1871703%",y2:"81.6403727%",id:"linearGradient-6"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0.5",offset:"99.99%"})),r.a.createElement("linearGradient",{x1:"37.2050099%",y1:"17.2946945%",x2:"63.1259484%",y2:"89.469351%",id:"linearGradient-7"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0.3",offset:"99.99%"}))),r.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"logo_ovr"},r.a.createElement("g",{id:"Group"},r.a.createElement("path",{d:"M228.9,48.9 C226,44.9 222,41.6 217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 L117,96.6 L117,163.6 L228.9,210.5 C232.2,205.9 234,200.4 234,194.5 L234,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z",id:"h_viola_1_",fill:"url(".concat(window.location,"#linearGradient-1")}),r.a.createElement("path",{d:"M106.5,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 C1.9,53.5 0,59.1 0,64.9 L0,194.4 C0,200.3 1.9,205.8 5.1,210.4 L117,163.5 L117,96.5 L117,0 C113.4,0 109.8,0.7 106.5,2.1 Z",id:"h_org_1_",fill:"url(".concat(window.location,"#linearGradient-2")}),r.a.createElement("path",{d:"M117,163.5 L5.1,210.4 C8,214.4 11.9,217.6 16.6,219.6 L88.7,250.3 L106.2,257.8 C109.6,259.3 113.3,260 116.9,260 C120.6,260 124.2,259.3 127.6,257.8 L139.8,252.6 L217.2,219.6 C221.9,217.6 225.9,214.4 228.7,210.4 L117,163.5 Z",id:"h_blu_1_",fill:"url(".concat(window.location,"#linearGradient-3")}),r.a.createElement("path",{d:"M198.7,67.6 C196.6,64.5 193.7,62 190.2,60.5 L164.7,49.2 L124.8,31.6 C122.3,30.5 119.7,30 117.1,30 C114.5,30 111.8,30.5 109.4,31.6 L46.1,59.5 L43.9,60.5 C40.4,62 37.5,64.5 35.4,67.6 C33,71.1 31.6,75.4 31.6,79.9 L31.6,179.6 C31.6,184.1 33,188.4 35.3,191.9 C37.4,195 40.3,197.5 43.7,199 L96.3,222.6 L109.1,228.4 C111.6,229.5 114.3,230.1 116.9,230.1 C119.5,230.1 122.2,229.5 124.7,228.4 L133.6,224.4 L190.1,199 C193.5,197.5 196.4,195 198.5,191.9 C200.9,188.4 202.2,184.1 202.2,179.6 L202.2,79.9 C202.5,75.4 201.1,71.1 198.7,67.6 Z",id:"h_hex-trasp_1_",fill:"url(".concat(window.location,"#linearGradient-4"),opacity:"0.45",style:{mixBlendMode:"color-burn"}}),r.a.createElement("circle",{id:"h_sphere_1_",fill:"url(".concat(window.location,"#radialGradient-5)"),cx:"117",cy:"129.6",r:"55.2"}),r.a.createElement("path",{d:"M217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 C113.4,0 109.8,0.7 106.4,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 L117,96.6 L228.9,49 C226,44.9 222,41.7 217.3,39.7 Z",id:"h_top_1_",fill:"url(".concat(window.location,"#linearGradient-6"),opacity:"0.76",style:{mixBlendMode:"soft-light"}}),r.a.createElement("path",{d:"M228.9,48.9 L117,96.6 L117,163.6 L117,260 C120.7,260 124.3,259.3 127.7,257.8 L139.9,252.6 L217.3,219.6 C222,217.6 226,214.4 228.8,210.4 C232.1,205.8 233.9,200.3 233.9,194.4 L233.9,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z",id:"h_left_1_",fill:"url(".concat(window.location,"#linearGradient-7"),style:{mixBlendMode:"soft-light"}}))))),r.a.createElement("h2",null,"Join OVR, the decentralized infrastructure for the spatial web."),r.a.createElement("div",{className:"Signup__section"},"OVR merges physical and virtual world through Augmented Reality, creating a new dimension."),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(ye,{url:"#",text:"Get started",className:"--purple",onClick:G}))));case 1:return r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box"},r.a.createElement("h1",null,"First things first"),r.a.createElement("div",{className:"Signup__section --left"},t?r.a.createElement("div",{className:"o-list"},r.a.createElement(Ye.a,{className:"CheckCircleSharpIcon"})," Install Web3 provider"):r.a.createElement("div",{className:"o-list"},r.a.createElement(Ue.a,{className:"CancelIcon"})," Install Web3 provider"),a?r.a.createElement("div",{className:"o-list"},r.a.createElement(Ye.a,{className:"CheckCircleSharpIcon"})," Log in to Web3 provider"):r.a.createElement("div",{className:"o-list"},r.a.createElement(Ue.a,{className:"CancelIcon"})," Log in to Web3 provider"),n?r.a.createElement("div",{className:"o-list"},r.a.createElement(Ye.a,{className:"CheckCircleSharpIcon"})," Connect to ","3"===L.web3network?"Ropsten":"Mainnet"," network"):r.a.createElement("div",{className:"o-list"},r.a.createElement(Ue.a,{className:"CancelIcon"})," Connect to ","3"===L.web3network?"Ropsten":"Mainnet"," network")),t&&n&&a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Signup__section Signup__msg --positive"},"Hurray! Click below to continue."),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(ye,{url:"#",text:"Continue",className:"--purple",onClick:G}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Signup__section Signup__msg --negative"},"Please install MetaMask and configure it on the correct network. Than reload this page."),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(ye,{url:"https://metamask.io",text:"Install MetaMask",target:"_blank",className:"--purple"}))),";"));case 2:return r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box --left"},r.a.createElement("h1",null,"Signup"),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Ee.a,{id:"quantity",label:"Email address",type:"email",className:"Signup__email_textfield",error:!1!==w,helperText:!1!==w?w:"",value:d,onFocus:U,onChange:U,onKeyUp:U})),r.a.createElement("div",{className:"Signup__section --small"},"Account info are stored privately off the blockchain. ",r.a.createElement(x.b,{to:"#"},"Read more"),"."),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(ye,{url:"#",text:"Continue",className:"--purple ".concat(E?"":"--disabled"),onClick:V}),v&&r.a.createElement(qe.a,null))));case 3:return r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box --left"},r.a.createElement("h1",null,"Signup"),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Ee.a,{id:"quantity",label:"Username",type:"text",className:"Signup__userpass_textfield",error:!1!==D,helperText:!1!==D?D:"",value:T,onFocus:H,onChange:H,onKeyUp:H})),r.a.createElement("div",{className:"Signup__section --small"},"Account info are stored privately off the blockchain. ",r.a.createElement(x.b,{to:"#"},"Read more"),"."),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(ye,{url:"#",text:"Signup",className:"--purple ".concat(v||M?"":"--disabled"),onClick:Z}),v&&r.a.createElement(qe.a,null))));case 4:return r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box"},r.a.createElement("h1",null,"Signup completed"),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(ze.a,{className:"CheckCircleIcon"})),r.a.createElement("div",{className:"Signup__section"},"You've succesfully registered your account. From now on you can log in with Metamask by signing a secret code with one click."),r.a.createElement("div",{className:"Signup__section --small"},"Account info are stored privately off the blockchain. ",r.a.createElement(x.b,{to:"#"},"Read more"),"."),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(ye,{url:"#",text:"Log me in",className:"--purple",onClick:z}))));default:return"Unknown step"}}(s))})),Ke=(a(331),pe((function(e){var t=e.userProvider.state,a=t.tokenBuy,i=t.dai,s=t.tether,o=t.usdc,c=t.setupComplete,u=e.userProvider.actions.waitTx,d=Object(n.useState)(0),m=Object(l.a)(d,2),p=m[0],y=m[1],v=Object(n.useState)(0),f=Object(l.a)(v,2),b=f[0],h=f[1],E=Object(n.useState)(0),_=Object(l.a)(E,2),g=_[0],O=_[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),N=x[0],C=x[1],k=Object(n.useState)(0),T=Object(l.a)(k,2),L=T[0],S=T[1],j=Object(n.useState)(0),A=Object(l.a)(j,2),F=A[0],M=A[1],B=Object(n.useState)(0),P=Object(l.a)(B,2),I=P[0],D=P[1],W=Object(n.useState)(0),R=Object(l.a)(W,2),G=R[0],V=R[1],U=Object(n.useState)(0),z=Object(l.a)(U,2),q=z[0],J=z[1];Object(n.useEffect)((function(){c&&Q()}),[c]);var K=function(){return!!c||(H("Metamask not detected","You must login to metamask to use this application"),!1)},Q=function(){var e=Object(X.a)($.a.mark((function e(){var t,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K()){e.next=2;break}return e.abrupt("return");case 2:return e.t0=Number,e.next=5,a.tokensPerEthAsync();case 5:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.t2=Number,e.next=10,a.tokensPerUsdAsync();case 10:e.t3=e.sent,n=(0,e.t2)(e.t3),y(t),h(n);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var t=Object(X.a)($.a.mark((function t(n){var r,l;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(K()){t.next=2;break}return t.abrupt("return");case 2:if(!(g<=0)){t.next=4;break}return t.abrupt("return",H("Setup error","You must input more than 0 OVR tokens to buy"));case 4:t.prev=4,t.t0=n,t.next="eth"===t.t0?8:"fiat"===t.t0?15:"usdt"===t.t0?18:"usdc"===t.t0?21:"dai"===t.t0?24:27;break;case 8:return r=g/p,t.next=11,a.buyTokensWithEthAsync({value:r,gasPrice:window.web3.toWei(30,"gwei")});case 11:return l=t.sent,t.next=14,u(l);case 14:return t.abrupt("break",29);case 15:return t.next=17,te();case 17:return t.abrupt("break",29);case 18:return t.next=20,ae(s,"usdt");case 20:return t.abrupt("break",29);case 21:return t.next=23,ae(o,"usdc");case 23:return t.abrupt("break",29);case 24:return t.next=26,ae(i,"dai");case 26:return t.abrupt("break",29);case 27:return H("Error","The currency selected is not correct"),t.abrupt("break",29);case 29:e.userProvider.actions.getOvrsOwned(),t.next=36;break;case 32:t.prev=32,t.t1=t.catch(4),console.log("Error",t.t1),H("Error buying tokens","There was an error processing your transaction refresh this page and try again");case 36:case"end":return t.stop()}}),t,null,[[4,32]])})));return function(e){return t.apply(this,arguments)}}(),te=function(){var e=Object(X.a)($.a.mark((function e(){var t,a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={amount:String(window.web3.fromWei(g/b*100)),addressReceiver:window.web3.eth.defaultAccount,card:{cardNum:L,cardExpiry:{month:F,year:I},cvv:G},billingDetails:{zip:q}},console.log("data to send",a),e.prev=2,e.next=5,fetch("http://staging-credit-card.ovr.ai/buy",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(a)});case 5:return n=e.sent,e.next=8,n.json();case 8:t=e.sent,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",Y("Error processing the payment","There was an error making the credit card purchase refresh the page and try again later"));case 14:if(t){e.next=18;break}return e.abrupt("return",Y("Error","No response received from the payment server"));case 18:if(t.ok){e.next=20;break}return e.abrupt("return",Y("Error buying",t.msg));case 20:Z("Purchase successful","The purchase was completed successfully. It may take between 1 and 3 minutes to see your new tokens.");case 21:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(X.a)($.a.mark((function e(t,n){var r,i,s,l;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.balanceOfAsync(window.web3.eth.defaultAccount);case 4:return r=e.sent,e.next=7,t.allowanceAsync(window.web3.eth.defaultAccount,ne);case 7:if(i=e.sent,!r.greaterThan(i)){e.next=19;break}return e.prev=9,e.next=12,t.approveAsync(ne,r);case 12:return s=e.sent,e.next=15,u(s);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:if(!r.lessThan(g)){e.next=21;break}return e.abrupt("return",H("Not enough tokens","You don't have enough to buy ".concat(window.web3.fromWei(g)," OVR tokens")));case 21:e.prev=21,e.t1=n,e.next="dai"===e.t1?25:"usdt"===e.t1?29:"usdc"===e.t1?33:37;break;case 25:return e.next=27,a.buyTokensWithDaiAsync(g,{gasPrice:window.web3.toWei(30,"gwei")});case 27:return l=e.sent,e.abrupt("break",39);case 29:return e.next=31,a.buyTokensWithUsdtAsync(g,{gasPrice:window.web3.toWei(30,"gwei")});case 31:return l=e.sent,e.abrupt("break",39);case 33:return e.next=35,a.buyTokensWithUsdcAsync(g,{gasPrice:window.web3.toWei(30,"gwei")});case 35:return l=e.sent,e.abrupt("break",39);case 37:return H("Error","The currency selected is not correct"),e.abrupt("break",39);case 39:return e.next=41,u(l);case 41:e.next=46;break;case 43:return e.prev=43,e.t2=e.catch(21),e.abrupt("return",H("Error buying","There was an error buying your OVR tokens"));case 46:case"end":return e.stop()}}),e,null,[[9,17],[21,43]])})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"BuyTokens__container"},r.a.createElement("h1",{className:"full-size"},"Buy OVR tokens"),r.a.createElement("p",{className:"BuyTokens__description full-size"},"You can pay with ETH, Tether, USDC and DAI.",r.a.createElement("br",null),"The current prices are:"),r.a.createElement("ul",{className:"full-size"},r.a.createElement("li",null,"1 ETH gives you: ",r.a.createElement("b",null,p," OVR")),r.a.createElement("li",null,"1 Tether gives you: ",r.a.createElement("b",null,b," OVR")),r.a.createElement("li",null,"1 USDC gives you: ",r.a.createElement("b",null,b," OVR")),r.a.createElement("li",null,"1 DAI gives you: ",r.a.createElement("b",null,b," OVR"))),r.a.createElement("input",{type:"number",placeholder:"Tokens to buy...",className:"BuyTokens__input full-size",onChange:function(e){O(window.web3.toWei(e.target.value))}}),r.a.createElement("button",{className:"HexButton --blue",onClick:function(){return ee("eth")}},"Buy with ETH"),r.a.createElement("button",{className:"HexButton --blue",onClick:function(){C(!N)}},"Buy with Dollars"),r.a.createElement("button",{className:"HexButton --blue",onClick:function(){return ee("usdt")}},"Buy with Tether"),r.a.createElement("button",{className:"HexButton --blue",onClick:function(){return ee("usdc")}},"Buy with USDC"),r.a.createElement("button",{className:"HexButton --blue",onClick:function(){return ee("dai")}},"Buy with DAI"),r.a.createElement("p",{className:"full-size"},"Note: when paying with stablecoins you will receive 2 metamask notifications, simply approve them both to complete the payment."),r.a.createElement("div",{className:N?"CardForm full-size":"hidden"},r.a.createElement("h2",{className:"card-title"},"Card details"),r.a.createElement("input",{type:"number",placeholder:"Card number...",className:"card-number",onChange:function(e){S(e.target.value)}}),r.a.createElement("input",{type:"number",placeholder:"Month",className:"expiration-month",onChange:function(e){M(e.target.value)}}),r.a.createElement("input",{type:"number",placeholder:"Year",className:"expiration-year",onChange:function(e){D(e.target.value)}}),r.a.createElement("input",{type:"number",placeholder:"Cvv",className:"cvv",onChange:function(e){V(e.target.value)}}),r.a.createElement("input",{type:"number",placeholder:"Postal code zip...",className:"zip",onChange:function(e){J(e.target.value)}}),r.a.createElement("button",{className:"HexButton --blue pay-with-card-button",onClick:function(){return ee("fiat")}},"Buy ",0==g?"":window.web3.fromWei(g)," Tokens Paying ",0==g?"":"$"+window.web3.fromWei(g/b)," USD")))}))),$e=a(401),Xe=a(181),Qe=a(414),et=a(175),tt=a.n(et),at=a(402),nt=function(e){var t,a=Object(Re.g)(),n=r.a.useState(null),i=Object(l.a)(n,2),s=i[0],o=i[1],c=r.a.useState(0!==e.data.status),u=Object(l.a)(c,2),d=u[0],m=u[1],p=r.a.useState(!1),y=Object(l.a)(p,2),v=y[0],f=y[1],b=Boolean(s),h=function(e){o(e.currentTarget)},E=function(){o(null)},_=function(){o(null),a.push("/map/land/"+e.data.landUuid),e.actions.toggleNotificationCenter()},g=function(){o(null),f(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return R({url:"/notification/hide",method:"POST"},{notification_uuid:e},null)}(e.data.uuid).then((function(){}))},O=function(){m(!0),d||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return R({url:"/notification/read",method:"POST"},{notification_uuid:e},null)}(e.data.uuid).then((function(t){e.actions.setAsReaded(e.data.uuid)}))};return r.a.createElement(r.a.Fragment,null,v?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{key:e.data.uuid,className:"Notification ".concat(d?"":"--new"),onClick:O},r.a.createElement("div",{className:"Notification__body"},r.a.createElement("div",{className:"Notification__content",dangerouslySetInnerHTML:{__html:(t=e.data.content,t.replace(e.data.landSentence,"<span>"+e.data.landSentence+"</span>"))}}),r.a.createElement("div",{className:"Notification__time"},r.a.createElement(w,{date_end:e.data.createdAt}))),r.a.createElement($e.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:h},r.a.createElement(tt.a,null)),r.a.createElement(Xe.a,{id:"fade-menu",anchorEl:s,keepMounted:!0,open:b,onClose:E,TransitionComponent:at.a},r.a.createElement(Qe.a,{onClick:_},"Go to OVRLand"),r.a.createElement(Qe.a,{onClick:g},"Hide"))))},rt=function(){var e,t=Object(n.useContext)(de),a=t.state,i=t.actions,s=Object(n.useRef)(null);return r.a.createElement("div",{ref:s,className:"NotificationCenter"},(e=s,void Object(n.useEffect)((function(){function t(t){!e.current||e.current.contains(t.target)||document.getElementById("js-open-notification-link").contains(t.target)||i.closeNotificationCenter()}return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[e])),r.a.createElement("div",{className:"NotificationCenter__header"},r.a.createElement("div",{className:"NotificationCenter__title"},"Notifications"),r.a.createElement("div",{className:"NotificationCenter__toggle"})),r.a.createElement("div",{className:"NotificationCenter__body"},(console.log("Notification Center this.context.state.user",a.user),null!==a.user.notifications&&a.user.notifications.content&&a.user.notifications.content.length>0?a.user.notifications.content.map((function(e){return r.a.createElement(nt,{key:e.uuid,data:e,actions:{toggleNotificationCenter:i.toggleShowNotificationCenter,setAsReaded:i.notification.setAsReaded}})})):r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-sub-title"},"There is currently ",r.a.createElement("br",null),"no notifications to display.")))),r.a.createElement("div",{className:"NotificationCenter__footer"},r.a.createElement(x.b,{to:"#",onClick:function(){R({url:"/notifications/read",method:"POST"},{},null).then((function(){i.notification.setAllAsReaded(),i.closeNotificationCenter()}))}},"Mark all as read")))},it=pe((function(){return Object(n.useContext)(de).state.showNotificationCenter?r.a.createElement(rt,null):null})),st=a(176),lt=a.n(st),ot=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).toggleNotificationCenter=function(t){t.preventDefault(),e.context.actions.toggleShowNotificationCenter(!0)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",null),a=this.context.state;return t=!0===a.isLoggedIn&&null!==a.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Navbar__right_container"},r.a.createElement(x.b,{to:"/",id:"js-open-notification-link",className:"Notifications__link",onClick:this.toggleNotificationCenter},r.a.createElement("div",{className:"Notifications__icon"},r.a.createElement("svg",{width:"18px",height:"20px",viewBox:"0 0 18 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"icons/icon_notification"),r.a.createElement("desc",null,"Created with Sketch."),r.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"header",transform:"translate(-1243.000000, -25.000000)"},r.a.createElement("g",{id:"icons/icon_notification",transform:"translate(1242.000000, 25.000000)"},r.a.createElement("rect",{id:"frame",x:"0",y:"0",width:"20",height:"20"}),r.a.createElement("path",{d:"M15.2321227,8.31973225 C12.6665198,2.77582053 11.3339364,0.670834332 7.14155795,0.75810667 C5.64837822,0.788892058 6.00782137,-0.327572512 4.86958472,0.0960796141 C3.73134807,0.51973174 4.70814468,1.13967602 3.54347011,2.098542 C0.278387518,4.79042761 0.57932975,7.2806548 2.09444733,13.2148914 C2.73261361,15.7150038 0.556266888,15.8375804 1.41746793,18.2603057 C2.04607157,20.0275 6.68001944,20.7669142 11.5713151,18.9443627 C16.4614858,17.1226586 19.5474093,13.506364 18.9190869,11.7400171 C18.0576046,9.31616205 16.3141084,10.6543379 15.2321227,8.31973225 Z M11.039463,17.4514126 C6.67242557,19.0788016 3.08305662,18.1221951 2.93146049,17.696566 C2.67017513,16.9628005 4.34110766,14.5146561 9.33449868,12.6545408 C14.3278897,10.7944255 17.113996,11.4838488 17.4050944,12.3037568 C17.5775033,12.7870027 15.4079067,15.824306 11.039463,17.4514126 Z M9.63656593,13.5041045 C7.35362378,14.354798 5.76594257,15.3277857 4.73992643,16.2036159 C5.46162528,16.8633835 6.81642784,17.0246537 8.16644907,16.521355 C9.88491359,15.8816403 10.9396177,14.4121323 10.5219549,13.2391807 C10.517736,13.225059 10.5098609,13.2129143 10.5045171,13.1985101 C10.2232627,13.2922785 9.93441437,13.3925428 9.63656593,13.5041045 Z",id:"Fill-1",fill:"#2B3034",fillRule:"evenodd",opacity:"0.400000006",transform:"translate(10.000000, 10.000000) scale(-1, 1) translate(-10.000000, -10.000000) "})))))),r.a.createElement("div",{className:"Notifications__counter"},a.user.notifications?a.user.notifications.unreadedCount:0)),r.a.createElement("div",{className:"Funds__container"},r.a.createElement(x.b,{to:"/",className:"Funds__link"},r.a.createElement(_,{value:a.ovrsOwned})),r.a.createElement(x.b,{to:"#",className:"Funds__buy HexButton --blue redeem-button",onClick:function(){e.context.actions.redeemLands()}},"Redeem Lands"),r.a.createElement(x.b,{to:"/buy-tokens",className:"Funds__buy HexButton --blue"},"Buy OVR")),r.a.createElement(x.b,{to:"/",className:"Profile__link"},r.a.createElement("span",null,a.user.username),r.a.createElement("div",{className:"Profile__img-cont"},r.a.createElement("div",{id:"Profile__img",className:"Profile__img",style:{backgroundImage:"url(../../assets/img/auction-map.png)"}},r.a.createElement(lt.a,{seed:a.user.uuid||"wewewe",size:12,scale:3,color:"#7521c8",bgColor:"#EC663C",spotColor:"#F9B426"})))),r.a.createElement(it,null))):r.a.createElement("div",{className:"AuthLogin__link"},r.a.createElement(x.c,{className:"NavBar__link General__link",to:"/login"},"Login"),r.a.createElement(x.c,{className:"NavBar__link General__link",to:"/signup"},"Signup")),r.a.createElement("div",{className:"NavBar"},r.a.createElement(x.b,{to:"/",className:"Logo__link"},r.a.createElement("div",{className:"Icon NavBar__logo"},r.a.createElement("svg",{width:"234px",height:"260px",viewBox:"0 0 234 260",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r.a.createElement("title",null,"Group"),r.a.createElement("desc",null,"Created with Sketch."),r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"25.3511512%",y1:"49.9738242%",x2:"107.245785%",y2:"49.9738242%",id:"linearGradient-1"},r.a.createElement("stop",{stopColor:"#6B32C1",offset:"0%"}),r.a.createElement("stop",{stopColor:"#C81D5E",offset:"99.6%"})),r.a.createElement("linearGradient",{x1:"0%",y1:"49.997576%",x2:"100.032735%",y2:"49.997576%",id:"linearGradient-2"},r.a.createElement("stop",{stopColor:"#EC663C",offset:"0%"}),r.a.createElement("stop",{stopColor:"#F9B426",offset:"100%"})),r.a.createElement("linearGradient",{x1:"52.9498211%",y1:"9.77958549%",x2:"46.413551%",y2:"97.6215544%",id:"linearGradient-3"},r.a.createElement("stop",{stopColor:"#0081DD",offset:"0%"}),r.a.createElement("stop",{stopColor:"#0589E0",offset:"18.55%"}),r.a.createElement("stop",{stopColor:"#11A0E9",offset:"47.85%"}),r.a.createElement("stop",{stopColor:"#25C5F8",offset:"84.03%"}),r.a.createElement("stop",{stopColor:"#2FD7FF",offset:"99.72%"})),r.a.createElement("linearGradient",{x1:"50.0693857%",y1:"83.9637181%",x2:"50.0693857%",y2:"-0.0504747626%",id:"linearGradient-4"},r.a.createElement("stop",{stopColor:"#4E4D4C",offset:"0%"}),r.a.createElement("stop",{stopColor:"#5A5858",offset:"12.43%"}),r.a.createElement("stop",{stopColor:"#747273",offset:"46.61%"}),r.a.createElement("stop",{stopColor:"#848183",offset:"76.91%"}),r.a.createElement("stop",{stopColor:"#8A8789",offset:"100%"})),r.a.createElement("radialGradient",{cx:"35.4086957%",cy:"34.4852355%",fx:"35.4086957%",fy:"34.4852355%",r:"66.2842391%",id:"radialGradient-5"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FDFDFC",stopOpacity:"0.8589",offset:"35.27%"}),r.a.createElement("stop",{stopColor:"#F6F6F2",stopOpacity:"0.7424",offset:"64.4%"}),r.a.createElement("stop",{stopColor:"#EAEBE0",stopOpacity:"0.635",offset:"91.26%"}),r.a.createElement("stop",{stopColor:"#E5E6D9",stopOpacity:"0.6",offset:"100%"})),r.a.createElement("linearGradient",{x1:"21.2472955%",y1:"18.1560041%",x2:"81.1871703%",y2:"81.6403727%",id:"linearGradient-6"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0.5",offset:"99.99%"})),r.a.createElement("linearGradient",{x1:"37.2050099%",y1:"17.2946945%",x2:"63.1259484%",y2:"89.469351%",id:"linearGradient-7"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0.3",offset:"99.99%"}))),r.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"logo_ovr"},r.a.createElement("g",{id:"Group"},r.a.createElement("path",{d:"M228.9,48.9 C226,44.9 222,41.6 217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 L117,96.6 L117,163.6 L228.9,210.5 C232.2,205.9 234,200.4 234,194.5 L234,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z",id:"h_viola_1_",fill:"url(".concat(window.location,"#linearGradient-1")}),r.a.createElement("path",{d:"M106.5,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 C1.9,53.5 0,59.1 0,64.9 L0,194.4 C0,200.3 1.9,205.8 5.1,210.4 L117,163.5 L117,96.5 L117,0 C113.4,0 109.8,0.7 106.5,2.1 Z",id:"h_org_1_",fill:"url(".concat(window.location,"#linearGradient-2")}),r.a.createElement("path",{d:"M117,163.5 L5.1,210.4 C8,214.4 11.9,217.6 16.6,219.6 L88.7,250.3 L106.2,257.8 C109.6,259.3 113.3,260 116.9,260 C120.6,260 124.2,259.3 127.6,257.8 L139.8,252.6 L217.2,219.6 C221.9,217.6 225.9,214.4 228.7,210.4 L117,163.5 Z",id:"h_blu_1_",fill:"url(".concat(window.location,"#linearGradient-3")}),r.a.createElement("path",{d:"M198.7,67.6 C196.6,64.5 193.7,62 190.2,60.5 L164.7,49.2 L124.8,31.6 C122.3,30.5 119.7,30 117.1,30 C114.5,30 111.8,30.5 109.4,31.6 L46.1,59.5 L43.9,60.5 C40.4,62 37.5,64.5 35.4,67.6 C33,71.1 31.6,75.4 31.6,79.9 L31.6,179.6 C31.6,184.1 33,188.4 35.3,191.9 C37.4,195 40.3,197.5 43.7,199 L96.3,222.6 L109.1,228.4 C111.6,229.5 114.3,230.1 116.9,230.1 C119.5,230.1 122.2,229.5 124.7,228.4 L133.6,224.4 L190.1,199 C193.5,197.5 196.4,195 198.5,191.9 C200.9,188.4 202.2,184.1 202.2,179.6 L202.2,79.9 C202.5,75.4 201.1,71.1 198.7,67.6 Z",id:"h_hex-trasp_1_",fill:"url(".concat(window.location,"#linearGradient-4"),opacity:"0.45",style:{mixBlendMode:"color-burn"}}),r.a.createElement("circle",{id:"h_sphere_1_",fill:"url(".concat(window.location,"#radialGradient-5)"),cx:"117",cy:"129.6",r:"55.2"}),r.a.createElement("path",{d:"M217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 C113.4,0 109.8,0.7 106.4,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 L117,96.6 L228.9,49 C226,44.9 222,41.7 217.3,39.7 Z",id:"h_top_1_",fill:"url(".concat(window.location,"#linearGradient-6"),opacity:"0.76",style:{mixBlendMode:"soft-light"}}),r.a.createElement("path",{d:"M228.9,48.9 L117,96.6 L117,163.6 L117,260 C120.7,260 124.3,259.3 127.7,257.8 L139.9,252.6 L217.3,219.6 C222,217.6 226,214.4 228.8,210.4 C232.1,205.8 233.9,200.3 233.9,194.4 L233.9,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z",id:"h_left_1_",fill:"url(".concat(window.location,"#linearGradient-7"),style:{mixBlendMode:"soft-light"}}))))))),r.a.createElement("div",{className:"Navbar__link_container"},r.a.createElement(x.c,{className:"NavBar__link",to:"/map/discover"},"Discover"),r.a.createElement(x.c,{className:"NavBar__link",to:"/map/overview"},"My Assets"),r.a.createElement(x.c,{className:"NavBar__link",to:"/profile"},"Profile"),t))}}]),a}(n.Component);ot.contextType=de;var ct=pe(ot),ut=a(177),dt=a(97),mt=a.n(dt),pt=(a(332),a(178)),yt=a(127),vt=a.n(yt),ft=a(85),bt=a(413),ht=a(179),Et=a.n(ht),_t=function(e){var t=e.previousLinks,a=e.currentPageLabel,n=e.className,i=je().format("HH:mm, dddd, MMM D, YYYY");return r.a.createElement("div",{className:"breadcrumbs ".concat(n)},r.a.createElement(bt.a,{className:"breadcrumbs--items",separator:r.a.createElement(Et.a,{fontSize:"small"}),"aria-label":"breadcrumb"},t.map((function(e,t){return r.a.createElement(x.b,{className:"breadcrumbs--prevlink",key:"prev_link_".concat(t),color:"inherit",to:e.href},e.label)})),r.a.createElement("span",{className:"breadcrumbs--currentlabel"},a)),r.a.createElement("span",{className:"breadcrumbs--datetime"},i))};_t.defaultProps={previousLinks:[],currentPageLabel:"undefined",className:""};var gt=_t,Ot=function(){var e=Object(n.useContext)(y).state,t=Object(Re.h)().pathname,a=e.hex_id,i=e.landData,s=t.split("/")[2];s=s.charAt(0).toUpperCase()+s.slice(1);var l=[],o=1===i.marketStatus,c=0!==i.userPerspective;"Land"===s&&(0===Object.keys(i).length&&i.constructor===Object?s="":(l.push({href:"".concat(c?"/map/overview":"/map/discover"),label:"".concat(c?"My ":"").concat(o?"Auctions":"Lands")}),s=i.name&&i.name.sentence||a));return r.a.createElement(gt,{currentPageLabel:s,previousLinks:l})},wt=a(405),xt=a(406),Nt=function(){function e(t,a){Object(c.a)(this,e),this.data=t||[],this.index=a||0}return Object(u.a)(e,[{key:"getCurrent",value:function(){return this.data[(this.index%this.data.length+this.data.length)%this.data.length]}},{key:"getNext",value:function(){var e=((this.index+1)%this.data.length+this.data.length)%this.data.length;return this.data[e]}},{key:"getPrevious",value:function(){var e=((this.index-1)%this.data.length+this.data.length)%this.data.length;return this.data[e]}},{key:"moveToNext",value:function(){var e=((this.index+1)%this.data.length+this.data.length)%this.data.length;this.index=e}},{key:"moveToPrevious",value:function(){var e=((this.index-1)%this.data.length+this.data.length)%this.data.length;this.index=e}}]),e}(),Ct=function(){var e=Object(n.useContext)(y).state.auctionList,t=new Nt(e.map((function(e){return e.land})),0),a=Object(n.useState)(t.getCurrent()),i=Object(l.a)(a,2),s=i[0],o=i[1],c=Object(n.useState)(t.getPrevious()),u=Object(l.a)(c,2),d=u[0],m=u[1],p=Object(n.useState)(t.getNext()),v=Object(l.a)(p,2),f=v[0],b=v[1],h=Object(n.useState)(0),E=Object(l.a)(h,2),_=E[0],g=E[1];Object(n.useEffect)((function(){t.index=_,o(t.getCurrent()),m(t.getPrevious()),b(t.getNext())}));var O=s&&s.address.city?"".concat(s.address.city,", "):"";return e.length>0&&r.a.createElement("div",{className:"map-navigation-box"},d&&r.a.createElement(x.b,{to:"/map/land/".concat(d.uuid),onClick:function(){g(_-1)}},r.a.createElement(wt.a,{fontSize:"large",style:{color:Be.a[800]}})),s&&r.a.createElement("div",{className:"map-navigation-box--current"},r.a.createElement("div",{className:"map-navigation-box--current--name"},s.sentenceId),r.a.createElement("div",{className:"map-navigation-box--current--location"},O,s.address.country)),f&&r.a.createElement(x.b,{to:"/map/land/".concat(f.uuid),onClick:function(){g(_+1)}},r.a.createElement(xt.a,{fontSize:"large",style:{color:Be.a[800]}})))},kt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).hexagons=n.hexagons.bind(Object(d.a)(n)),n.initMap=n.initMap.bind(Object(d.a)(n)),n.waitMapStyle=n.waitMapStyle.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"renderHexes",value:function(e){var t=vt.a.h3SetToFeatureCollection(Object.keys(e),(function(t){return{value:e[t]}})),a="".concat("h3-hexes","-layer"),n=this.map.getSource("h3-hexes");n||(this.map.addSource("h3-hexes",{type:"geojson",data:t}),this.map.addLayer({id:a,source:"h3-hexes",type:"fill",interactive:!1,paint:{"fill-outline-color":"rgba(255,255,255,1)"}}),n=this.map.getSource("h3-hexes")),n.setData(t),this.map.setPaintProperty(a,"fill-opacity",L.map.fillOpacity),this.map.setPaintProperty(a,"fill-color",{property:"value",stops:[[0,L.map.colorScale[0]],[.5,L.map.colorScale[0]],[1,L.map.colorScale[0]]]})}},{key:"hexagons",value:function(){var e=this.map.getCenter(),t=ft.geoToH3(e.lat,e.lng,12),a=ft.kRing(t,20),n=Object.assign({},a);return Object.keys(n).reduce((function(e,t){return e[n[t]]=Math.random(),e}),{})}},{key:"initMap",value:function(){var e=this,t=this.context.state;mt.a.accessToken="pk.eyJ1IjoibWFudG9uZWxsaSIsImEiOiJjam9hNmljdHkwY2Y0M3JuejJrenhmMWE1In0.dC9b8oqj24iiSfm-qbNqmw",this.map=new mt.a.Map({container:"Map",center:[L.map.lng,L.map.lat],zoom:L.map.zoom,style:"mapbox://styles/mapbox/light-v9"});var a=new pt({accessToken:mt.a.accessToken,marker:!1});this.map.addControl(a),this.map.on("load",(function(){a.on("result",(function(t){e.map.flyTo({center:[t.result.geometry.coordinates[0],t.result.geometry.coordinates[1]],zoom:18,speed:1.8})})),e.map.addLayer({id:"mapbox-mapbox-satellite",source:{type:"raster",url:"mapbox://mapbox.satellite",tileSize:256},type:"raster"}),e.map.setLayoutProperty("mapbox-mapbox-satellite","visibility","none");var n=document.getElementById("js-map-view");n&&n.addEventListener("click",(function(){"on"===n.className?(n.setAttribute("class","off"),e.map.setLayoutProperty("mapbox-mapbox-satellite","visibility","none"),n.innerHTML="Satellite"):(n.setAttribute("class","on"),e.map.setLayoutProperty("mapbox-mapbox-satellite","visibility","visible"),n.innerHTML="Streets")})),!0===t.onSingleView&&e.focusMap(t.hex_id,t.isAuction)}));var n=this;this.map.on("moveend",(function(){n.map.getZoom()>17&&n.renderHexes(n.hexagons())})),this.map.on("click",(function(e){var a=ft.geoToH3(e.lngLat.lat,e.lngLat.lng,12);n.focusMap(a,t.isAuction),n.props.history.push("/map/land/".concat(a));var r=new CustomEvent("land-selected",{detail:{hex_id:a}});document.dispatchEvent(r)}))}},{key:"focusMap",value:function(e,t){var a=ft.h3ToGeo(e);this.map.flyTo({center:[a[1],a[0]],zoom:18,speed:1.8});var n=vt.a.h3ToFeature(e),r="".concat("h3-hexes_selected","-layer"),i=this.map.getSource("h3-hexes_selected");i||(this.map.addSource("h3-hexes_selected",{type:"geojson",data:n}),this.map.addLayer({id:r,source:"h3-hexes_selected",type:"fill",interactive:!1,paint:{"fill-outline-color":"#4A90E2","fill-color":"rgba(74,144,226,0.20)","fill-opacity":1}}),i=this.map.getSource("h3-hexes_selected")),i.setData(n),this.map.setLayoutProperty(r,"visibility","visible")}},{key:"plotAuctions",value:function(){for(var e=document.getElementsByClassName("Map__ping_container");e[0];)e[0].parentNode.removeChild(e[0]);var t,a=Object(ut.a)(this.context.state.auctionList);try{for(a.s();!(t=a.n()).done;){var n=t.value,r=0;switch(n.status){case 0:r="--open";break;case 1:r="--outbidded";break;default:r="--open"}var i=document.createElement("div");i.className="Map__ping_container ".concat(r),i.insertAdjacentHTML("beforeend",'<div class="c-ping-layer c-ping-layer-1"></div>'),new mt.a.Marker(i).setLngLat([n.land.address.geocenter[1],n.land.address.geocenter[0]]).addTo(this.map)}}catch(s){a.e(s)}finally{a.f()}}},{key:"waitMapStyle",value:function(){this.map.isStyleLoaded()?this.focusMap(this.context.state.hex_id,this.context.state.isAuction):setTimeout(this.waitMapStyle,200)}},{key:"componentDidMount",value:function(){this.initMap()}},{key:"shouldComponentUpdate",value:function(e,t,a){return this.context.state.onSingleView!==a.state.onSingleView}},{key:"componentDidUpdate",value:function(){!0===this.context.state.onSingleView?this.waitMapStyle():(this.plotAuctions(),this.map.flyTo({center:[L.map.lng,L.map.lat],zoom:L.map.zoom,speed:1.8}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot,null),r.a.createElement("div",{id:"Map",className:"Map"},r.a.createElement("div",{id:"js-map-view"},"Satellite"),r.a.createElement(Ct,null)))}}]),a}(n.Component);kt.contextType=y;var Tt=f(kt),Lt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Footer"},r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container"},r.a.createElement(x.b,{to:"/",className:"Logo__footer_link"},r.a.createElement("div",{className:"Footer__logo Icon"},r.a.createElement("svg",{width:"234px",height:"260px",viewBox:"0 0 234 260",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r.a.createElement("title",null,"Group"),r.a.createElement("desc",null,"Created with Sketch."),r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"25.3511512%",y1:"49.9738242%",x2:"107.245785%",y2:"49.9738242%",id:"linearGradient-1"},r.a.createElement("stop",{stopColor:"#6B32C1",offset:"0%"}),r.a.createElement("stop",{stopColor:"#C81D5E",offset:"99.6%"})),r.a.createElement("linearGradient",{x1:"0%",y1:"49.997576%",x2:"100.032735%",y2:"49.997576%",id:"linearGradient-2"},r.a.createElement("stop",{stopColor:"#EC663C",offset:"0%"}),r.a.createElement("stop",{stopColor:"#F9B426",offset:"100%"})),r.a.createElement("linearGradient",{x1:"52.9498211%",y1:"9.77958549%",x2:"46.413551%",y2:"97.6215544%",id:"linearGradient-3"},r.a.createElement("stop",{stopColor:"#0081DD",offset:"0%"}),r.a.createElement("stop",{stopColor:"#0589E0",offset:"18.55%"}),r.a.createElement("stop",{stopColor:"#11A0E9",offset:"47.85%"}),r.a.createElement("stop",{stopColor:"#25C5F8",offset:"84.03%"}),r.a.createElement("stop",{stopColor:"#2FD7FF",offset:"99.72%"})),r.a.createElement("linearGradient",{x1:"50.0693857%",y1:"83.9637181%",x2:"50.0693857%",y2:"-0.0504747626%",id:"linearGradient-4"},r.a.createElement("stop",{stopColor:"#4E4D4C",offset:"0%"}),r.a.createElement("stop",{stopColor:"#5A5858",offset:"12.43%"}),r.a.createElement("stop",{stopColor:"#747273",offset:"46.61%"}),r.a.createElement("stop",{stopColor:"#848183",offset:"76.91%"}),r.a.createElement("stop",{stopColor:"#8A8789",offset:"100%"})),r.a.createElement("radialGradient",{cx:"35.4086957%",cy:"34.4852355%",fx:"35.4086957%",fy:"34.4852355%",r:"66.2842391%",id:"radialGradient-5"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FDFDFC",stopOpacity:"0.8589",offset:"35.27%"}),r.a.createElement("stop",{stopColor:"#F6F6F2",stopOpacity:"0.7424",offset:"64.4%"}),r.a.createElement("stop",{stopColor:"#EAEBE0",stopOpacity:"0.635",offset:"91.26%"}),r.a.createElement("stop",{stopColor:"#E5E6D9",stopOpacity:"0.6",offset:"100%"})),r.a.createElement("linearGradient",{x1:"21.2472955%",y1:"18.1560041%",x2:"81.1871703%",y2:"81.6403727%",id:"linearGradient-6"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0.5",offset:"99.99%"})),r.a.createElement("linearGradient",{x1:"37.2050099%",y1:"17.2946945%",x2:"63.1259484%",y2:"89.469351%",id:"linearGradient-7"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0.3",offset:"99.99%"}))),r.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"logo_ovr"},r.a.createElement("g",{id:"Group"},r.a.createElement("path",{d:"M228.9,48.9 C226,44.9 222,41.6 217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 L117,96.6 L117,163.6 L228.9,210.5 C232.2,205.9 234,200.4 234,194.5 L234,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z",id:"h_viola_1_",fill:"url(".concat(window.location,"#linearGradient-1")}),r.a.createElement("path",{d:"M106.5,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 C1.9,53.5 0,59.1 0,64.9 L0,194.4 C0,200.3 1.9,205.8 5.1,210.4 L117,163.5 L117,96.5 L117,0 C113.4,0 109.8,0.7 106.5,2.1 Z",id:"h_org_1_",fill:"url(".concat(window.location,"#linearGradient-2")}),r.a.createElement("path",{d:"M117,163.5 L5.1,210.4 C8,214.4 11.9,217.6 16.6,219.6 L88.7,250.3 L106.2,257.8 C109.6,259.3 113.3,260 116.9,260 C120.6,260 124.2,259.3 127.6,257.8 L139.8,252.6 L217.2,219.6 C221.9,217.6 225.9,214.4 228.7,210.4 L117,163.5 Z",id:"h_blu_1_",fill:"url(".concat(window.location,"#linearGradient-3")}),r.a.createElement("path",{d:"M198.7,67.6 C196.6,64.5 193.7,62 190.2,60.5 L164.7,49.2 L124.8,31.6 C122.3,30.5 119.7,30 117.1,30 C114.5,30 111.8,30.5 109.4,31.6 L46.1,59.5 L43.9,60.5 C40.4,62 37.5,64.5 35.4,67.6 C33,71.1 31.6,75.4 31.6,79.9 L31.6,179.6 C31.6,184.1 33,188.4 35.3,191.9 C37.4,195 40.3,197.5 43.7,199 L96.3,222.6 L109.1,228.4 C111.6,229.5 114.3,230.1 116.9,230.1 C119.5,230.1 122.2,229.5 124.7,228.4 L133.6,224.4 L190.1,199 C193.5,197.5 196.4,195 198.5,191.9 C200.9,188.4 202.2,184.1 202.2,179.6 L202.2,79.9 C202.5,75.4 201.1,71.1 198.7,67.6 Z",id:"h_hex-trasp_1_",fill:"url(".concat(window.location,"#linearGradient-4"),opacity:"0.45",style:{mixBlendMode:"color-burn"}}),r.a.createElement("circle",{id:"h_sphere_1_",fill:"url(".concat(window.location,"#radialGradient-5)"),cx:"117",cy:"129.6",r:"55.2"}),r.a.createElement("path",{d:"M217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 C113.4,0 109.8,0.7 106.4,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 L117,96.6 L228.9,49 C226,44.9 222,41.7 217.3,39.7 Z",id:"h_top_1_",fill:"url(".concat(window.location,"#linearGradient-6"),opacity:"0.76",style:{mixBlendMode:"soft-light"}}),r.a.createElement("path",{d:"M228.9,48.9 L117,96.6 L117,163.6 L117,260 C120.7,260 124.3,259.3 127.7,257.8 L139.9,252.6 L217.3,219.6 C222,217.6 226,214.4 228.8,210.4 C232.1,205.8 233.9,200.3 233.9,194.4 L233.9,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z",id:"h_left_1_",fill:"url(".concat(window.location,"#linearGradient-7"),style:{mixBlendMode:"soft-light"}}))))))),r.a.createElement("div",{className:"Footer__copyright"},"Over Holding Srl \xa9 2020"))),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container --large"},"Over Holding Srl ",r.a.createElement("br",null),"Viale Tricesimo n. 200",r.a.createElement("br",null),"33100 Udine - Italy",r.a.createElement("br",null),"Vat no. IT02945890305")),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container"},r.a.createElement("div",{className:"Footer__title"},"Legal"),r.a.createElement(x.b,{to:"/",className:"Footer__link"},"Terms of Service"),r.a.createElement(x.b,{to:"/",className:"Footer__link"},"Privacy"))),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container"},r.a.createElement("div",{className:"Footer__title"},"Community"),r.a.createElement(x.b,{to:"/",className:"Footer__link"},"Telegram"),r.a.createElement(x.b,{to:"/",className:"Footer__link"},"Medium"),r.a.createElement(x.b,{to:"/",className:"Footer__link"},"Facebook"))))}}]),a}(n.Component),St=pe((function(){Object(n.useContext)(de);var e=M("firstAfterSignup");return Object(n.useEffect)((function(){e&&B("firstAfterSignup")}),[]),r.a.createElement(r.a.Fragment,null,e&&r.a.createElement("div",{className:"BannerNotification"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"--positive"},r.a.createElement("div",{className:"BannerNotification__title"},"Welome to OVR \ud83e\udd73"),r.a.createElement("div",{className:"BannerNotification__content"},"You can now own your land, customized it, top up your OVR wallet")))))}));var jt=function(){return r.a.createElement(me,null,r.a.createElement(v,null,r.a.createElement(de.Consumer,null,(function(e){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement(x.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(V.a,null),r.a.createElement(ct,null),r.a.createElement(St,null),r.a.createElement("div",{className:"o-container"},r.a.createElement(Re.b,{path:"/map/",component:Tt})),r.a.createElement(Re.d,null,r.a.createElement(Re.b,{exact:!0,path:"/"},r.a.createElement(Re.a,{to:"/map/discover"})),r.a.createElement(Re.b,{path:"/map/discover",component:q}),r.a.createElement(Re.b,{path:"/map/overview",component:J}),r.a.createElement(Re.b,{path:"/profile",component:We}),r.a.createElement(Re.b,{path:"/map/land/:id",component:Se}),r.a.createElement(Re.b,{path:"/login",component:Ge}),r.a.createElement(Re.b,{path:"/signup",component:Je}),r.a.createElement(Re.b,{path:"/buy-tokens",component:Ke})),r.a.createElement(Lt,null)))}))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(jt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[196,1,2]]]);
//# sourceMappingURL=main.af5a287a.chunk.js.map