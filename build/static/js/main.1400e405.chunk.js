(this.webpackJsonpmarketplace=this.webpackJsonpmarketplace||[]).push([[0],{185:function(e,t,a){e.exports=a.p+"static/media/ovr.ee984550.png"},220:function(e,t,a){e.exports=a(383)},225:function(e,t,a){},226:function(e,t,a){},228:function(e,t,a){},267:function(e,t,a){},330:function(e,t){},332:function(e,t){},352:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),c=a.n(i),s=(a(225),a(226),a(57)),l=a(189),o=a(58);function u(){return s.a.language||window.localStorage.i18nextLng||""}s.a.use(l.a).use(o.e).init({lng:localStorage.getItem("i18nextLng"),backend:{loadPath:"/assets/i18n/{{ns}}/{{lng}}.json"},fallbackLng:"en",debug:!0,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});s.a,a(227);var d=a(4),m=(a(228),a(15)),p=a(17),v=a(18),y=a(26),b=a(20),f=a(19),h=a(65),g=a(38),E=a.n(g),_=Object(n.createContext)(),w=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={onSingleView:!1,hex_id:"8c81326dda43dff",isAuction:!1,isUserRelated:!1,activeBidOverlay:!1,activeMintOverlay:!1,activeSellOverlay:!1,activeBuyOfferOverlay:!1,activeBuyOverlay:!1,onMultipleLandSelection:!1,multipleLandSelectionList:[],auctionList:[],landData:{}},n.changeHexId=n.changeHexId.bind(Object(y.a)(n)),n.disableSingleView=n.disableSingleView.bind(Object(y.a)(n)),n.enableMultipleLandSelection=n.enableMultipleLandSelection.bind(Object(y.a)(n)),n.disableMultipleLandSelection=n.disableMultipleLandSelection.bind(Object(y.a)(n)),n.changeMultipleLandSelectionList=n.changeMultipleLandSelectionList.bind(Object(y.a)(n)),n.changeAuctionList=n.changeAuctionList.bind(Object(y.a)(n)),n.changeActiveBidOverlay=n.changeActiveBidOverlay.bind(Object(y.a)(n)),n.changeActiveMintOverlay=n.changeActiveMintOverlay.bind(Object(y.a)(n)),n.changeActiveSellOverlay=n.changeActiveSellOverlay.bind(Object(y.a)(n)),n.changeActiveBuyOfferOverlay=n.changeActiveBuyOfferOverlay.bind(Object(y.a)(n)),n.changeLandData=n.changeLandData.bind(Object(y.a)(n)),n.changeActiveBuyOverlay=n.changeActiveBuyOverlay.bind(Object(y.a)(n)),n}return Object(v.a)(a,[{key:"changeHexId",value:function(e){h.h3IsValid(e)&&this.setState({onSingleView:!0,hex_id:e,isAuction:!0})}},{key:"enableMultipleLandSelection",value:function(){this.setState({onMultipleLandSelection:!0})}},{key:"disableMultipleLandSelection",value:function(){this.setState({onMultipleLandSelection:!1})}},{key:"disableSingleView",value:function(){this.setState({onSingleView:!1})}},{key:"changeLandData",value:function(e){this.setState({landData:e})}},{key:"changeAuctionList",value:function(e){this.setState({auctionList:e})}},{key:"changeMultipleLandSelectionList",value:function(e){this.setState({multipleLandSelectionList:E.a.uniq(e)})}},{key:"changeActiveBidOverlay",value:function(e){this.setState({activeBidOverlay:e})}},{key:"changeActiveMintOverlay",value:function(e){this.setState({activeMintOverlay:e})}},{key:"changeActiveSellOverlay",value:function(e){this.setState({activeSellOverlay:e})}},{key:"changeActiveBuyOfferOverlay",value:function(e){this.setState({activeBuyOfferOverlay:e})}},{key:"changeActiveBuyOverlay",value:function(e){this.setState({activeBuyOverlay:e})}},{key:"render",value:function(){return r.a.createElement(_.Provider,{value:{state:this.state,actions:{changeHexId:this.changeHexId,changeActiveBidOverlay:this.changeActiveBidOverlay,changeActiveMintOverlay:this.changeActiveMintOverlay,changeAuctionList:this.changeAuctionList,disableSingleView:this.disableSingleView,changeActiveSellOverlay:this.changeActiveSellOverlay,changeActiveBuyOfferOverlay:this.changeActiveBuyOfferOverlay,changeLandData:this.changeLandData,changeActiveBuyOverlay:this.changeActiveBuyOverlay,enableMultipleLandSelection:this.enableMultipleLandSelection,disableMultipleLandSelection:this.disableMultipleLandSelection,changeMultipleLandSelectionList:this.changeMultipleLandSelectionList},overviewList:this.overviewList}},this.props.children)}}]),a}(n.Component);function O(e){return function(t){Object(b.a)(n,t);var a=Object(f.a)(n);function n(){return Object(p.a)(this,n),a.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(_.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t.props,{mapProvider:Object(m.a)({},a)}))}))}}]),n}(r.a.Component)}var N=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"TextCounter"},r.a.createElement("div",{className:"TextCounter__text"}," ",this.props.value," "),r.a.createElement("div",{className:"TextCounter__label"}," ",this.props.label," "))}}]),a}(n.Component),k=a(89),x=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"LandName"},this.props.value&&r.a.createElement(N,{value:this.props.value,label:"OVR"}),r.a.createElement("div",{className:"LandName__name"},r.a.createElement(k.Textfit,{mode:"single",max:17},this.props.name.sentence)),r.a.createElement("div",{className:"LandName__location"}," ",this.props.location," "))}}]),a}(n.Component),C=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ValueCounter"},r.a.createElement("div",{className:"ValueCounter__icon"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"18px",height:"20px",viewBox:"0 0 18 20",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"109.444%",y1:"100%",x2:"0%",y2:"0%",id:"prefix__a"},r.a.createElement("stop",{stopColor:"#EB663B",offset:"0%"}),r.a.createElement("stop",{stopColor:"#F9B326",offset:"100%"}))),r.a.createElement("g",{transform:"translate(-1)",stroke:"url(".concat(window.location.protocol+"//"+window.location.host+window.location.pathname,"#prefix__a)"),fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M18.5 5.246v9.462a2.01 2.01 0 01-1.21 1.842l-5.624 2.41-.886.38a1.984 1.984 0 01-1.56 0l-1.274-.546L2.71 16.55a2.01 2.01 0 01-1.21-1.842V5.246A2.01 2.01 0 012.721 3.4l.218-.091L9.23.656a1.973 1.973 0 011.538 0l3.974 1.674L17.279 3.4A2.01 2.01 0 0118.5 5.246z"}),r.a.createElement("path",{d:"M15.958 5.47a1.472 1.472 0 00-.62-.518l-1.86-.817-2.914-1.28a1.4 1.4 0 00-1.128 0L4.822 4.881l-.16.07a1.472 1.472 0 00-.62.517 1.582 1.582 0 00-.275.896V13.6c0 .327.099.638.273.892.153.224.363.405.614.517l3.84 1.716.934.417a1.4 1.4 0 001.144 0l.65-.29 4.124-1.843c.251-.112.461-.293.614-.517.174-.254.273-.565.273-.892V6.365c0-.329-.1-.64-.275-.896z"}),r.a.createElement("path",{d:"M6.033 10c0-2.16 1.776-3.912 3.967-3.912 2.19 0 3.967 1.752 3.967 3.912S12.19 13.912 10 13.912c-2.19 0-3.967-1.752-3.967-3.912z"}))))),r.a.createElement("div",{className:"ValueCounter__value"}," ",this.props.value))}}]),a}(n.Component),S=a(192),T=a.n(S),j=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"TimeCounter"},r.a.createElement(T.a,{local:!0,fromNow:!0},this.props.date_end))}}]),a}(n.Component),L=a(9),M=function(e){var t=e.user_perspective,a=e.background_image,n=e.name,i=e.value,c=e.location,s=e.date_end,l=n.sentence,o=n.hex,u="--open",d="OPEN";switch(t){case 1:u="--open",d="OPEN";break;case 2:u="--bestbid",d="BEST BID";break;case 3:u="--outbidded",d="OUTBIDDED";break;default:u="--open",d="OPEN"}return r.a.createElement("div",{className:"AuctionCard ".concat(u)},r.a.createElement(L.b,{to:"/map/land/".concat(o)},r.a.createElement("div",{className:"AuctionCard__header",style:{backgroundImage:a}},r.a.createElement("div",{className:"c-status-badge AuctionCard__status"},d),r.a.createElement("div",{className:"AuctionCard__ping_container"},r.a.createElement("div",{className:"c-ping-layer c-ping-layer-1"}," "),r.a.createElement("div",{className:"c-ping-layer c-ping-layer-2"}," "),r.a.createElement("div",{className:"c-ping-layer c-ping-layer-3"}," "),r.a.createElement("div",{className:"c-ping-layer c-ping-layer-4"}," ")))),r.a.createElement("div",{className:"AuctionCard__body"},r.a.createElement(x,{name:{sentence:l,hex:o},location:c}),r.a.createElement("div",{className:"AuctionCard__bottom_line"},r.a.createElement("div",{className:"o-half"},r.a.createElement(C,{value:i})),r.a.createElement("div",{className:"o-half"},r.a.createElement(j,{time:20,signature:"mins",date_end:s})))))},B=function(e){return e.is_minimal?r.a.createElement("div",{className:"LandCard --minimal"},r.a.createElement("div",{className:"LandCard__cont"},r.a.createElement("div",{className:"LandCard__body"},r.a.createElement("div",{className:"LandName"},r.a.createElement("div",{className:"LandName__name"},r.a.createElement(k.Textfit,{mode:"single",max:17},e.name.sentence))),r.a.createElement("div",{className:"LandCard__body__footer"},r.a.createElement(C,{value:e.value}))))):r.a.createElement(L.b,{to:"/map/land/".concat(e.name.hex),className:"LandCard"},r.a.createElement("div",{className:"LandCard__header",style:{backgroundImage:e.background_image}}),r.a.createElement("div",{className:"LandCard__cont"},r.a.createElement("div",{className:"LandCard__body"},r.a.createElement(x,{name:e.name,location:e.location}),r.a.createElement("div",{className:"LandCard__body__footer"},r.a.createElement(j,{time:20,signature:"mins",date_end:e.date_end})))))},A={web3network:3,environment:"DEVELOPMENT",apis:{hostname:"http://localhost:3000/api/v1",socket:"ws://localhost:3000/cable",indacoinHelperApi:"https://web3-helper-staging.ovr.ai/indacoin",etherscan:"https://ropsten.etherscan.io/",cookieDomain:"localhost",sumsubApi:"https://test-api.sumsub.com"},map:{lat:46.0922495,lng:13.2312417,zoom:0,fillOpacity:.3,colorScale:["#5F39BE","#ffffff","#1a0731","#EC663C","#0081DD"]}};function I(e){var t=E.a.cloneDeep(e);return E.a.isArray(t)?E.a.map(t,I):E.a.isString(t)?t:(t=E.a.mapKeys(t,(function(e,t){return E.a.camelCase(t)})),E.a.mapValues(t,(function(e){return E.a.isPlainObject(e)?I(e):E.a.isArray(e)?E.a.map(e,I):e})))}Array.prototype.readNotification=function(e){var t=this.find((function(t){return t.uuid===e}));t&&(t.status=1)},Array.prototype.readAllNotifications=function(){this.forEach((function(e){e.status=1}))};var P=function(e){return new Promise((function(t,a){return e((function(e,n){e?a(e):t(n)}))}))};var F=a(69),D=a.n(F);function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token",t=arguments.length>1?arguments[1]:void 0;D.a.set(e,t,{domain:A.apis.cookieDomain})}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return D.a.get(e)}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";D.a.remove(e)}function G(){return void 0!==function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userToken";return D.a.get(e)}()}var H=a(131),V=a.n(H);function z(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",t=arguments.length>1?arguments[1]:void 0;D.a.set(e,t,{domain:A.apis.cookieDomain})}("user",e),K({url:"/user/profile",method:"GET"},{},null)}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return K({url:"/auction/start",method:"POST"},{hex_id:e,worth:t},null)}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return K({url:"/auction/bid",method:"POST"},{hex_id:e,worth:t},null)}function Z(){return K({url:"/user/activities",method:"GET"},{},null)}function K(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{headers:{"Content-Type":"application/json"}},n=R("userToken");return n&&(V.a.defaults.headers.common.Authorization=n),a&&a.headers?a.headers["Content-Language"]=localStorage.getItem("i18nextLng"):a={headers:{"Content-Language":localStorage.getItem("i18nextLng")}},new Promise((function(n,r){("POST"===e.method?V.a.post("".concat(A.apis.hostname).concat(e.url),t,a):V.a.get("".concat(A.apis.hostname).concat(e.url),{params:t})).then((function(e){n(I(e))})).catch((function(e){r(e)}))}))}var J=a(78),$=a.n(J);function Q(){J.store.addNotification({title:"Connection error",message:"Check your internet connection or try again later",type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}function X(e,t){J.store.addNotification({title:e,message:t,type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}function ee(e,t){J.store.addNotification({title:e,message:t,type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}function te(e,t){J.store.addNotification({title:e,message:t,type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],showIcon:!0,dismiss:{duration:5e3}})}var ae=a(437),ne=a(193),re=a(421),ie=function(){var e=Object(ne.a)(),t=e.t,a=(e.i18n,Object(n.useState)("")),i=Object(d.a)(a,2),c=i[0],s=i[1],l=Object(n.useState)(0),o=Object(d.a)(l,2),u=o[0],m=o[1],p=Object(n.useState)(1),v=Object(d.a)(p,2),y=v[0],b=v[1],f=Object(n.useState)(""),h=Object(d.a)(f,2),g=h[0],E=h[1],w=Object(n.useState)(0),O=Object(d.a)(w,2),N=O[0],k=O[1],x=Object(n.useState)(1),C=Object(d.a)(x,2),S=C[0],T=C[1],j=Object(n.useContext)(_).actions;function L(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return K({url:"/auctions/open",method:"GET"},{sort:e,page:t},null)})(null,e).then((function(e){j.changeAuctionList(e.data.auctions),e.data.auctions.length>0?(s(e.data.auctions.map((function(e){return r.a.createElement(M,{key:e.land.hexId,value:e.land.auction.currentWorth,background_image:"url(".concat(e.land.mapTileUrl),name:{sentence:e.land.sentenceId,hex:e.land.hexId},location:e.land.address.full,market_status:e.land.marketStatus,user_perspective:e.land.userPerspective,date_end:e.land.auction.closeAt})}))),m(e.data.numberOfPages)):s(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},r.a.createElement(re.a,{i18nKey:"Discover.no.auctions.open"},"There is currently no ",r.a.createElement("div",{className:"c-status-badge"},"OPEN")," auction")," ","\u26a1\ufe0f"),r.a.createElement("div",{className:"c-dialog-sub-title"},t("Discover.browse.lands"))))})).catch((function(){Q()}))}function A(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return K({url:"/lands",method:"GET"},{sort:e,page:t},null)})(null,e).then((function(e){e.data.lands.length>0?(E(e.data.lands.map((function(e){return r.a.createElement(B,{key:e.hexId,url:"/",value:e.currentWorth,background_image:"url(".concat(e.mapTileUrl),name:{sentence:e.sentenceId,hex:e.hexId},location:e.address.full,date_end:e.auction.closeAt})}))),k(e.data.numberOfPages)):E(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},t("Discover.no.lands")),r.a.createElement("div",{className:"c-dialog-sub-title"},t("Discover.browse.available"))))})).catch((function(e){Q()}))}return Object(n.useEffect)((function(){j.disableSingleView(),L(),A()}),[]),r.a.createElement("div",{className:"Overview"},r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},t("Discover.auctions.label"))),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-auction-list"},c),r.a.createElement("div",{className:"o-pagination"},u>1&&r.a.createElement(ae.a,{count:u,page:y,onChange:function(e,t){L(t),b(t)}}))),r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},t("Discover.closed.auctions"))),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-land-list"},g),r.a.createElement("div",{className:"o-pagination"},N>1&&r.a.createElement(ae.a,{count:N,page:S,onChange:function(e,t){A(t),T(t)}}))))},ce=(a(267),a(5)),se=a.n(ce),le=a(8),oe=a(207),ue=a(145),de=Object(n.createContext)(),me=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).setUserState=function(e){n.setState({user:e})},n.setUserEmail=function(e){n.setState({user:Object(m.a)(Object(m.a)({},n.state.user),{},{email:e})})},n.setUserActivity=function(e){n.setState({user:Object(m.a)(Object(m.a)({},n.state.user),{},{activities:I(e)})})},n.loginUser=function(e,t){n.setState({isLoggedIn:!0,token:e,user:t}),W("userToken",e),W("userUuid",t),n.liveSocket()},n.logoutUser=function(){n.setState({isLoggedIn:!1,token:null,user:{uuid:null}}),U("userToken"),U("userUuid")},n.toggleShowNotificationCenter=function(){n.setState({showNotificationCenter:!n.state.showNotificationCenter})},n.closeNotificationCenter=function(){n.setState({showNotificationCenter:!1})},n.setNotificationAsReaded=function(e){var t=n.state.user.notifications.content,a=n.state.user.notifications.unreadedCount;t.readNotification(e),a-=1,n.setState({user:Object(m.a)(Object(m.a)({},n.state.user),{},{notifications:Object(m.a)(Object(m.a)({},n.state.user.notifications),{},{unreadedCount:a,content:t})})})},n.setAllNotificationsAsReaded=function(){var e=n.state.user.notifications.content;e.readAllNotifications(),n.setState({user:Object(m.a)(Object(m.a)({},n.state.user),{},{notifications:Object(m.a)(Object(m.a)({},n.state.user.notifications),{},{unreadedCount:0,content:e})})})},n.liveSocket=function(){n.state.isLoggedIn&&!n.state.subscribedToLiveSockets&&(n.setState({subscribedToLiveSockets:!0}),ue.createConsumer(A.apis.socket).subscriptions.create({channel:"UsersChannel",user_uuid:n.state.user.uuid},{received:function(e){if(e.only_kyc&&1==e.only_kyc){var t=e.kyc_review_answer;n.setState({user:Object(m.a)(Object(m.a)({},n.state.user),{},{kycReviewAnswer:t})})}else{var a=e.notification,r=e.balance,i=e.unreaded_count;n.setState({user:Object(m.a)(Object(m.a)({},n.state.user),{},{balance:r,notifications:Object(m.a)(Object(m.a)({},n.state.user.notifications),{},{unreadedCount:i,content:[I(a)].concat(Object(oe.a)(n.state.user.notifications.content))})})})}}}))},n.participate=function(){var e=Object(le.a)(se.a.mark((function e(t,a,r){var i,c,s;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(ne.a)(),c.t,c.i18n,e.prev=1,e.next=4,n.getPrices();case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",X(n.props.t("Warning.get.prices.title"),n.props.t("Warning.get.prices.desc")+" ".concat(e.t0.message)));case 9:if(e.prev=9,0!==t){e.next=15;break}return s=a/n.state.perEth,e.next=14,n.state.icoParticipate.participateAsync(t,a,r,{value:s,gasPrice:window.web3.toWei(300,"gwei")});case 14:i=e.sent;case 15:return e.abrupt("return",i);case 18:return e.prev=18,e.t1=e.catch(9),e.abrupt("return",X(n.props.t("Warning.buy.error.title"),n.props.t("Warning.buy.error.desc")+" ".concat(e.t1.message)));case 21:case"end":return e.stop()}}),e,null,[[1,6],[9,18]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.state={isLoggedIn:!1,subscribedToLiveSockets:!1,showNotificationCenter:!1,token:null,user:{uuid:null}},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;G()&&(z().then((function(t){!0===t.data.result?(e.setState({user:t.data.user}),e.liveSocket()):(ee(e.props.t("Danger.session.expired.title"),e.props.t("Danger.session.expired.desc")),e.logoutUser())})).catch((function(){Q()})),this.loginUser(R("userToken"),R("userUuid")))}},{key:"render",value:function(){return r.a.createElement(de.Provider,{value:{state:this.state,actions:{loginUser:this.loginUser,logoutUser:this.logoutUser,setUserState:this.setUserState,setUserActivity:this.setUserActivity,setUserEmail:this.setUserEmail,toggleShowNotificationCenter:this.toggleShowNotificationCenter,closeNotificationCenter:this.closeNotificationCenter,notification:{setAsReaded:this.setNotificationAsReaded,setAllAsReaded:this.setAllNotificationsAsReaded}}}},this.props.children)}}]),a}(n.Component);function pe(e){return function(t){Object(b.a)(n,t);var a=Object(f.a)(n);function n(){return Object(p.a)(this,n),a.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(de.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t.props,{userProvider:Object(m.a)({},a)}))}))}}]),n}(r.a.Component)}var ve=function(){var e=Object(ne.a)(),t=e.t,a=(e.i18n,Object(n.useState)("")),i=Object(d.a)(a,2),c=i[0],s=i[1],l=Object(n.useState)(0),o=Object(d.a)(l,2),u=o[0],m=o[1],p=Object(n.useState)(1),v=Object(d.a)(p,2),y=v[0],b=v[1],f=Object(n.useState)(""),h=Object(d.a)(f,2),g=h[0],E=h[1],w=Object(n.useState)(0),O=Object(d.a)(w,2),N=O[0],k=O[1],x=Object(n.useState)(1),C=Object(d.a)(x,2),S=C[0],T=C[1],j=Object(n.useState)(!0),L=Object(d.a)(j,2),A=L[0],I=L[1],P=Object(n.useContext)(_).actions,F=Object(n.useContext)(de).state;function D(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return K({url:"/user/auctions",method:"GET"},{sort:e,page:t},null)})(null,e).then((function(e){console.log(e),!0===e.data.result?(P.changeAuctionList(e.data.auctions),e.data.auctions.length>0?(s(e.data.auctions.map((function(e){return r.a.createElement(M,{key:e.land.hexId,value:e.land.auction.currentWorth,background_image:"url(".concat(e.land.mapTileUrl),name:{sentence:e.land.sentenceId,hex:e.land.hexId},location:e.land.address.full,market_status:e.land.marketStatus,user_perspective:e.land.userPerspective,date_end:e.land.auction.closeAt})}))),m(e.data.numberOfPages)):s(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},r.a.createElement(re.a,{i18nKey:"Overview.no.auctions.open"},"There is currently no ",r.a.createElement("div",{className:"c-status-badge"},"OPEN")," auction")," ","\u26a1\ufe0f"),r.a.createElement("div",{className:"c-dialog-sub-title"},t("Overview.browse.ovr.lands"))))):I(!1)})).catch((function(e){console.error(e),Q()}))}function W(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return K({url:"/user/lands",method:"GET"},{sort:e,page:t},null)})(null,e).then((function(e){!0===e.data.result&&(e.data.lands.length>0?(E(e.data.lands.map((function(e){return r.a.createElement(B,{key:e.hexId,url:"/",value:e.currentWorth,background_image:"url(".concat(e.mapTileUrl),name:{sentence:e.sentenceId,hex:e.hexId},location:e.address.full,icon:{url:"./assets/icons/icon_deal.png",isSvg:!1},date_end:e.auction.closeAt})}))),k(e.data.numberOfPages)):E(r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},t("Overview.no.lands")),r.a.createElement("div",{className:"c-dialog-sub-title"},t("Overview.browse.lands")))))})).catch((function(e){console.error(e),Q()}))}return Object(n.useEffect)((function(){P.disableSingleView(),D(),W(),F.ico}),[F.ico,F.ovrsOwned]),A?r.a.createElement("div",{className:"Overview"},r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},t("Overview.auctions.label"))),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-auction-list"},c),r.a.createElement("div",{className:"o-pagination"},u>1&&r.a.createElement(ae.a,{count:u,page:y,onChange:function(e,t){D(t),b(t)}}))),r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",{className:"o-section-title"},t("Overview.my.ovrlands"))),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-land-list"},g),r.a.createElement("div",{className:"o-pagination"},N>1&&r.a.createElement(ae.a,{count:N,page:S,onChange:function(e,t){W(t),T(t)}})))):r.a.createElement("div",{className:"Overview"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},t("Overview.login.required"),r.a.createElement("span",{role:"img","aria-label":"Cool dude"},"\ud83d\ude0e")),r.a.createElement("div",{className:"c-dialog-sub-title"},t("Overview.login.to.browse")))))},ye=a(56),be=a.n(ye),fe=a(60),he="0xD8d607B332d48E84A6d87245104C63179183d8fb",ge="0xaEBeC72783729C82edc4f3cB43D7aC00A94266f8",Ee="0xA0D5134d70F8E9d5c1d24c5d80171B860E590B26",_e=[{constant:!0,inputs:[],name:"usdcToken",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"isPauser",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renouncePauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"account",type:"address"}],name:"addPauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"usdtToken",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tokensPerUsd",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"daiToken",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ovrToken",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address payable",name:"_newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"ethPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ovrToken",type:"address"},{internalType:"address",name:"_daiToken",type:"address"},{internalType:"address",name:"_usdcToken",type:"address"},{internalType:"address",name:"_usdtToken",type:"address"}],payable:!0,stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"ovrPurchased",type:"uint256"},{indexed:!1,internalType:"uint256",name:"coinsPaid",type:"uint256"},{indexed:!1,internalType:"string",name:"coinUsed",type:"string"}],name:"TokenPurchase",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"date",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"PriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!1,inputs:[],name:"updatePrice",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"myid",type:"bytes32"},{internalType:"string",name:"result",type:"string"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"_myid",type:"bytes32"},{internalType:"string",name:"_result",type:"string"},{internalType:"bytes",name:"_proof",type:"bytes"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_tokensPerUsd",type:"uint256"}],name:"setTokenPrices",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_tokenstoBuy",type:"uint256"}],name:"buyTokensWithEth",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_tokensToBuy",type:"uint256"}],name:"buyTokensWithUsdt",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_tokensToBuy",type:"uint256"}],name:"buyTokensWithUsdc",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_tokensToBuy",type:"uint256"}],name:"buyTokensWithDai",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_tokenToExtract",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"extractTokens",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"extractEth",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"sendTokensCreditCard",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],we=[{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeSub",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeDiv",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeMul",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"safeAdd",outputs:[{internalType:"uint256",name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"tokens",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenOwner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"tokens",type:"uint256"}],name:"Approval",type:"event"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"tokenOwner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"tokenOwner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokens",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokens",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokens",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Oe=[{constant:!0,inputs:[],name:"approved",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tokenBuy",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"usdt",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"usdc",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"isPauser",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"activeLands",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastLandOfferId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renouncePauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"account",type:"address"}],name:"addPauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"landOfferIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"initialLandBid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ovrLand",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"landOffers",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address payable",name:"by",type:"address"},{internalType:"uint256",name:"group",type:"uint256"},{internalType:"uint256",name:"landId",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"expirationDate",type:"uint256"},{internalType:"enum ICO.LandOfferState",name:"state",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"cashbacks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"ownedLands",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tokensPerUsd",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"auctionLandDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ovrToken",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"contractCreationDate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tokensPerEth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lands",outputs:[{internalType:"address payable",name:"owner",type:"address"},{internalType:"uint256",name:"landToBuy",type:"uint256"},{internalType:"uint256",name:"paid",type:"uint256"},{internalType:"uint256",name:"lastBidTimestamp",type:"uint256"},{internalType:"enum ICO.AuctionState",name:"state",type:"uint8"},{internalType:"uint256",name:"cashbackAmount",type:"uint256"},{internalType:"bool",name:"isCashbackRedeemed",type:"bool"},{internalType:"uint256",name:"sellPrice",type:"uint256"},{internalType:"bool",name:"onSale",type:"bool"},{internalType:"bool",name:"hasBeenRedeemed",type:"bool"},{internalType:"uint256",name:"lastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"paidWith",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address payable",name:"_newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"dai",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"landsOnSaleOrSold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"groupCounters",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ovrToken",type:"address"},{internalType:"address",name:"_ovrLand",type:"address"},{internalType:"address",name:"_tokenBuy",type:"address"},{internalType:"uint256",name:"_initialLandBid",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"WonLand",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"LandSaleStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"CashbackRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"}],name:"LandSaleCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"by",type:"address"},{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"uint256",name:"expirationDate",type:"uint256"}],name:"LandOfferCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"},{indexed:!0,internalType:"address",name:"oldOwner",type:"address"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"LandSold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"landOfferId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"landId",type:"uint256"}],name:"LandOfferDeclined",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"}],name:"LandOfferCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"_approved",type:"address"}],name:"setApproved",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_time",type:"uint256"}],name:"setAuctionLandDuration",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"redeemWonLand",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256[]",name:"_landIds",type:"uint256[]"}],name:"redeemBulkLands",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"redeemCashback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_tokenToExtract",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"extractTokens",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"extractEth",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"bool",name:"_onSale",type:"bool"}],name:"putLandOnSale",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"buyLand",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_expirationDate",type:"uint256"}],name:"offerToBuyLand",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"cancelBuyOffer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landOfferId",type:"uint256"},{internalType:"bool",name:"_accept",type:"bool"}],name:"respondToBuyOffer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address payable",name:"owner",type:"address"},{internalType:"uint256",name:"landToBuy",type:"uint256"},{internalType:"uint256",name:"paid",type:"uint256"},{internalType:"enum ICO.AuctionState",name:"state",type:"uint8"},{internalType:"uint256",name:"paidWith",type:"uint256"}],name:"setLands",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"pushActiveLand",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"checkMyLandOffers",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"checkWonLands",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"checkEpoch",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getActiveLands",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getLandsOnSaleOrSold",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_landId",type:"uint256"}],name:"getLandOffers",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Ne=[{constant:!0,inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"account",type:"address"}],name:"removeMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"account",type:"address"}],name:"addMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"OVRLandID",type:"uint256"}],name:"mintLand",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!1,inputs:[{internalType:"uint256",name:"OVRLandID",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"setOVRLandURI",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],ke=[{constant:!0,inputs:[],name:"tokenBuy",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"usdt",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"usdc",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"isPauser",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ico",outputs:[{internalType:"contract ICO",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renouncePauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"account",type:"address"}],name:"addPauser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"ovrLand",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tokensPerUsd",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ovrToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tokensPerEth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"dai",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ico",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"lastBidder",type:"address"},{indexed:!0,internalType:"uint256",name:"landToBuy",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"AuctionStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBidder",type:"address"},{indexed:!0,internalType:"address",name:"oldBidder",type:"address"},{indexed:!0,internalType:"uint256",name:"landToBuy",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"AuctionBid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"PauserRemoved",type:"event"},{constant:!1,inputs:[],name:"updateTokenBuyValues",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_token",type:"uint256"},{internalType:"uint256",name:"_bid",type:"uint256"},{internalType:"uint256",name:"_landId",type:"uint256"}],name:"participate",outputs:[],payable:!0,stateMutability:"payable",type:"function"}],xe=Object(n.createContext)(),Ce=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).waitTx=function(e){return new Promise((function(t,a){var n=60,r=window.web3.eth.filter("latest").watch(function(){var i=Object(le.a)(se.a.mark((function i(c,s){var l;return se.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!c){i.next=4;break}return r.stopWatching(),r=null,i.abrupt("return",a(c));case 4:return n<=0&&(r.stopWatching(),r=null,console.warn("!! Tx expired !!"),a("Transaction not confirmed after ".concat(n," blocks"))),i.next=7,P((function(e){return window.web3.eth.getBlock(s,e)}));case 7:if(l=i.sent,--n,!(l.transactions.indexOf(e)>-1)){i.next=13;break}return r.stopWatching(),r=null,i.abrupt("return",t());case 13:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}())}))},n.waitTxWithCallback=function(e,t){return new Promise((function(a,r){var i=60,c=window.web3.eth.filter("latest").watch(function(){var s=Object(le.a)(se.a.mark((function s(l,o){var u;return se.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!l){s.next=4;break}return c.stopWatching(),c=null,s.abrupt("return",r(l));case 4:return i<=0&&(n.updateBalance(),c.stopWatching(),c=null,console.warn("!! Tx expired !!"),r("Transaction not confirmed after ".concat(i," blocks"))),s.next=7,P((function(e){return window.web3.eth.getBlock(o,e)}));case 7:if(u=s.sent,--i,!(u.transactions.indexOf(e)>-1)){s.next=15;break}return n.updateBalance(),c.stopWatching(),c=null,t(),s.abrupt("return",a());case 15:case"end":return s.stop()}}),s)})));return function(e,t){return s.apply(this,arguments)}}())}))},n.setupWeb3=function(){var e=Object(le.a)(se.a.mark((function e(t){var a,r,i;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof(a=window.ethereum)){e.next=13;break}return e.prev=2,e.next=5,a.enable();case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",X(n.props.t("Warning.metamask.permission.title"),n.props.t("Warning.metamask.permission.desc")));case 10:window.web3=new be.a(a),e.next=20;break;case 13:if("undefined"===typeof window.web3){e.next=17;break}window.web3=new be.a(window.web3.currentProvider),e.next=20;break;case 17:return t(!1),X(n.props.t("Warning.metamask.not.detected.title"),n.props.t("Warning.metamask.not.detected.desc")),e.abrupt("return",!1);case 20:if(window.web3.eth.defaultAccount=window.web3.eth.accounts[0],r=parseInt(a.chainId,16)===A.web3network,console.log(r),!1!==r){e.next=26;break}return t(!1),e.abrupt("return",!1);case 26:return i=window.web3.eth.defaultAccount.toLowerCase(),e.next=29,n.handleCentralizedLogin(i,t);case 29:return e.next=31,n.refreshWhenAccountsChanged();case 31:return e.next=33,n.updateBalance();case 33:return e.next=35,n.setupContracts();case 35:return e.next=37,n.getOvrsOwned();case 37:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),n.lightSetupWeb3=Object(le.a)(se.a.mark((function e(){var t;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.ethereum,e.next=3,t.enable();case 3:return window.web3.eth.defaultAccount=window.web3.eth.accounts[0],e.next=6,n.refreshWhenAccountsChanged();case 6:return e.next=8,n.updateBalance();case 8:return e.next=10,n.setupContracts();case 10:return e.next=12,n.getOvrsOwned();case 12:case"end":return e.stop()}}),e)}))),n.setupContracts=Object(le.a)(se.a.mark((function e(){var t,a,r,i,c,s,l,o;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.web3.eth.contract(we).at("0x5af7479e69D503173c3bfe2a0aa2d8F381A96aBB"),a=window.web3.eth.contract(we).at("0x2908A1968189a692d96A0c51A8adE5848da521cF"),r=window.web3.eth.contract(we).at("0x36A9489412E1847db23Ec2F82A414Df45aEe447c"),i=window.web3.eth.contract(_e).at(he),c=window.web3.eth.contract(we).at("0x48139bB5Ff6DefD5CDa05D61FB545240fCb50ee3"),s=window.web3.eth.contract(Oe).at(ge),l=window.web3.eth.contract(Ne).at("0xe709BebB528B5Bf1FFBa885381b53a9Af8BAeCad"),o=window.web3.eth.contract(ke).at(Ee),n.setState({dai:Object(fe.promisifyAll)(t),tether:Object(fe.promisifyAll)(a),usdc:Object(fe.promisifyAll)(r),tokenBuy:Object(fe.promisifyAll)(i),ovr:Object(fe.promisifyAll)(c),ico:Object(fe.promisifyAll)(s),ovr721:Object(fe.promisifyAll)(l),icoParticipate:Object(fe.promisifyAll)(o),setupComplete:!0},n.updateBalanceInterval),e.next=11,n.getPrices();case 11:case"end":return e.stop()}}),e)}))),n.refreshWhenAccountsChanged=function(){window.ethereum.on("networkChanged",(function(e){!1===(parseInt(window.ethereum.chainId,16)===A.web3network)&&(this.context&&this.context.state.isLoggedIn?(this.context.actions.logoutUser(),this.setupWeb3()):this.context.actions.logoutUser())})),window.ethereum.on("accountsChanged",(function(e){n.context.state.isLoggedIn?(n.context.actions.logoutUser(),n.setupWeb3()):n.context.actions.logoutUser()}))},n.updateBalance=Object(le.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getOvrsOwned();case 1:case"end":return e.stop()}}),e)}))),n.updateBalanceInterval=Object(le.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setInterval(n.getOvrsOwned,500);case 1:case"end":return e.stop()}}),e)}))),n.getOvrsOwned=Object(le.a)(se.a.mark((function e(){var t;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.state.ovr&&n.state.setupComplete&&window.web3.eth.defaultAccount)){e.next=9;break}return e.t0=String,e.t1=window.web3,e.next=5,n.state.ovr.balanceOfAsync(window.web3.eth.defaultAccount);case 5:e.t2=e.sent,e.t3=e.t1.fromWei.call(e.t1,e.t2),t=(0,e.t0)(e.t3),n.setState({ovrsOwned:t});case 9:case"end":return e.stop()}}),e)}))),n.handleUserSignMessage=function(e,t,a){return new Promise((function(r,i){return window.web3.personal.sign(window.web3.fromUtf8("I am signing my one-time nonce: ".concat(t)),e,(function(t,r){if(t)return i(t);n.handleAuthenticate(e,r,a)}))}))},n.handleAuthenticate=function(e,t,a){(function(e,t){return K({url:"/authentication/login",method:"POST"},{public_address:e,signed_nonce:t},null)})(e,t).then((function(e){!0===e.data.result?(n.context.actions.loginUser(e.data.token,e.data.user),a&&a()):ee(n.props.t("Danger.unable.login.title"),e.data.errors[0].message)}))},n.redeemLands=Object(le.a)(se.a.mark((function e(){var t,a,r,i,c,s,l;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.state.ico.getActiveLandsAsync();case 2:t=e.sent,a=0,r=0;case 5:if(!(r<t.length)){e.next=28;break}return e.next=8,n.state.ico.landsAsync(t[r]);case 8:return i=e.sent,e.next=11,n.state.ico.auctionLandDurationAsync();case 11:if(c=e.sent,s=Math.trunc(Date.now()/1e3),l=s-i[3],!(2!==parseInt(i[4])&&i[0]===window.web3.eth.defaultAccount&&l>=c)){e.next=25;break}return e.prev=16,e.next=19,n.state.ico.redeemWonLandAsync(t[r],{gasPrice:window.web3.toWei(300,"gwei")});case 19:a++,e.next=25;break;case 22:return e.prev=22,e.t0=e.catch(16),e.abrupt("return",ee(n.props.t("Danger.error.redeem.land.title",{land:t[r]}),e.t0.message));case 25:r++,e.next=5;break;case 28:0===a?X(n.props.t("Warning.no.lands.title"),n.props.t("Warning.no.lands.desc")):te(n.props.t("Success.receive.lands.title"),n.props.t("Success.receive.lands.desc"));case 29:case"end":return e.stop()}}),e,null,[[16,22]])}))),n.redeemSingleLand=function(){var e=Object(le.a)(se.a.mark((function e(t){var a,r;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t,16),e.prev=1,e.next=4,n.state.ico.redeemWonLandAsync(a,{gasPrice:window.web3.toWei(300,"gwei")});case 4:return r=e.sent,e.next=7,n.waitTx(r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",ee(n.props.t("Danger.error.redeem.land.title",{land:a}),e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),n.approveErc721Token=function(){var e=Object(le.a)(se.a.mark((function e(t,a){var r,i;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=parseInt(t,16),a&&(r=t),e.next=4,n.state.ovr721.getApprovedAsync(r);case 4:if(e.sent!==ge){e.next=7;break}return e.abrupt("return",!0);case 7:return e.prev=7,e.next=10,n.state.ovr721.approveAsync(ge,r,{gasPrice:window.web3.toWei(300,"gwei")});case 10:return i=e.sent,e.next=13,n.waitTx(i);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(7),ee(n.props.t("Danger.error.approving.title"),e.t0.message),e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,a){return e.apply(this,arguments)}}(),n.approveOvrTokens=function(){var e=Object(le.a)(se.a.mark((function e(t,a){var r,i,c;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.balanceOfAsync(window.web3.eth.defaultAccount);case 2:return r=e.sent,e.next=5,a.allowanceAsync(window.web3.eth.defaultAccount,t?Ee:ge);case 5:if(i=e.sent,!r.greaterThan(i)){e.next=19;break}return e.prev=7,e.next=10,a.approveAsync(t?Ee:ge,r,{gasPrice:window.web3.toWei(300,"gwei")});case 10:return c=e.sent,e.next=13,n.waitTx(c);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(7),ee(n.props.t("Danger.approval.error.title"),n.props.t("Danger.approval.error.desc")),e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,a){return e.apply(this,arguments)}}(),n.buyLand=function(){var e=Object(le.a)(se.a.mark((function e(t){var a,r;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t,16),e.next=3,n.state.ico.buyLandAsync(a,{gasPrice:window.web3.toWei(300,"gwei")});case 3:return r=e.sent,e.next=6,n.waitTx(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.putLandOnSale=function(){var e=Object(le.a)(se.a.mark((function e(t,a,r){var i,c;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=parseInt(t,16),e.prev=1,e.next=4,n.state.ico.putLandOnSaleAsync(i,a,r,{gasPrice:window.web3.toWei(300,"gwei")});case 4:return c=e.sent,e.next=7,n.waitTx(c);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",ee(n.props.t("Danger.error.listing.title"),e.t0.message));case 12:te(n.props.t("Success.listing.lands.title"),n.props.t("Success.listing.lands.desc"));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.setAllNotificationsAsReaded=function(){var e=n.state.user.notifications.content;e.readAllNotifications(),n.setState({user:Object(m.a)(Object(m.a)({},n.state.user),{},{notifications:Object(m.a)(Object(m.a)({},n.state.user.notifications),{},{unreadedCount:0,content:e})})})},n.getOffersToBuyLand=function(){var e=Object(le.a)(se.a.mark((function e(t){var a,r,i,c,s,l,o;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t,16),e.next=3,n.state.ico.getLandOffersAsync(a);case 3:return r=e.sent,i=[],e.t0=String,e.next=8,n.state.ico.groupCountersAsync(a);case 8:e.t1=e.sent,c=(0,e.t0)(e.t1),s=0;case 11:if(!(s<r.length)){e.next=22;break}return l=r[s],e.next=15,n.state.ico.landOffersAsync(String(l));case 15:if(o=e.sent,parseInt(o[2])==c){e.next=18;break}return e.abrupt("continue",19);case 18:i.push(o);case 19:s++,e.next=11;break;case 22:return i=i.map((function(e){return{id:String(e[0]),by:e[1],group:parseInt(e[2]),landId:String(e[3]),price:String(window.web3.fromWei(e[4])),timestamp:String(e[5]),expirationDate:String(e[6]),state:String(e[7])}})),e.abrupt("return",i);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.cancelBuyOffer=function(){var e=Object(le.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.state.ico.cancelBuyOfferAsync(t,{gasPrice:window.web3.toWei(300,"gwei")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.declineBuyOffer=function(){var e=Object(le.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.state.ico.respondToBuyOfferAsync(t,!1,{gasPrice:window.web3.toWei(300,"gwei")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.acceptBuyOffer=function(){var e=Object(le.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.state.ico.respondToBuyOfferAsync(t,!0,{gasPrice:window.web3.toWei(300,"gwei")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getPrices=function(){return new Promise(function(){var e=Object(le.a)(se.a.mark((function e(t){var a,r;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Number,e.next=3,n.state.tokenBuy.ethPriceAsync();case 3:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=Number,e.next=8,n.state.tokenBuy.tokensPerUsdAsync();case 8:e.t3=e.sent,r=(0,e.t2)(e.t3),n.setState({perEth:a,perUsd:r},t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},n.buy=function(){var e=Object(le.a)(se.a.mark((function e(t,a){var r,i,c,s;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.context.state.user,!("DEVELOPMENT"!=A.environment&&r.kycReviewAnswer<1)){e.next=3;break}return e.abrupt("return",ee("Identity verification required","To buy OVR token it is required that you pass our KYC. Go to your Profile and Start now the Identity Verification."));case 3:if(!(t<=0)){e.next=5;break}return e.abrupt("return",X(n.props.t("Warning.setup.error.title"),n.props.t("Warning.setup.error.desc")));case 5:return t=window.web3.toBigNumber(window.web3.toWei(String(t))),e.next=8,n.getPrices();case 8:e.prev=8,e.t0=a,e.next="eth"===e.t0?12:"usdt"===e.t0?20:"usdc"===e.t0?23:"dai"===e.t0?26:29;break;case 12:return i=n.state.perEth*n.state.perUsd,c=String(Math.ceil(t.div(i))+1e6),e.next=16,n.state.tokenBuy.buyTokensWithEthAsync(t,{value:c,gasPrice:window.web3.toWei(300,"gwei")});case 16:return s=e.sent,e.next=19,n.waitTx(s);case 19:return e.abrupt("break",31);case 20:return e.next=22,n.buyWithToken(t,n.state.tether,"usdt");case 22:return e.abrupt("break",31);case 23:return e.next=25,n.buyWithToken(t,n.state.usdc,"usdc");case 25:return e.abrupt("break",31);case 26:return e.next=28,n.buyWithToken(t,n.state.dai,"dai");case 28:return e.abrupt("break",31);case 29:return X(n.props.t("Warning.currency.error.title"),n.props.t("Warning.currency.error.desc")),e.abrupt("break",31);case 31:n.getOvrsOwned(),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(8),X(n.props.t("Warning.buying.error.title"),n.props.t("Warning.buying.error.desc"));case 37:case"end":return e.stop()}}),e,null,[[8,34]])})));return function(t,a){return e.apply(this,arguments)}}(),n.buyWithToken=function(){var e=Object(le.a)(se.a.mark((function e(t,a,r){var i,c,s,l;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.balanceOfAsync(window.web3.eth.defaultAccount);case 2:return i=e.sent,e.next=5,a.allowanceAsync(window.web3.eth.defaultAccount,he);case 5:if(c=e.sent,!i.greaterThan(c)){e.next=18;break}return e.prev=7,e.next=10,a.approveAsync(he,i);case 10:return s=e.sent,e.next=13,n.waitTx(s);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",X(n.props.t("Warning.approving.error.title"),n.props.t("Warning.approving.error.desc")));case 18:if(!i.lessThan(t)){e.next=20;break}return e.abrupt("return",X(n.props.t("Not enough tokens"),n.props.t("Warning.no.tokens.desc",{message:window.web3.fromWei(t)})));case 20:e.prev=20,e.t1=r,e.next="dai"===e.t1?24:"usdt"===e.t1?28:"usdc"===e.t1?32:36;break;case 24:return e.next=26,n.state.tokenBuy.buyTokensWithDaiAsync(t,{gasPrice:window.web3.toWei(300,"gwei")});case 26:return l=e.sent,e.abrupt("break",38);case 28:return e.next=30,n.state.tokenBuy.buyTokensWithUsdtAsync(t,{gasPrice:window.web3.toWei(300,"gwei")});case 30:return l=e.sent,e.abrupt("break",38);case 32:return e.next=34,n.state.tokenBuy.buyTokensWithUsdcAsync(t,{gasPrice:window.web3.toWei(300,"gwei")});case 34:return l=e.sent,e.abrupt("break",38);case 36:return X(n.props.t("Warning.currency.error.title"),n.props.t("Warning.currency.error.desc")),e.abrupt("break",38);case 38:return e.next=40,n.waitTxWithCallback(l,(function(){te(n.props.t("Success.receive.ovr.title"),n.props.t("Success.receive.ovr.desc"))}));case 40:e.next=45;break;case 42:return e.prev=42,e.t2=e.catch(20),e.abrupt("return",X(n.props.t("Warning.buy.error.title"),n.props.t("Warning.buy.error.desc.token")));case 45:case"end":return e.stop()}}),e,null,[[7,15],[20,42]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.participate=function(){var e=Object(le.a)(se.a.mark((function e(t,a,r){var i,c,s,l;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getPrices();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",X(n.props.t("Warning.get.prices.title"),n.props.t("Warning.get.prices.desc")+" ".concat(e.t0.message)));case 8:return a=window.web3.toBigNumber(String(a)),e.prev=9,c=window.web3.toWei("30","gwei"),0===t?(s=n.state.perEth*(n.state.perUsd/2),l=String(Math.ceil(a.div(s))+1e6),i=n.state.icoParticipate.participateAsync(t,a,r,{value:l,gasPrice:c})):i=n.state.icoParticipate.participateAsync(t,a,r,{gasPrice:c}),e.abrupt("return",i);case 15:return e.prev=15,e.t1=e.catch(9),e.abrupt("return",X(n.props.t("Warning.buy.error.title"),n.props.t("Warning.buy.error.desc")+" ".concat(e.t1.message)));case 18:case"end":return e.stop()}}),e,null,[[0,5],[9,15]])})));return function(t,a,n){return e.apply(this,arguments)}}(),n.participateMint=function(){var e=Object(le.a)(se.a.mark((function e(t,a,r){var i,c,s;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=window.web3.toWei(a),c=parseInt(r,16),e.next=4,n.participate(t,i,c);case 4:s=e.sent,n.setState({lastTransaction:s}),n.waitTxWithCallback(s,(function(){}));case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.participateBid=function(){var e=Object(le.a)(se.a.mark((function e(t,a,r){var i,c,s;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=window.web3.toWei(a),c=parseInt(r,16),e.next=4,n.participate(t,i,c);case 4:s=e.sent,n.setState({lastTransaction:s}),n.waitTxWithCallback(s,(function(){}));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.participateBuyOffer=function(){var e=Object(le.a)(se.a.mark((function e(t,a,r,i){var c,s,l;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.web3.toWei(a),s=parseInt(i,16),e.next=4,n.state.ico.offerToBuyLandAsync(s,c,r,{gasPrice:window.web3.toWei(300,"gwei")});case 4:return l=e.sent,e.next=7,n.waitTx(l);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),n.state={ovrsOwned:0,dai:null,tether:null,usdc:null,tokenBuy:null,ovr:null,ico:null,ovr721:null,setupComplete:!1,perEth:0,perUsd:0,lastTransaction:"0x0"},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){G()&&this.lightSetupWeb3()}},{key:"handleCentralizedLogin",value:function(e,t){var a=this;(function(e){return K({url:"/authentication/metamask",method:"POST"},{public_address:e},null)})(e).then((function(n){(function(e){return K({url:"/user/nonce",method:"GET"},{public_address:e},null)})(e).then((function(n){if(!0===n.data.result){var r=n.data.user.nonce;a.handleUserSignMessage(e,r,t)}}))}))}},{key:"render",value:function(){return r.a.createElement(xe.Provider,{value:{state:this.state,actions:{getOvrsOwned:this.getOvrsOwned,waitTx:this.waitTx,waitTxWithCallback:this.waitTxWithCallback,setupWeb3:this.setupWeb3,redeemLands:this.redeemLands,putLandOnSale:this.putLandOnSale,approveErc721Token:this.approveErc721Token,approveOvrTokens:this.approveOvrTokens,buyLand:this.buyLand,getOffersToBuyLand:this.getOffersToBuyLand,cancelBuyOffer:this.cancelBuyOffer,declineBuyOffer:this.declineBuyOffer,acceptBuyOffer:this.acceptBuyOffer,redeemSingleLand:this.redeemSingleLand,buyWithToken:this.buyWithToken,buy:this.buy,getPrices:this.getPrices,participate:this.participate,participateMint:this.participateMint,participateBid:this.participateBid,participateBuyOffer:this.participateBuyOffer}}},this.props.children)}}]),a}(n.Component);function Se(e){return function(t){Object(b.a)(n,t);var a=Object(f.a)(n);function n(){return Object(p.a)(this,n),a.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(xe.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t.props,{web3Provider:Object(m.a)({},a)}))}))}}]),n}(r.a.Component)}Ce.contextType=de;var Te=function(e){var t=e.className,a=e.onClick,n=e.url,i=e.text,c=e.target,s=e.ariaControls,l=e.ariaHaspopup,o=e.hexRef;return c?r.a.createElement("a",{href:n,target:c,className:"HexButton ".concat(t),onClick:a},i):r.a.createElement(L.b,{to:n,ref:o,target:c,"aria-controls":s,"aria-haspopup":l,className:"HexButton ".concat(t),onClick:a,autoFocus:!0},i)},je=a(436),Le=a(440),Me=a(126),Be=a.n(Me),Ae=pe(Se(O((function(e){var t=Object(ne.a)(),a=t.t,i=(t.i18n,e.web3Provider.actions),c=(i.participateBid,i.approveOvrTokens,e.web3Provider.state),s=c.lastTransaction,l=c.ovr,o=(c.dai,c.tether,c.usdc,c.ico),u=c.perEth,m=(c.perUsd,c.setupComplete),p=e.land.hexId,v=e.land.marketStatus,y=Object(n.useState)(!1),b=Object(d.a)(y,2),f=b[0],h=b[1],g=Object(n.useState)(10),E=Object(d.a)(g,2),_=E[0],w=E[1],O=Object(n.useState)(0),N=Object(d.a)(O,2),k=N[0],x=N[1],S=Object(n.useState)(a("MetamaskMessage.set.waiting")),T=Object(d.a)(S,2),j=T[0],L=(T[1],Object(n.useState)(0)),M=Object(d.a)(L,2),B=M[0],I=M[1],P=Object(n.useState)(e.currentBid),F=Object(d.a)(P,2),D=F[0],W=F[1],R=Object(n.useState)(0),U=Object(d.a)(R,2),G=U[0],H=U[1],V=Object(n.useState)("ovr"),z=Object(d.a)(V,2),Y=z[0],Z=z[1],K=Object(n.useState)(!1),J=Object(d.a)(K,2),$=J[0],Q=J[1],ee=Object(n.useState)(!1),te=Object(d.a)(ee,2),ae=te[0],re=te[1],ie=(r.a.useRef(null),r.a.useState(!1)),ce=Object(d.a)(ie,2),oe=ce[0],ue=ce[1];function de(t){t.preventDefault(),e.mapProvider.actions.changeActiveBidOverlay(!1),setTimeout((function(){ue(!1),x(0),I(0),Z("ovr"),h(!1)}),500)}Object(n.useEffect)((function(){e.mapProvider.state.activeBidOverlay?(Q(!0),setTimeout((function(){re(!0)}),50)):(re(!1),setTimeout((function(){Q(!1)}),500))}),[e.mapProvider.state.activeBidOverlay]),Object(n.useEffect)((function(){pe(Y)}),[B]),Object(n.useEffect)((function(){m&&me()}),[m,o,l,p,v,e.currentBid]);var me=function(){var t=Object(le.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m&&o&&l){t.next=2;break}return t.abrupt("return",X(a("Warning.metamask.not.detected.title"),a("Warning.metamask.not.detected.desc")));case 2:W(e.currentBid),w(2*e.currentBid);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),pe=function(e){switch(e){case"ovr":H(B),Z("ovr");break;case"eth":H((1/u*(B/10)*2).toFixed(4)),Z("eth");break;case"usdt":H(B/10*2),Z("usdt");break;case"usdc":H(B/10*2),Z("usdc");break;case"dai":H(B/10*2),Z("dai")}},ve=function(){var t=Object(le.a)(se.a.mark((function t(n){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(B<_)){t.next=2;break}return t.abrupt("return",X(a("Warning.invalid.bid.title"),a("Warning.invalid.bid.desc")));case 2:if(e.userProvider.state.isLoggedIn||(x(0),X(a("Warning.invalid.auth.title"),a("Warning.invalid.auth.desc")),0)){t.next=4;break}return t.abrupt("return");case 4:x(2),q(p,B).then((function(e){!0===e.data.result?console.log("sendConfirmAuctionStart - response true",e.data):console.log("sendConfirmAuctionStart - response false",e.data.errors[0].message)})).catch((function(e){console.log(e)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return $?r.a.createElement("div",{className:"OverlayContainer ".concat(ae?"--js-show":"")},r.a.createElement("div",{className:"RightOverlay__backpanel"}," "),r.a.createElement("div",{key:"bid-overlay-",to:e.url,className:"RightOverlay BidOverlay NormalInputs ".concat(e.className?e.className:""," --activeStep-").concat(k)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:de},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#c0c1c0",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),function(t){switch(t){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},a("BidOverlay.place.bid")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__currency_cont"},r.a.createElement("div",{className:"c-currency-selector_cont"},r.a.createElement("div",{className:"c-currency-selector ".concat("ovr"==Y?"--selected":" "),onClick:function(){return pe("ovr")}},a("Currency.ovr.label")),r.a.createElement("div",{className:"c-currency-selector ".concat("eth"==Y?"--selected":" "),onClick:function(){return pe("eth")}},a("Currency.eth.label")),r.a.createElement("div",{className:"c-currency-selector ".concat("dai"==Y?"--selected":" "),onClick:function(){return pe("dai")}},a("Currency.dai.label")),r.a.createElement("div",{className:"c-currency-selector ".concat("usdt"==Y?"--selected":" "),onClick:function(){return pe("usdt")}},a("Currency.usdt.label")),r.a.createElement("div",{className:"c-currency-selector ".concat("usdc"==Y?"--selected":" "),onClick:function(){return pe("usdc")}},a("Currency.usdc.label")))),r.a.createElement("div",{className:"Overlay__bids_container"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BidOverlay.current.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:D})))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BidOverlay.min.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:_})))),r.a.createElement("div",{className:"Overlay__your_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BidOverlay.your.bid")),r.a.createElement("div",null,r.a.createElement(je.a,{type:"number",onChange:function(e){var t,a=e.target.value;a>0&&(h((t=a)>=_),I(t))}}))),r.a.createElement("div",{className:"Overlay__expense_projection"},B>=10&&e.userProvider.state.isLoggedIn&&"Bid using "+G+" "+Y,B>=10&&e.userProvider.state.isLoggedIn&&r.a.createElement(Le.a,{title:r.a.createElement(r.a.Fragment,null,a("BidOverlay.use.direct"),r.a.createElement("br",null),a("BidOverlay.click.to.buy")),"aria-label":"info",placement:"bottom"},r.a.createElement("a",{href:"https://www.ovr.ai",rel:"noopener noreferrer",target:"_blank"},r.a.createElement(Be.a,{className:"Help"})))),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(Te,{url:"#",text:a("BidOverlay.place.bid.label"),className:"--orange ".concat(f?"":"--disabled"),ariaControls:oe?"mint-fade-menu":void 0,ariaHaspopup:"true",onClick:function(){return ve(Y)}}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--orange-light",onClick:de}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},a("BidOverlay.bidding.land")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BidOverlay.current.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:D}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BidOverlay.your.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:B})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,j))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__congrat_title"},r.a.createElement("span",null,a("Generic.congrats.label")),r.a.createElement("br",null),"BidOverlay.request.sent",r.a.createElement("div",{className:"Overlay__etherscan_link"},r.a.createElement("a",{href:A.apis.etherscan+"/tx/"+s,rel:"noopener noreferrer",target:"_blank"},a("BidOverlay.view.status")))),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Your bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:B})))),r.a.createElement("div",{className:"Overlay__close-button_container"},r.a.createElement(Te,{url:"#",text:a("Generic.close.label"),className:"--orange-light",onClick:de}))));default:return"Unknown step"}}(k)))):null})))),Ie=pe(Se(O((function(e){var t=Object(ne.a)(),a=t.t,i=(t.i18n,e.web3Provider.actions),c=(i.participateMint,i.approveOvrTokens,e.web3Provider.state),s=c.lastTransaction,l=c.ovr,o=(c.dai,c.tether,c.usdc,c.ico),u=c.perEth,m=(c.perUsd,c.setupComplete),p=e.land.hexId,v=e.land.marketStatus,y=Object(n.useState)(!1),b=Object(d.a)(y,2),f=b[0],h=b[1],g=Object(n.useState)(10),E=Object(d.a)(g,2),_=E[0],w=E[1],O=Object(n.useState)(0),N=Object(d.a)(O,2),k=N[0],x=N[1],S=Object(n.useState)(a("MetamaskMessage.set.waiting")),T=Object(d.a)(S,2),j=T[0],L=(T[1],Object(n.useState)(0)),M=Object(d.a)(L,2),B=M[0],I=M[1],P=Object(n.useState)(0),F=Object(d.a)(P,2),D=F[0],W=F[1],R=Object(n.useState)("ovr"),U=Object(d.a)(R,2),G=U[0],H=U[1],V=Object(n.useState)(!1),z=Object(d.a)(V,2),q=z[0],Z=z[1],K=Object(n.useState)(!1),J=Object(d.a)(K,2),$=J[0],Q=J[1],ee=(r.a.useRef(null),r.a.useState(!1)),te=Object(d.a)(ee,2),ae=te[0],re=te[1];function ie(t){t.preventDefault(),e.mapProvider.actions.changeActiveMintOverlay(!1),setTimeout((function(){re(!1),x(0),I(0),H("ovr"),h(!1)}),500)}Object(n.useEffect)((function(){e.mapProvider.state.activeMintOverlay?(Z(!0),setTimeout((function(){Q(!0)}),50)):(Q(!1),setTimeout((function(){Z(!1)}),500))}),[e.mapProvider.state.activeMintOverlay]),Object(n.useEffect)((function(){oe(G)}),[B]),Object(n.useEffect)((function(){m&&ce()}),[m,o,l,p,v]);var ce=function(){var e=Object(le.a)(se.a.mark((function e(){var t,n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&o&&l){e.next=2;break}return e.abrupt("return",X(a("Warning.metamask.not.detected.title"),a("Warning.metamask.not.detected.desc")));case 2:return e.t0=String,e.next=5,o.initialLandBidAsync();case 5:e.t1=e.sent,t=(0,e.t0)(e.t1),n=window.web3.fromWei(t),w(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e){switch(e){case"ovr":W(B),H("ovr");break;case"eth":W((1/u*(B/10)*2).toFixed(4)),H("eth");break;case"usdt":W(B/10*2),H("usdt");break;case"usdc":W(B/10*2),H("usdc");break;case"dai":W(B/10*2),H("dai")}},ue=function(){var t=Object(le.a)(se.a.mark((function t(n){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(B<_)){t.next=2;break}return t.abrupt("return",X(a("Warning.invalid.bid.title"),a("Warning.invalid.bid.desc")));case 2:if(e.userProvider.state.isLoggedIn||(x(0),X(a("Warning.invalid.auth.title"),a("Warning.invalid.auth.desc")),0)){t.next=4;break}return t.abrupt("return");case 4:x(2),Y(p,B).then((function(e){!0===e.data.result?console.log("sendConfirmAuctionStart - response true",e.data):console.log("sendConfirmAuctionStart - response false",e.data.errors[0].message)})).catch((function(e){console.log(e)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return q?r.a.createElement("div",{className:"OverlayContainer ".concat($?"--js-show":"")},r.a.createElement("div",{className:"RightOverlay__backpanel"}," "),r.a.createElement("div",{key:"mint-overlay-",to:e.url,className:"RightOverlay MintOverlay NormalInputs ".concat(e.className?e.className:""," --activeStep-").concat(k)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:ie},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#c0c1c0",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),function(t){switch(t){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},a("MintOverlay.start.auction")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__currency_cont"},r.a.createElement("div",{className:"c-currency-selector_cont"},r.a.createElement("div",{className:"c-currency-selector ".concat("ovr"==G?"--selected":" "),onClick:function(){return oe("ovr")}},a("Currency.ovr.label")),r.a.createElement("div",{className:"c-currency-selector ".concat("eth"==G?"--selected":" "),onClick:function(){return oe("eth")}},a("Currency.eth.label")),r.a.createElement("div",{className:"c-currency-selector ".concat("dai"==G?"--selected":" "),onClick:function(){return oe("dai")}},a("Currency.dai.label")),r.a.createElement("div",{className:"c-currency-selector ".concat("usdt"==G?"--selected":" "),onClick:function(){return oe("usdt")}},a("Currency.usdt.label")),r.a.createElement("div",{className:"c-currency-selector ".concat("usdc"==G?"--selected":" "),onClick:function(){return oe("usdc")}},a("Currency.usdc.label")))),r.a.createElement("div",{className:"Overlay__bids_container"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("MintOverlay.min.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:10})))),r.a.createElement("div",{className:"Overlay__minimum_bid my-bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("MintOverlay.your.bid")),r.a.createElement("div",null,r.a.createElement(je.a,{type:"number",onChange:function(e){var t,a=e.target.value;a>0&&(h((t=a)>=_&&t>=10),I(t))}}))),r.a.createElement("div",{className:"Overlay__expense_projection"},B>=10&&e.userProvider.state.isLoggedIn&&"Bid using "+D+" "+G.toUpperCase(),B>=10&&e.userProvider.state.isLoggedIn&&r.a.createElement(Le.a,{title:r.a.createElement(r.a.Fragment,null,a("MintOverlay.use.direct"),r.a.createElement("br",null),a("MintOverlay.click.to.buy")),"aria-label":"info",placement:"bottom"},r.a.createElement("a",{href:"/buy-tokens",rel:"noopener noreferrer",target:"_blank"},r.a.createElement(Be.a,{className:"Help"}))))),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(Te,{url:"#",text:a("MintOverlay.place.bid"),className:"--orange ".concat(f?"":"--disabled"),ariaControls:ae?"mint-fade-menu":void 0,ariaHaspopup:"true",onClick:function(){return ue(G)}}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--orange-light",onClick:ie}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},a("MintOverlay.bidding.land")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("MintOverlay.your.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:B})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,j))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__congrat_title"},r.a.createElement("span",null,a("Generic.congrats.label")),r.a.createElement("br",null),a("MintOverlay.about.to.start"),r.a.createElement("div",{className:"Overlay__etherscan_link"},r.a.createElement("a",{href:A.apis.etherscan+"/tx/"+s,rel:"noopener noreferrer",target:"_blank"},a("MintOverlay.view.status")))),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Current bid"),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:B})))),r.a.createElement("div",{className:"Overlay__close-button_container"},r.a.createElement(Te,{url:"#",text:a("Generic.close.label"),className:"--orange-light",onClick:ie}))));default:return"Unknown step"}}(k)))):null})))),Pe=pe(Se(O((function(e){var t=Object(ne.a)(),a=t.t,i=(t.i18n,e.web3Provider.actions),c=i.approveErc721Token,s=i.putLandOnSale,l=e.web3Provider.state,o=l.ico,u=l.setupComplete,m=e.land.hexId,p=e.land.marketStatus,v=Object(n.useState)(e.currentBid),y=Object(d.a)(v,2),b=y[0],f=y[1],h=Object(n.useState)(e.currentBid),g=Object(d.a)(h,2),E=g[0],_=g[1],w=Object(n.useState)(!1),O=Object(d.a)(w,2),N=O[0],k=O[1],x=Object(n.useState)(0),S=Object(d.a)(x,2),T=S[0],j=S[1],L=Object(n.useState)(a("MetamaskMessage.set.waiting")),M=Object(d.a)(L,2),B=M[0],A=M[1],I=Object(n.useState)(!1),P=Object(d.a)(I,2),F=P[0],D=P[1],W=Object(n.useState)(!1),R=Object(d.a)(W,2),U=R[0],G=R[1];Object(n.useEffect)((function(){e.mapProvider.state.activeSellOverlay?(D(!0),setTimeout((function(){G(!0)}),50)):(G(!1),setTimeout((function(){D(!1)}),500))}),[e.mapProvider.state.activeSellOverlay]),Object(n.useEffect)((function(){u&&H()}),[u,o,m,p]);var H=function(){var e=Object(le.a)(se.a.mark((function e(){var t,n,r;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&o){e.next=2;break}return e.abrupt("return",X(a("Warning.metamask.not.detected.title"),a("Warning.metamask.not.detected.desc")));case 2:return t=parseInt(m,16),e.next=5,o.landsAsync(t);case 5:n=e.sent,r=String(window.web3.fromWei(n[2])),f(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var t=Object(le.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(T+1!==1){t.next=21;break}if(!1!==(!!e.userProvider.state.isLoggedIn||(j(0),X(a("Warning.invalid.auth.title"),a("Warning.invalid.auth.desc")),!1))){t.next=5;break}return t.abrupt("return",!1);case 5:return j((function(e){return e+1})),t.prev=6,A(a("MetamaskMessage.set.approve.erc721")),t.next=10,c(m);case 10:return A(a("MetamaskMessage.set.waiting")),t.next=13,s(m,String(window.web3.toWei(E)),!0);case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(6),t.abrupt("return",ee(a("Danger.error.processing.title"),t.t0.message));case 18:(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return K({url:"/order/sell",method:"POST"},{hex_id:e,worth:t},null)})(e.land.key,E).then((function(t){!0===t.data.result?(e.reloadLandStatefromApi(e.land.key),j(2)):ee(a("Danger.unable.place.sell.title"),t.data.errors[0].message)})).catch((function(){Q()}));case 19:t.next=22;break;case 21:j((function(e){return e+1}));case 22:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(){return t.apply(this,arguments)}}();function z(t){t.preventDefault(),e.mapProvider.actions.changeActiveSellOverlay(!1),setTimeout((function(){j(0),_("")}),200)}return F?r.a.createElement("div",{className:"OverlayContainer ".concat(U?"--js-show":"")},r.a.createElement("div",{className:"RightOverlay__backpanel"}," "),r.a.createElement("div",{key:"sell-overlay-",to:e.url,className:"RightOverlay SellOverlay NormalInputs ".concat(e.className?e.className:""," --activeStep-").concat(T)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:z},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#c0c1c0",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),function(t){switch(t){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},a("SellOverlay.create.offer")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bids_container"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("SellOverlay.bought.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:b})))),r.a.createElement("div",{className:"Overlay__minimum_bid my-bid"},r.a.createElement("div",{className:"Overlay__bid_title"},"Sell at"),r.a.createElement("div",null,r.a.createElement(je.a,{type:"number",onChange:function(e){var t;t=e.target.value,k(""!==t),_(t)}})))),r.a.createElement("br",null),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(Te,{url:"#",text:a("SellOverlay.place.sell"),className:"--purple ".concat(N?"":"--disabled"),onClick:V}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--orange-light",onClick:z}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},a("SellOverlay.create.offer")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("SellOverlay.bought.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:b}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("SellOverlay.selling.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:E})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,B))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__congrat_title"},r.a.createElement("span",null,a("Generic.congrats.label")),r.a.createElement("br",null),a("SellOverlay.sell.placed")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("SellOverlay.bought.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:b}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("SellOverlay.selling.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:E})))),r.a.createElement("div",{className:"Overlay__close-button_container"},r.a.createElement(Te,{url:"#",text:a("Generic.close.label"),className:"--orange-light",onClick:z}))));default:return"Unknown step"}}(T)))):null})))),Fe=a(200),De=a(30),We=a(434),Re=a(439),Ue=a(430),Ge=a(385),He=a(387),Ve=a(425),ze=a(391),Ye=new Date,qe=new Date(Ye);qe.setDate(qe.getDate()+1);var Ze=pe(Se(O((function(e){var t=Object(ne.a)(),a=t.t,i=(t.i18n,e.web3Provider.actions),c=i.approveOvrTokens,s=i.participateBuyOffer,l=e.web3Provider.state,o=l.lastTransaction,u=l.ovr,m=l.dai,p=l.tether,v=l.usdc,y=l.ico,b=l.setupComplete,f=e.land.hexId,h=e.land.marketStatus,g=Object(n.useState)(!1),E=Object(d.a)(g,2),_=E[0],w=E[1],O=Object(n.useState)(""),N=Object(d.a)(O,2),k=N[0],x=N[1],S=Object(n.useState)(0),T=Object(d.a)(S,2),j=T[0],L=T[1],M=Object(n.useState)(qe),B=Object(d.a)(M,2),I=B[0],P=B[1],F=Object(n.useState)(a("MetamaskMessage.set.waiting")),D=Object(d.a)(F,2),W=D[0],R=D[1],U=Object(n.useState)(0),G=Object(d.a)(U,2),H=G[0],V=G[1],z=Object(n.useState)(!1),Y=Object(d.a)(z,2),q=Y[0],Z=Y[1],K=Object(n.useState)(!1),J=Object(d.a)(K,2),$=J[0],Q=J[1],te=r.a.useRef(null),ae=r.a.useState(!1),re=Object(d.a)(ae,2),ie=re[0],ce=re[1];function oe(t){t.preventDefault(),e.mapProvider.actions.changeActiveBuyOfferOverlay(!1),setTimeout((function(){ce(!1),L(0),x("")}),500)}Object(n.useEffect)((function(){e.mapProvider.state.activeBuyOfferOverlay?(Z(!0),setTimeout((function(){Q(!0)}),50)):(Q(!1),setTimeout((function(){Z(!1)}),500))}),[e.mapProvider.state.activeBuyOfferOverlay]),Object(n.useEffect)((function(){b&&ue()}),[b,y,u,f,h]);var ue=function(){var e=Object(le.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&y&&u){e.next=2;break}return e.abrupt("return",X(a("Warning.metamask.not.detected.title"),a("Warning.metamask.not.detected.desc")));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(e){te.current&&te.current.contains(e.target)||ce(!1)},me=function(){ce(!0)},pe=function(){var t=Object(le.a)(se.a.mark((function t(n){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.userProvider.state.isLoggedIn||(L(0),X(a("Warning.invalid.auth.title"),a("Warning.invalid.auth.desc")),0)){t.next=2;break}return t.abrupt("return");case 2:if(L((function(e){return e+1})),t.prev=3,!(Math.trunc(Date.now()/1e3)>=H)){t.next=9;break}return X(a("Warining.date.error"),a("Warning.future.notify")),L(0),t.abrupt("return");case 9:t.t0=n,t.next="ovr"===t.t0?12:"eth"===t.t0?19:"usdt"===t.t0?23:"usdc"===t.t0?30:"dai"===t.t0?37:44;break;case 12:return R(a("MetamaskMessage.set.approve.ovr")),t.next=15,c(!0,u);case 15:return R(a("MetamaskMessage.set.buy.ovr")),t.next=18,s(4,k,H,f);case 18:return t.abrupt("break",44);case 19:return R(a("MetamaskMessage.set.buy.eth")),t.next=22,s(0,k,H,f);case 22:return t.abrupt("break",44);case 23:return R(a("MetamaskMessage.set.approve.usdt")),t.next=26,c(!0,p);case 26:return R(a("MetamaskMessage.set.buy.usct")),t.next=29,s(2,k,H,f);case 29:return t.abrupt("break",44);case 30:return R(a("MetamaskMessage.set.approve.usdc")),t.next=33,c(!0,v);case 33:return R(a("MetamaskMessage.set.buy.usdc")),t.next=36,s(3,k,H,f);case 36:return t.abrupt("break",44);case 37:return R(a("MetamaskMessage.set.approve.dai")),t.next=40,c(!0,m);case 40:return R(a("MetamaskMessage.set.buy.dai")),t.next=43,s(1,k,H,f);case 43:return t.abrupt("break",44);case 44:t.next=51;break;case 46:return t.prev=46,t.t1=t.catch(3),ce(!1),L(0),t.abrupt("return",ee(a("Danger.error.processing.title"),t.t1.message));case 51:L(2);case 52:case"end":return t.stop()}}),t,null,[[3,46]])})));return function(e){return t.apply(this,arguments)}}();function ve(e){V(Math.trunc(e/1e3)),P(e)}return q?r.a.createElement("div",{className:"OverlayContainer ".concat($?"--js-show":"")},r.a.createElement("div",{className:"RightOverlay__backpanel"}," "),r.a.createElement("div",{key:"bid-overlay-",to:e.url,className:"RightOverlay BuyOfferOverlay NormalInputs ".concat(e.className?e.className:""," --activeStep-").concat(j)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:oe},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#c0c1c0",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),function(t){switch(t){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},a("BuyOfferOverlay.place.offer")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__lower__cont"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BuyOfferOverlay.current.value")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:e.currentBid})))),r.a.createElement("div",{className:"Overlay__input"},r.a.createElement(je.a,{id:"quantity",label:a("BuyOfferOverlay.buy.at.label"),type:"number",value:k,onChange:function(e){var t,a=e.target.value;a>0&&(w(""!=(t=a)),x(t))}}),r.a.createElement(De.a,{utils:Fe.a},r.a.createElement(We.a,{variant:"inline",format:"DD-MM-YYYY HH:mm",margin:"normal",id:"date-picker-inline",label:a("BuyOfferOverlay.expires.at.label"),value:I,onChange:ve})))),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(Ve.a,{open:ie,anchorEl:te.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,n=e.placement;return r.a.createElement(Ge.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(He.a,null,r.a.createElement(Ue.a,{onClickAway:de},r.a.createElement(ze.a,{autoFocusItem:ie,id:"mint-fade-menu"},r.a.createElement(Re.a,{onClick:function(){pe("ovr")},className:"bid-fade-menu --cons-option"},a("BuyOfferOverlay.buy.using.ovr")),r.a.createElement(Re.a,{onClick:Object(le.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe("eth");case 1:case"end":return e.stop()}}),e)}))),className:"bid-fade-menu"},a("BuyOfferOverlay.buy.using.eth")),r.a.createElement(Re.a,{onClick:Object(le.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe("dai");case 1:case"end":return e.stop()}}),e)}))),className:"bid-fade-menu"},a("BuyOfferOverlay.buy.using.dai")),r.a.createElement(Re.a,{onClick:Object(le.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe("usdt");case 1:case"end":return e.stop()}}),e)}))),className:"bid-fade-menu"},a("BuyOfferOverlay.buy.using.usdt")),r.a.createElement(Re.a,{onClick:Object(le.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe("usdc");case 1:case"end":return e.stop()}}),e)}))),className:"bid-fade-menu"},a("BuyOfferOverlay.buy.using.usdc"))))))})),r.a.createElement(Te,{hexRef:te,url:"#",text:a("BuyOfferOverlay.place.buy"),className:"--orange ".concat(_?"":"--disabled"),ariaControls:ie?"mint-fade-menu":void 0,ariaHaspopup:"true",onClick:me}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--orange-light",onClick:oe}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},a("BuyOfferOverlay.place.offer")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BuyOfferOverlay.current.bid")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:e.currentBid}))),r.a.createElement("div",{className:"Overlay__arrow"},r.a.createElement("div",{className:"Icon"},r.a.createElement("svg",{width:"10px",height:"17px",viewBox:"0 0 10 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-792.000000, -469.000000)",fill:"#FFFFFF",stroke:"#D4CDD9"},r.a.createElement("path",{d:"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z",id:"Path"})))))),r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BuyOfferOverlay.your.offer")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:k})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,W))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__congrat_title"},r.a.createElement("span",null,a("Generic.congrats.label")),r.a.createElement("br",null),a("BuyOfferOverlay.offer.sent"),r.a.createElement("div",{className:"Overlay__etherscan_link"},r.a.createElement("a",{href:A.apis.etherscan+"/tx/"+o,rel:"noopener noreferrer",target:"_blank"},a("BuyOfferOverlay.view.status")))),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BuyOfferOverlay.your.offer")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:k})))),r.a.createElement("div",{className:"Overlay__close-button_container"},r.a.createElement(Te,{url:"#",text:"Close",className:"--orange-light",onClick:oe}))));default:return"Unknown step"}}(j)))):null})))),Ke=a(389),Je=(a(352),pe(Se(O(function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(p.a)(this,a),(n=t.call(this,e)).confirmDeleteBuyOffer=function(){var e=Object(le.a)(se.a.mark((function e(t){var a,r,i;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(ne.a)(),r=a.t,a.i18n,e.prev=1,e.next=4,n.props.web3Provider.actions.cancelBuyOffer(t);case 4:return i=e.sent,n.setState({metamaskMessage:r("MetamaskMessage.cancel.buy"),transactionInProcess:!0}),e.next=8,n.props.web3Provider.actions.waitTx(i);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",ee(r("Danger.cancel.buy.title"),e.t0.message));case 13:te(r("Success.delete.title"),r("Success.request.process.desc")),n.handleClose();case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),n.declineBuyOffer=function(){var e=Object(le.a)(se.a.mark((function e(t){var a,r,i;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(ne.a)(),r=a.t,a.i18n,e.prev=1,e.next=4,n.props.web3Provider.actions.declineBuyOffer(t);case 4:return i=e.sent,n.setState({metamaskMessage:r("MetamaskMessage.decline.buy"),transactionInProcess:!0}),e.next=8,n.props.web3Provider.actions.waitTx(i);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",ee(r("Danger.decline.buy.title"),e.t0.message));case 13:te(r("Success.decline.title"),r("Success.request.process.desc")),n.handleClose();case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),n.confirmSell=function(){var e=Object(le.a)(se.a.mark((function e(t,a){var r,i,c;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(ne.a)(),i=r.t,r.i18n,e.prev=1,n.setState({metamaskMessage:i("MetamaskMessage.approve.ovr"),transactionInProcess:!0}),e.next=5,n.props.web3Provider.actions.approveErc721Token(a,!0);case 5:return n.setState({metamaskMessage:i("MetamaskMessage.accept.sell")}),e.next=8,n.props.web3Provider.actions.acceptBuyOffer(t,a);case 8:return c=e.sent,e.next=11,n.props.web3Provider.actions.waitTx(c);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",ee(i("Danger.accept.buy.title"),e.t0.message));case 16:te(i("Success.land.sold.title"),i("Success.request.process.desc")),n.handleClose();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}(),n.openDeclineModal=function(){var e=Object(ne.a)(),t=e.t;e.i18n;n.props.userProvider.state.isLoggedIn?n.setState({openDeclineBuyModal:!0}):X(t("Warning.invalid.auth.title"),t("Warning.invalid.auth.desc.buy"))};var r=window.location.pathname.split("/")[3];return n.state={openModal:!1,offerId:n.props.offer.id,openDeclineBuyModal:!1,metamaskMessage:"",transactionInProcess:!1,hexId:r&&15===r.length?r:n.props.mapProvider.state.hex_id},n.confirmDeleteBuyOffer=n.confirmDeleteBuyOffer.bind(Object(y.a)(n)),n.confirmSell=n.confirmSell.bind(Object(y.a)(n)),n.handleOpen=n.handleOpen.bind(Object(y.a)(n)),n.handleClose=n.handleClose.bind(Object(y.a)(n)),n.buttonRender=n.buttonRender.bind(Object(y.a)(n)),n.setupComplete=n.props.web3Provider.state.setupComplete,n}return Object(v.a)(a,[{key:"setupListeners",value:function(){var e=this;document.addEventListener("land-selected",(function(t){e.setState({hexId:t.detail.hex_id})}))}},{key:"handleOpen",value:function(){var e=Object(ne.a)(),t=e.t;e.i18n;this.props.userProvider.state.isLoggedIn?this.setState({openModal:!0}):X(t("Warning.invalid.auth.title"),t("Warning.invalid.auth.desc.buy"))}},{key:"handleClose",value:function(){this.setState({openModal:!1,openDeclineBuyModal:!1,metamaskMessage:"",transactionInProcess:!1})}},{key:"componentDidMount",value:function(){this.setupComplete&&this.setupListeners()}},{key:"buttonRender",value:function(){var e=this,t=Object(ne.a)(),a=t.t;t.i18n;return this.props.isOwner?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section"},r.a.createElement("button",{type:"button",className:"orderTileButton",onClick:this.handleOpen},"Delete")),r.a.createElement("div",{className:"section"}),r.a.createElement(Ke.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openModal,onClose:this.handleClose},r.a.createElement("div",{className:"BuyOfferModal"},r.a.createElement("h2",null,a("BuyOfferOrder.delete.confirmation")),r.a.createElement("p",null,r.a.createElement(re.a,{i18nKey:"BuyOfferOrder.delete.ask"},"Do you confirm the delete of this ",r.a.createElement("b",null,"Buy offer"),"?")),r.a.createElement("p",{className:"blinking-message"},this.state.metamaskMessage),r.a.createElement("div",{className:"Modal__buttons_container"},r.a.createElement(Te,{url:"#",text:a("Generic.confirm.label"),className:this.state.transactionInProcess?"--purple --disabled":"--purple",onClick:function(){return e.confirmDeleteBuyOffer(e.props.offer.id)}}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--outline",onClick:this.handleClose}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section"},r.a.createElement("button",{type:"button",className:"orderTileButton",onClick:this.handleOpen},a("BuyOfferOrder.accept.offer"))," ",r.a.createElement("button",{type:"button",className:"orderTileButton",onClick:this.openDeclineModal},a("BuyOfferOrder.decline.offer"))),r.a.createElement("div",{className:"section"}),r.a.createElement(Ke.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openModal,onClose:this.handleClose},r.a.createElement("div",{className:"BuyOfferModal"},r.a.createElement("h2",null,a("BuyOfferOrder.sell.confirmation")),r.a.createElement("p",null,r.a.createElement(re.a,{i18nKey:"BuyOfferOrder.sell.conf.ask"},"Do you confirm the sell of this ",r.a.createElement("b",null,"OVRLand"),"?")),r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"OrderModal__bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BuyOfferOrder.sell.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:this.props.offer.price})))),r.a.createElement("p",{className:"blinking-message"},this.state.metamaskMessage),r.a.createElement("div",{className:"Modal__buttons_container"},r.a.createElement(Te,{url:"#",text:a("Generic.confirm.label"),className:this.state.transactionInProcess?"--purple --disabled":"--purple",onClick:function(){return e.confirmSell(e.props.offer.id,e.props.offer.landId)}}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--outline",onClick:this.handleClose})))),r.a.createElement(Ke.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.openDeclineBuyModal,onClose:this.handleClose},r.a.createElement("div",{className:"BuyOfferModal"},r.a.createElement("h2",null,a("BuyOfferOrder.decline.confirm")),r.a.createElement("p",null,r.a.createElement(re.a,{i18nKey:"BuyOfferOrder.decline.conf.ask"},"Do you confirm to decline this buy offer for this ",r.a.createElement("b",null,"OVRLand"),"?")),r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"OrderModal__bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BuyOfferOrder.sell.at")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:this.props.offer.price})))),r.a.createElement("p",{className:"blinking-message"},this.state.metamaskMessage),r.a.createElement("div",{className:"Modal__buttons_container"},r.a.createElement(Te,{url:"#",text:a("Generic.confirm.label"),className:this.state.transactionInProcess?"--purple --disabled":"--purple",onClick:function(){return e.declineBuyOffer(e.props.offer.id)}}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--outline",onClick:this.handleClose})))))}},{key:"render",value:function(){var e=Object(ne.a)(),t=e.t;e.i18n;return r.a.createElement("div",{className:"BuyOfferTile"},r.a.createElement("div",{className:"section"},r.a.createElement(C,{value:this.props.offer.price})),r.a.createElement("div",{className:"section"},r.a.createElement("b",null,t("BuyOfferOrder.offer.order"))),r.a.createElement("div",{className:"section"},r.a.createElement("span",{className:"c-small-tile-text"},t("BuyOfferOrder.expires.label"))," ",r.a.createElement(j,{date_end:new Date(1e3*this.props.offer.expirationDate)})),this.buttonRender())}}]),a}(n.Component))))),$e=pe(Se(O((function(e){var t=Object(ne.a)(),a=t.t,i=(t.i18n,e.web3Provider.actions),c=i.approveOvrTokens,s=i.buy,l=i.buyLand,o=e.web3Provider.state,u=o.ovr,m=o.ico,p=o.setupComplete,v=e.land.hexId,y=e.land.marketStatus,b=Object(n.useState)(e.currentBid),f=Object(d.a)(b,2),h=f[0],g=f[1],E=Object(n.useState)(0),_=Object(d.a)(E,2),w=_[0],O=_[1],N=Object(n.useState)(a("MetamaskMessage.set.waiting")),k=Object(d.a)(N,2),x=k[0],S=k[1],T=Object(n.useState)(!1),j=Object(d.a)(T,2),L=j[0],M=j[1],B=Object(n.useState)(!1),A=Object(d.a)(B,2),I=A[0],P=A[1],F=r.a.useRef(null),D=r.a.useState(!1),W=Object(d.a)(D,2),R=W[0],U=W[1];Object(n.useEffect)((function(){e.mapProvider.state.activeBuyOverlay?(M(!0),setTimeout((function(){P(!0)}),50)):(P(!1),setTimeout((function(){M(!1)}),500))}),[e.mapProvider.state.activeBuyOverlay]);var G=function(e){F.current&&F.current.contains(e.target)||U(!1)},H=function(){U(!0)};Object(n.useEffect)((function(){p&&V()}),[p,m,v,y,e.mapProvider.state.activeBuyOverlay]);var V=function(){var e=Object(le.a)(se.a.mark((function e(){var t,n,r;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p&&m&&u){e.next=2;break}return e.abrupt("return",X(a("Warning.metamask.not.detected.title"),a("Warning.metamask.not.detected.desc")));case 2:return t=parseInt(v,16),e.next=5,m.landsAsync(t);case 5:n=e.sent,r=String(window.web3.fromWei(n[7])),g(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function z(t){t.preventDefault(),e.mapProvider.actions.changeActiveBuyOverlay(!1),setTimeout((function(){O(0),g(10)}),200)}var Y=function(){return!!e.userProvider.state.isLoggedIn||(O(0),X(a("Warning.invalid.auth.title"),a("Warning.invalid.auth.desc")),!1)},q=function(){var e=Object(le.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w+1!==1){e.next=24;break}if(Y()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,u.balanceOfAsync(window.web3.eth.defaultAccount);case 6:if(e.sent.greaterThan(h)){e.next=9;break}return e.abrupt("return",ee(a("Danger.balance.insuff.title"),a("Danger.balance.insuff.desc")));case 9:return S(a("MetamaskMessage.set.approve.ovr")),e.next=12,c(!0,u);case 12:return S(a("MetamaskMessage.set.waiting.buy")),e.next=15,l(v);case 15:q(),e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(3),console.log("Error",e.t0),e.abrupt("return",ee(a("Danger.error.processing.title"),e.t0.message));case 22:e.next=25;break;case 24:O((function(e){return e+1}));case 25:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}();return L?r.a.createElement("div",{className:"OverlayContainer ".concat(I?"--js-show":"")},r.a.createElement("div",{className:"RightOverlay__backpanel"}," "),r.a.createElement("div",{key:"sell-overlay-",to:e.url,className:"RightOverlay BuyLandOverlay NormalInputs ".concat(e.className?e.className:""," --activeStep-").concat(w)},r.a.createElement("div",{className:"Overlay__cont"},r.a.createElement("div",{className:"Icon Overlay__close_button",onClick:z},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 30 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Dashboards",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0"},r.a.createElement("g",{id:"Biddign-Single-Auction",transform:"translate(-398.000000, -298.000000)",fill:"#c0c1c0",fillRule:"nonzero"},r.a.createElement("path",{d:"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z",id:"Shape"}))))),function(t){switch(t){case 0:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},a("BuyLandOverlay.buy.land")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bids_container"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BuyLandOverlay.price.label")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:h}))))),r.a.createElement("br",null),r.a.createElement("div",{className:"Overlay__buttons_container"},r.a.createElement(Ve.a,{open:R,anchorEl:F.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,n=e.placement;return r.a.createElement(Ge.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(He.a,null,r.a.createElement(Ue.a,{onClickAway:G},r.a.createElement(ze.a,{autoFocusItem:R,id:"mint-fade-menu"},r.a.createElement(Re.a,{onClick:function(e){G(e),O((function(e){return e+1})),q()},className:"bid-fade-menu --cons-option"},a("BuyLandOverlay.bid.ovr")),r.a.createElement(Re.a,{onClick:function(){var e=Object(le.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(t),!1!==Y()){e.next=3;break}return e.abrupt("return",!1);case 3:return O((function(e){return e+1})),e.next=6,s(window.web3.toWei(h),"eth");case 6:q();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"bid-fade-menu"},a("BuyLandOverlay.bid.eth")),r.a.createElement(Re.a,{onClick:function(){var e=Object(le.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(t),S(a("MetamaskMessage.set.get.ovr.first")),!1!==Y()){e.next=4;break}return e.abrupt("return",!1);case 4:return O((function(e){return e+1})),e.next=7,s(window.web3.toWei(h),"dai");case 7:q();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"bid-fade-menu"},a("BuyLandOverlay.bid.dai")),r.a.createElement(Re.a,{onClick:function(){var e=Object(le.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(t),S(a("MetamaskMessage.set.get.ovr.first")),!1!==Y()){e.next=4;break}return e.abrupt("return",!1);case 4:return O((function(e){return e+1})),e.next=7,s(window.web3.toWei(h),"usdt");case 7:q();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"bid-fade-menu"},a("BuyLandOverlay.bid.usdt")),r.a.createElement(Re.a,{onClick:function(){var e=Object(le.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G(t),S(a("MetamaskMessage.set.get.ovr.first")),!1!==Y()){e.next=4;break}return e.abrupt("return",!1);case 4:return O((function(e){return e+1})),e.next=7,s(window.web3.toWei(h),"usdc");case 7:q();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"bid-fade-menu"},a("BuyLandOverlay.bid.usdc"))))))})),r.a.createElement(Te,{hexRef:F,url:"#",text:a("BuyLandOverlay.confirm.buy"),className:"--orange",ariaControls:R?"mint-fade-menu":void 0,ariaHaspopup:"true",onClick:H}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--orange-light",onClick:z}))));case 1:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__title"},a("BuyLandOverlay.buy.land")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__minimum_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BuyLandOverlay.price.label")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:h})))),r.a.createElement("div",{className:"Overlay__message__container"},r.a.createElement("span",null,x))));case 2:return r.a.createElement("div",{className:"Overlay__body_cont"},r.a.createElement("div",{className:"Overlay__upper"},r.a.createElement("div",{className:"Overlay__congrat_title"},r.a.createElement("span",null,a("Generic.congrats.label")),r.a.createElement("br",null),a("BuyLandOverlay.requested.buy")),r.a.createElement("div",{className:"Overlay__land_title"},e.land.name.sentence),r.a.createElement("div",{className:"Overlay__land_hex"},e.land.location)),r.a.createElement("div",{className:"Overlay__lower"},r.a.createElement("div",{className:"Overlay__bid_container"},r.a.createElement("div",{className:"Overlay__current_bid"},r.a.createElement("div",{className:"Overlay__bid_title"},a("BuyLandOverlay.price.label")),r.a.createElement("div",{className:"Overlay__bid_cont"},r.a.createElement(C,{value:h})))),r.a.createElement("div",{className:"Overlay__close-button_container"},r.a.createElement(Te,{url:"#",text:a("Generic.close.label"),className:"--orange-light",onClick:z}))));default:return"Unknown step"}}(w)))):null})))),Qe=a(145),Xe=a.n(Qe),et=Se(pe(O((function(e){var t=Object(ne.a)(),a=t.t,i=(t.i18n,e.mapProvider.actions),c=i.changeHexId,s=i.changeLandData,l=i.changeActiveBidOverlay,o=i.changeActiveMintOverlay,u=i.changeActiveSellOverlay,m=i.changeActiveBuyOverlay,p=i.changeActiveBuyOfferOverlay,v=e.web3Provider.actions,y=v.redeemSingleLand,b=v.getOffersToBuyLand,f=e.web3Provider.state,h=f.ovr,g=f.ico,E=f.setupComplete,_=e.userProvider.state.isLoggedIn,w=Object(n.useState)(e.mapProvider.state),O=Object(d.a)(w,2),N=O[0],x=O[1],S=Object(n.useState)(10),T=Object(d.a)(S,2),L=T[0],M=T[1],B=Object(n.useState)(0),I=Object(d.a)(B,2),P=I[0],F=I[1],D=Object(n.useState)(0),W=Object(d.a)(D,2),R=W[0],U=W[1],G=Object(n.useState)({sentence:"director.connect.overflow",hex:"8cbcc350c0ab5ff"}),H=Object(d.a)(G,2),V=H[0],z=H[1],Y=Object(n.useState)("Venice, Italy"),q=Object(d.a)(Y,2),Z=q[0],J=q[1],$=Object(n.useState)(null),X=Object(d.a)($,2),ee=X[0],te=X[1],ae=Object(n.useState)([]),ie=Object(d.a)(ae,2),ce=ie[0],oe=ie[1],ue=Object(n.useState)(!1),de=Object(d.a)(ue,2),me=de[0],pe=de[1],ve=Object(n.useState)(!1),ye=Object(d.a)(ve,2),be=ye[0],fe=ye[1];Object(n.useEffect)((function(){var t=e.match.params.id;c(t),ge(t)}),[void 0,e.match.params.id]),Object(n.useEffect)((function(){if(E&&_&&N===e.match.params.id&&_){window.landSocket&&window.landSocket.unsubscribe();var t=Xe.a.createConsumer(A.apis.socket);window.landSocket=t.subscriptions.create({channel:"LandsChannel",hex_id:N},{received:function(e){ge(N),he()}})}}),[E,_,N]),Object(n.useEffect)((function(){E&&he()}),[E,g,h,N,P]);var he=function(){var e=Object(le.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E&&g&&h){e.next=2;break}return e.abrupt("return",!1);case 2:Ee();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ge(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return K({url:"/land",method:"GET"},{hex_id:e},null)})(e).then((function(e){var t=e.data;if(t.error&&"h3_not_valid"==t.error)fe(!0);else{fe(!1),c(t.hexId),x(t.hexId),z({sentence:t.sentenceId,hex:t.hexId}),J(t.address.full),U(t.userPerspective),te(t.auction),console.log(t),M(t.value),F(t.marketStatus);var a={key:t.hexId,name:{sentence:t.sentenceId,hex:t.hexId},location:t.address.full,userPerspective:t.userPerspective,openSellOrder:t.openSellOrder,auction:t.auction};s(a)}})).catch((function(e){console.log(e),Q()}))}var Ee=function(){var e=Object(le.a)(se.a.mark((function e(){var t;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(N);case 2:t=e.sent,oe(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(le.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),pe(!0),e.next=5,y(N);case 5:pe(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function we(e){e.preventDefault(),u(!0)}function Oe(){var e=r.a.createElement("div",null,"\xa0");switch(P){case 0:e=r.a.createElement(Te,{url:"/",text:a("Land.init.auction"),className:"--blue",onClick:function(e){return function(e){e.preventDefault(),o(!0)}(e)}});break;case 1:e=r.a.createElement(Te,{url:"/",text:a("Land.place.bid"),className:"--purple",onClick:function(e){return function(e){e.preventDefault(),l(!0)}(e)}});break;case 2:e=r.a.createElement(r.a.Fragment,null),0==R?e=r.a.createElement(Te,{url:"/",text:a("Land.buy.offer"),className:"--blue",onClick:function(e){return function(e){e.preventDefault(),p(!0)}(e)}}):1==R&&(e=r.a.createElement(Te,{url:"/",text:a("Land.sell.land"),className:"--purple --disabled",onClick:function(e){return we(e)}}));break;case 3:e=r.a.createElement(Te,{url:"/",text:a("Land.sell.land"),className:"--purple",onClick:function(e){return we(e)}});break;case 4:e=r.a.createElement(Te,{url:"/",text:a("Land.buy.now"),className:"--purple",onClick:function(e){return function(e){e.preventDefault(),m(!0)}(e)}});break;case 5:e=r.a.createElement(r.a.Fragment,null),0!=R&&(e=r.a.createElement("div",{className:"redeem-land-map-button"},r.a.createElement(Te,{url:"/",text:a("Land.redeem.land"),className:me?"--purple --disabled":"--purple",onClick:function(e){return _e(e)}}),me?r.a.createElement("p",{className:"Overlay__message__container"},a("Land.redeeming.land")):null));break;default:e=r.a.createElement("div",null,"\xa0")}return e}return 0==be?r.a.createElement("div",{className:"Land"},r.a.createElement(Ae,{currentBid:L,land:{hexId:N,marketStatus:P,name:V,location:Z}}),r.a.createElement(Ie,{currentBid:L,land:{hexId:N,marketStatus:P,name:V,location:Z}}),r.a.createElement(Pe,{currentBid:L,land:{hexId:N,marketStatus:P,name:V,location:Z}}),r.a.createElement(Ze,{currentBid:L,land:{hexId:N,marketStatus:P,name:V,location:Z}}),r.a.createElement($e,{currentBid:L,land:{hexId:N,marketStatus:P,name:V,location:Z}}),r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Land__heading__1"},r.a.createElement("h2",null,r.a.createElement(k.Textfit,{mode:"single",max:25},V.sentence)),r.a.createElement("div",{className:"Land__location"},Z)),r.a.createElement("div",{className:"Land__heading__2"},r.a.createElement("div",{className:"o-fourth"},function(){switch(P){case 2:return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"o-small-title"},a("Land.closing.price")),r.a.createElement(C,{value:L}));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"o-small-title"},a("Land.price.label")),r.a.createElement(C,{value:L}))}}()),r.a.createElement("div",{className:"o-fourth"},1===P?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"o-small-title"},a("Land.closes.label")),r.a.createElement(j,{date_end:ee?ee.closeAt:24})):r.a.createElement("div",null,"\xa0")),r.a.createElement("div",{className:"o-fourth"},function(){var e=r.a.createElement("div",null,"\xa0");switch(P){case 1:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},a("Land.status.label")),r.a.createElement("div",{className:"c-status-badge  --open"},a("Land.open.label")));break;case 2:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},a("Land.status.label")),r.a.createElement("div",{className:"c-status-badge  --owned"},a("Land.owned.label")));break;default:e=r.a.createElement("div",null,"\xa0")}switch(R){case 1:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},a("Land.status.label")),r.a.createElement("div",{className:"c-status-badge --bestbid"},a("Land.owner.label")));break;case 2:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},a("Land.status.label")),r.a.createElement("div",{className:"c-status-badge  --bestbid"},a("Land.best.bid")));break;case 3:e=r.a.createElement("div",null,r.a.createElement("h3",{className:"o-small-title"},a("Land.status.label")),r.a.createElement("div",{className:"c-status-badge  --outbidded"},a("Land.outbidded.label")))}return e}()),r.a.createElement("div",{className:"o-fourth"},Oe()))),function(){var e=this,t=r.a.createElement(r.a.Fragment,null),a=r.a.createElement(r.a.Fragment,null),n=r.a.createElement(r.a.Fragment,null),i=2===P,c=3===P;return ce.length>0&&(i?n=ce.map((function(t){return r.a.createElement(Je,{key:t.id,offer:t,isOwner:!0,userPerspective:R,userProvider:e.props.userProvider,web3Provide:e.props.web3Provider})})):c&&(a=ce.map((function(t){return r.a.createElement(Je,{key:t.id,offer:t,isOwner:!1,userPerspective:R,userProvider:e.props.userProvider,web3Provide:e.props.web3Provider})})))),(c||i)&&(t=r.a.createElement("div",{className:"Land__section"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Title__container"}," ",r.a.createElement("h3",{className:"o-small-title"},"Open Orders")),r.a.createElement("div",{className:"Body__container"},a,n)))),t}(),r.a.createElement("div",{className:"Land__section"},null===ee||0===ee.bidHistory.length?r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Title__container"}," ",r.a.createElement("h3",{className:"o-small-title"},a("Land.history.label"))),r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},a("Land.be.the.one")," ",r.a.createElement("span",{role:"img","aria-label":"fire-emoji"},"\ud83d\udd25")),r.a.createElement("div",{className:"c-dialog-sub-title"},r.a.createElement(re.a,{i18nKey:"Land.no.active.auction"},"The land has no active Auction at the moment. ",r.a.createElement("br",null),'Click on "Init Auction" and be the one to own it.')))):r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Title__container"}," ",r.a.createElement("h3",{className:"o-small-title"},a("Land.bid.history"))),r.a.createElement("div",{className:"Table__container"},r.a.createElement("table",{className:"Table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,a("Land.price.label")),r.a.createElement("th",null,a("Land.when.label")),r.a.createElement("th",null,a("Land.from.label")))),r.a.createElement("tbody",null,ee.bidHistory.map((function(e){return r.a.createElement("tr",{key:e.when,className:"Table__line"},r.a.createElement("td",null,r.a.createElement(C,{value:e.worth})," "),r.a.createElement("td",null,r.a.createElement(j,{date_end:e.when})),r.a.createElement("td",null,e.from))})))))))):r.a.createElement("div",{className:"Land"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered --not-found"},r.a.createElement("h1",null,"404"),r.a.createElement("div",{className:"c-dialog-main-title"},"Land not found"),r.a.createElement("div",{className:"c-dialog-sub-title"},"The requested land name was not found. ",r.a.createElement("br",null),'Click anywhere in the map or go to "Marketplace" and start from there.'))))})))),tt=Se(pe(O((function(e){var t=Object(ne.a)(),a=t.t,i=(t.i18n,e.mapProvider.actions),c=i.enableMultipleLandSelection,s=i.disableMultipleLandSelection,l=e.mapProvider.state.multipleLandSelectionList,o=Object(n.useState)(""),u=Object(d.a)(o,2),m=u[0],p=u[1];return Object(n.useEffect)((function(){return c(),function(){s()}}),[]),Object(n.useEffect)((function(){l.length>0&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return K({url:"/lands/list",method:"GET"},{hex_ids:e},null)}(l.join(",")).then((function(e){p(e.data.lands.map((function(e){return r.a.createElement(B,{key:e.hexId,url:"/",value:e.value,background_image:"url(".concat(e.mapTileUrl),name:{sentence:e.sentenceId,hex:e.hexId},location:e.address.full,date_end:null,is_minimal:!0})})))})).catch((function(e){}))}),[l]),l.length>0?r.a.createElement("div",{className:"Lands"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"Land__heading__1"},r.a.createElement("h2",null,a("Lands.selected.lands")),r.a.createElement("div",{className:"Land__location"},a("Lands.click.to.remove"))),r.a.createElement("div",{className:"Land__heading__2"},r.a.createElement("div",{className:"o-fourth"},"\xa0"),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("h3",{className:"o-small-title"},a("Lands.selected.label")),r.a.createElement("div",null,l.length,"/15")),r.a.createElement("div",{className:"o-fourth"},"\xa0"),r.a.createElement("div",{className:"o-fourth"},r.a.createElement(Te,{url:"/",text:a("Lands.bid.selection"),className:"--blue",onClick:function(e){return console.log(e)}})))),r.a.createElement("div",{className:"o-container o-land-list__cont"},r.a.createElement("div",{className:"o-land-list"},m))):r.a.createElement("div",{className:"Land"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered --not-found"},r.a.createElement("div",{className:"c-dialog-main-title"},r.a.createElement("h2",null,a("Lands.selected.lands"))),r.a.createElement("div",{className:"c-dialog-sub-title"},a("Lands.focus.land")))))})))),at=a(37),nt=a(127),rt=a.n(nt),it=a(201),ct=a.n(it),st=a(429),lt=a(35),ot=function(){var e=Object(ne.a)(),t=e.t;e.i18n;return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},t("Profile.login.required"),r.a.createElement("span",{role:"img","aria-label":"Cool dude"},"\ud83d\ude0e")),r.a.createElement("div",{className:"c-dialog-sub-title"},t("Profile.check.profile")))))},ut=function(){var e=Object(ne.a)(),t=e.t,a=(e.i18n,at().format("HH:mm, dddd, MMM D, YYYY")),i=Object(n.useContext)(de),c=Object(n.useContext)(xe),s=i.state.user,l=Object(n.useState)(!1),o=Object(d.a)(l,2),m=o[0],p=o[1],v=Object(n.useState)(!1),y=Object(d.a)(v,2),b=y[0],f=y[1],h=Object(n.useState)(!1),g=Object(d.a)(h,2),E=g[0],_=g[1],w=Object(n.useState)(""),O=Object(d.a)(w,2),N=O[0],k=O[1],x=Object(n.useState)("#"),S=Object(d.a)(x,2),T=S[0],j=S[1],L=Object(n.useState)(!1),M=Object(d.a)(L,2),B=M[0],I=M[1],P=Object(n.useState)(!1),F=Object(d.a)(P,2),D=F[0],W=F[1];Object(n.useEffect)((function(){if(1==(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)&&window.ethereum&&window.ethereum.isImToken&&(W(!0),void 0!=s.uuid)){var e="en";u().includes("zh")&&(e="zh"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return K({url:"/user/sumsub/external_link",method:"GET"},{language:e},null)}(e).then((function(e){!0===e.data.result&&j(e.data.url)})).catch((function(){}))}1==m&&void 0!=s.uuid&&(K({url:"/user/sumsub/access_token",method:"GET"},{},null).then((function(e){!0===e.data.result&&mt(A.apis.sumsubApi,"basic-kyc",e.data.content.token,s.email,null,t)})).catch((function(e){})),-1==s.kycReviewAnswer&&K({url:"/user/sumsub/set_verification/started",method:"GET"},{},null).then((function(){})).catch((function(){})))}),[s.uuid,m,localStorage.getItem("i18nextLng")]);var R=function(e){f(""!==N),k(e.target.value)};return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"p-header"},r.a.createElement("h2",{className:"p-header-title"},t("Profile.my.profile")),r.a.createElement("span",{className:"p-header-datetime"},a)),r.a.createElement("div",{className:"p-body"},r.a.createElement("div",{className:"o-fourth"},r.a.createElement(rt.a,{seed:s.publicAddress||"loading",size:12,scale:13,color:"#7521c8",bgColor:"#EC663C",spotColor:"#F9B426"})),r.a.createElement("div",{className:"profile-content"},r.a.createElement("div",{key:"wallet",className:"p-section"},r.a.createElement("h3",{className:"p-section-title"},t("Profile.wallet.info")),r.a.createElement("div",{className:"p-section-content"},r.a.createElement("h4",{className:"p-content-title"},t("Profile.wallet.addr")),r.a.createElement("div",{className:"p-wallet-address"},window.web3&&window.web3.eth&&window.web3.eth.defaultAccount&&window.web3.eth.defaultAccount.toLowerCase()),r.a.createElement("div",{className:"p-balance"},r.a.createElement("div",{className:"p-small-title"},t("Profile.balance")),r.a.createElement("div",{className:"p-balance-value"},r.a.createElement(C,{value:c.state.ovrsOwned}),r.a.createElement("div",null,r.a.createElement(Te,{url:"/buy-tokens",className:"--orange --disabled",text:t("Profile.buy.ovr")}))))),r.a.createElement("div",{key:"KYC",className:"p-section --m-t"},r.a.createElement("h3",{className:"p-section-title"},t("Profile.identify.verification")),r.a.createElement("div",{className:"p-tiny-message"},pt(t)," ",r.a.createElement("br",null),1==s.kycReviewAnswer?t("Profile.whitelisted.ok"):t("Profile.whitelisted.no.ok"),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"p-section-content"},s.email?r.a.createElement("div",{className:"p-balance-value"},r.a.createElement(je.a,{id:"quantity",label:"Email address",type:"email",className:"Signup__email_textfield",value:s.email,disabled:!0})):r.a.createElement("div",{className:"p-balance-value"},r.a.createElement(je.a,{id:"quantity",label:"Email address",type:"email",className:"Signup__email_textfield",error:!1!==E,helperText:!1!==E?E:"",value:N,onFocus:R,onChange:R,onKeyUp:R}),r.a.createElement("div",null,!B&&r.a.createElement(Te,{url:"#",className:"--blue ".concat(b?"":"--disabled"),text:t("Email.add"),onClick:function(e){console.log(N),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(N)?(I(!0),_(!1),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return K({url:"/user/set/email",method:"POST"},{email:e},null)}(N).then((function(e){if(!0===e.data.result)i.actions.setUserEmail(N),te(t("Generic.congrats.label"),t("Signup.email.saved.title")),lt.a.set({page:window.location.pathname+"/email-saved"}),lt.a.pageview(window.location.pathname+"/email-saved");else{var a=e.data.errors[0].message;I(!1),f(!1),_(a)}})).catch((function(e){}))):(_(t("Signup.email.not.valid")),f(!1))}}),B&&r.a.createElement(st.a,null)))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"p-section-content"},r.a.createElement("h4",{className:"p-content-title"},t("Profile.status.label")),D?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-tiny-message"},t("Profile.imwallet.sumsub")),r.a.createElement("br",null)):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"p-balance-value"},dt(s.kycReviewAnswer,t),r.a.createElement("div",null,D?r.a.createElement(Te,{target:"_blank",url:T,className:"--blue",text:t("Generic.external.link")}):r.a.createElement(Te,{url:"#",className:"--blue",text:-1==s.kycReviewAnswer?t("Profile.start.verification"):t("Profile.check.verification"),onClick:function(e){e.preventDefault(),s.email?(p(!m),lt.a.set({page:window.location.pathname+"/kyc-started"}),lt.a.pageview(window.location.pathname+"/kyc-started")):X(t("Warning.email.not.detected.title"),t("Warning.email.not.detected.desc"))}})))),r.a.createElement("div",{className:"p-tiny-message"},null!=s.kycClientComment&&1!=s.kycReviewAnswer&&s.kycClientComment),r.a.createElement("div",{id:"sumsub-websdk-container"})),r.a.createElement("div",{className:"p-tiny-message"}))))))},dt=function(e,t){var a=r.a.createElement("div",null,"\xa0");switch(e){case-1:a=r.a.createElement("div",{className:"c-status-badge  --open"},t("Profile.not.started"));break;case-10:a=r.a.createElement("div",{className:"c-status-badge  --open"},t("Profile.started"));break;case 1:a=r.a.createElement("div",{className:"c-status-badge  --open"},t("Profile.completed"));break;case 0:a=r.a.createElement("div",{className:"c-status-badge  --open"},t("Profile.failed"));break;default:a=r.a.createElement("div",null,"\xa0")}return a},mt=function(e,t,a,n,r,i){var c,s="en";(u().includes("zh")&&(s="zh"),window.web3&&window.web3.eth&&window.web3.eth.defaultAccount&&window.web3.eth.defaultAccount.toLowerCase()&&(c=window.web3.eth.defaultAccount.toLowerCase()),c)?ct.a.Builder(e,t).withAccessToken(a,(function(e){e("...")})).withConf({lang:s,email:n,phone:r,metadata:[{key:"walletAddress",value:c}],onMessage:function(e,t){console.log("WebSDK onMessage",e,t)},customCss:"url",onError:function(e){console.error("WebSDK onError",e)}}).build().launch("#sumsub-websdk-container"):X(i("Warning.metamask.not.detected.title"),i("Warning.metamask.not.detected.desc"))},pt=function(e){var t=+new Date("2020-11-30 13:00")-+new Date,a="";if(t>0){var n={days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)};a=e("Profile.ovr.sale.start")+" "+n.days+" "+e("Profile.days")+" "+n.hours+" "+e("Profile.hours")+" "+n.minutes+" "+e("Profile.mins")+" "+n.seconds+" "+e("Profile.secs")+"."}return a},vt=function(){var e=Object(ne.a)(),t=e.t,a=(e.i18n,Object(n.useContext)(de).state),i=a.isLoggedIn;return Object(n.useEffect)((function(){var e="";i&&(e="/authenticated"),lt.a.set({page:window.location.pathname+e}),lt.a.pageview(window.location.pathname+e)}),[i]),i?r.a.createElement(ut,{state:a}):r.a.createElement(ot,{t:t})},yt=a(427),bt=a(198),ft=a(128),ht=a.n(ft),gt=a(428),Et=a(23),_t=function(e){var t,a=Object(ne.a)(),n=a.t,i=(a.i18n,Object(Et.g)()),c=r.a.useState(null),s=Object(d.a)(c,2),l=s[0],o=s[1],u=r.a.useState(0===e.data.status),m=Object(d.a)(u,2),p=m[0],v=(m[1],Boolean(l));return r.a.createElement("div",{key:e.data.uuid,className:"ActivityTile ".concat(p?"":"--new"),onClick:function(){}},r.a.createElement("div",{className:"ActivityTile__head"},r.a.createElement("div",{className:"ActivityTile__icon"})),r.a.createElement("div",{className:"ActivityTile__body"},r.a.createElement("div",{className:"ActivityTile__time"},at(e.data.createdAt).format("HH:mm, dddd, MMM D, YYYY")),r.a.createElement("div",{className:"ActivityTile__content",dangerouslySetInnerHTML:{__html:(t=e.data.content,t.replace(e.data.landSentence,"<span>"+e.data.landSentence+"</span>"))}})),r.a.createElement(yt.a,{"aria-label":"more","aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},r.a.createElement(ht.a,null)),r.a.createElement(bt.a,{id:"fade-menu",anchorEl:l,keepMounted:!0,open:v,onClose:function(){o(null)},TransitionComponent:gt.a},r.a.createElement(Re.a,{onClick:function(){o(null),i.push("/map/land/"+e.data.hexId)}},n("ActivityTile.goto.land")),e.data.txHash&&r.a.createElement(Re.a,{onClick:function(){o(null);var t=A.apis.etherscan+"/tx/"+e.data.txHash;window.open(t,"_blank")}},n("ActivityTile.check.ether"))))},wt=function(e){return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-main-title"},e("Activity.login.required"),r.a.createElement("span",{role:"img","aria-label":"Cool dude"},"\ud83d\ude0e")),r.a.createElement("div",{className:"c-dialog-sub-title"},e("Activity.login.now")))))},Ot=function(e){var t=at().format("HH:mm, dddd, MMM D, YYYY");return r.a.createElement("div",{className:"activity"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"p-header"},r.a.createElement("h2",{className:"p-header-title"},"Activity"),r.a.createElement("span",{className:"p-header-datetime"},t)),r.a.createElement("div",{className:"sub-title"},e("Activity.list.transactions"))),r.a.createElement(Nt,{t:e}))},Nt=function(e){var t=Object(n.useContext)(de).state,a=Object(n.useContext)(de).actions,i=Object(n.useState)(!1),c=Object(d.a)(i,2),s=c[0],l=c[1],o=Object(n.useContext)(xe),u=t.user;return Object(n.useEffect)((function(){Z().then((function(e){a.setUserActivity(e.data.user)}))}),[]),Object(n.useEffect)((function(){Z().then((function(e){a.setUserActivity(e.data.user)}))}),[t.user.notifications]),Object(n.useEffect)((function(){if(t.user.activities&&t.user.activities.content){var a=[];0===(a=t.user.activities.content.map((function(e){return r.a.createElement(_t,{key:e.uuid,data:e,context:{userState:u,web3Context:o}})}))).length&&(a=r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-sub-title"},e("Activity.no.activity"),r.a.createElement("span",{role:"img","aria-label":"Cool dude"},"\ud83e\udd19")))))),l(a)}}),[t.user.activities]),r.a.createElement("div",{className:"activity-content"},r.a.createElement("div",{className:"o-container"},s))},kt=function(){var e=Object(ne.a)(),t=e.t,a=(e.i18n,Object(n.useContext)(de).state);return a.isLoggedIn?r.a.createElement(Ot,{state:a,t:t}):r.a.createElement(wt,{t:t})},xt=Se((function(e){var t=Object(ne.a)(),a=t.t,i=(t.i18n,Object(n.useContext)(xe),Object(n.useContext)(_),Object(n.useContext)(de)),c=e.history;return Object(n.useEffect)((function(){lt.a.set({page:window.location.pathname}),lt.a.pageview(window.location.pathname),i.state.isLoggedIn&&c.push("/profile")}),[i.state.isLoggedIn]),r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"o-container"},r.a.createElement("h2",null,a("Login.welcome.back")),r.a.createElement("div",{className:"Login__sub-title"},a("Login.use.metamask")),r.a.createElement("div",{className:"Login__footer"},a("Login.contact.us")," "," ",r.a.createElement(L.b,{to:"mailto:info@ovr.ai"},"info@ovr.ai"))))})),Ct=a(46),St=a.n(Ct),Tt=a(51),jt=a.n(Tt),Lt=Se((function(){var e=Object(ne.a)(),t=e.t,a=(e.i18n,Object(n.useContext)(xe),Object(n.useContext)(de)),i=Object(Et.g)(),c=Object(n.useState)(!1),s=Object(d.a)(c,2),l=s[0],o=s[1];return Object(n.useEffect)((function(){lt.a.set({page:window.location.pathname}),lt.a.pageview(window.location.pathname),a.state.isLoggedIn&&i.push("/profile");var e=window.ethereum;function t(){return(t=Object(le.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"===typeof e){t.next=11;break}return t.prev=1,t.next=4,e.enable();case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:window.web3=new be.a(e),t.next=12;break;case 11:"undefined"!==typeof window.web3&&(window.web3=new be.a(window.web3.currentProvider),window.web3.eth.defaultAccount=window.web3.eth.accounts[0]);case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"Signup"},function(){var e="undefined"!==typeof window.web3,a=!1,n=!1;return e&&(a=window.web3.eth.accounts.length>0,n=parseInt(window.ethereum.chainId,16)===A.web3network),l?r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box --tutorial"},r.a.createElement("h1",null,t("Signup.imwallet.tutorial.title")),r.a.createElement("div",{className:"Signup__section --left"},t("Signup.imwallet.tutorial.body")),r.a.createElement("br",null),r.a.createElement(L.b,{to:"#",className:"Signup__section__small-link",onClick:function(){o(!1)}},t("Generic.back.link")))):r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box"},r.a.createElement("h1",null,t("Signup.first.things")),r.a.createElement("div",{className:"Signup__section --left"},e?r.a.createElement("div",{className:"o-list"},r.a.createElement(jt.a,{className:"CheckCircleSharpIcon"})," ",t("Signup.web3.install")):r.a.createElement("div",{className:"o-list"},r.a.createElement(St.a,{className:"CancelIcon"})," ",t("Signup.web3.install")),a?r.a.createElement("div",{className:"o-list"},r.a.createElement(jt.a,{className:"CheckCircleSharpIcon"})," ",t("Signup.web3.login")):r.a.createElement("div",{className:"o-list"},r.a.createElement(St.a,{className:"CancelIcon"})," ",t("Signup.web3.login")),n?r.a.createElement("div",{className:"o-list"},r.a.createElement(jt.a,{className:"CheckCircleSharpIcon"})," ",t("Signup.connect.to")," ","3"===String(A.web3network)?"Ropsten":"Mainnet"," ",t("Signup.network")):r.a.createElement("div",{className:"o-list"},r.a.createElement(St.a,{className:"CancelIcon"})," ",t("Signup.connect.to")," ","3"===String(A.web3network)?"Ropsten":"Mainnet"," ",t("Signup.network"))),e&&n&&a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Signup__section Signup__msg --positive"},t("Signup.web3.present"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Signup__section Signup__msg --negative"},t("Signup.web3.not.present")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Te,{url:"https://metamask.io",text:t("Signup.web3.install.metamask"),target:"_blank",className:"--purple"}),r.a.createElement(Te,{url:"https://token.im/",text:t("Signup.web3.install.imtoken"),target:"_blank",className:"--purple --install-imtoken"})),r.a.createElement("br",null),r.a.createElement(L.b,{to:"#",className:"Signup__section__small-link",onClick:function(){o(!0)}},t("Signup.imwallet.tutorial.link"))),a?r.a.createElement("div",{className:"o-list"},r.a.createElement(jt.a,{className:"CheckCircleSharpIcon"})," ",t("Signup.web3.login")):r.a.createElement("div",{className:"o-list"},r.a.createElement(St.a,{className:"CancelIcon"})," ",t("Signup.web3.login")),n?r.a.createElement("div",{className:"o-list"},r.a.createElement(jt.a,{className:"CheckCircleSharpIcon"})," ",t("Signup.connect.to")," ","3"===String(A.web3network)?"Ropsten":"Mainnet"," ",t("Signup.network")):r.a.createElement("div",{className:"o-list"},r.a.createElement(St.a,{className:"CancelIcon"})," ",t("Signup.connect.to")," ","3"===String(A.web3network)?"Ropsten":"Mainnet"," ",t("Signup.network"))))}())})),Mt=a(129),Bt=a.n(Mt),At=a(149),It=function(e){return"?"+Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&")},Pt=function(e,t){return decodeURIComponent(e.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},Ft=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isSdkLoaded:!1,isProcessing:!1},e.responseApi=function(t){window.FB.api("/me",{locale:e.props.language,fields:e.props.fields},(function(a){Object.assign(a,t),e.props.callback(a)}))},e.checkLoginState=function(t){e.setStateIfMounted({isProcessing:!1}),t.authResponse?e.responseApi(t.authResponse):e.props.onFailure?e.props.onFailure({status:t.status}):e.props.callback({status:t.status})},e.checkLoginAfterRefresh=function(t){"connected"===t.status?e.checkLoginState(t):window.FB.login((function(t){return e.checkLoginState(t)}),!0)},e.click=function(t){if(e.state.isSdkLoaded&&!e.state.isProcessing&&!e.props.isDisabled){e.setState({isProcessing:!0});var a=e.props,n=a.scope,r=a.appId,i=a.onClick,c=a.returnScopes,s=a.responseType,l=a.redirectUri,o=a.disableMobileRedirect,u=a.authType,d=a.state;if("function"===typeof i&&(i(t),t.defaultPrevented))e.setState({isProcessing:!1});else{var m={client_id:r,redirect_uri:l,state:d,return_scopes:c,scope:n,response_type:s,auth_type:u};if(e.props.isMobile&&!o)window.location.href="https://www.facebook.com/dialog/oauth".concat(It(m));else{if(!window.FB)return void(e.props.onFailure&&e.props.onFailure({status:"facebookNotLoaded"}));window.FB.getLoginStatus((function(t){"connected"===t.status?e.checkLoginState(t):window.FB.login(e.checkLoginState,{scope:n,return_scopes:c,auth_type:m.auth_type})}))}}}},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){if(this._isMounted=!0,document.getElementById("facebook-jssdk"))this.sdkLoaded();else{this.setFbAsyncInit(),this.loadSdkAsynchronously();var e=document.getElementById("fb-root");e||((e=document.createElement("div")).id="fb-root",document.body.appendChild(e))}}},{key:"componentWillReceiveProps",value:function(e){this.state.isSdkLoaded&&e.autoLoad&&!this.props.autoLoad&&window.FB.getLoginStatus(this.checkLoginAfterRefresh)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"setStateIfMounted",value:function(e){this._isMounted&&this.setState(e)}},{key:"setFbAsyncInit",value:function(){var e=this,t=this.props,a=t.appId,n=t.xfbml,r=t.cookie,i=t.version,c=t.autoLoad;window.fbAsyncInit=function(){window.FB.init({version:"v".concat(i),appId:a,xfbml:n,cookie:r}),e.setStateIfMounted({isSdkLoaded:!0}),(c||e.isRedirectedFromFb())&&window.FB.getLoginStatus(e.checkLoginAfterRefresh)}}},{key:"isRedirectedFromFb",value:function(){var e=window.location.search;return"facebookdirect"===Pt(e,"state")&&(Pt(e,"code")||Pt(e,"granted_scopes"))}},{key:"sdkLoaded",value:function(){this.setState({isSdkLoaded:!0})}},{key:"loadSdkAsynchronously",value:function(){var e=this.props.language;!function(t,a,n){var r=t.getElementsByTagName(a)[0],i=r,c=r;t.getElementById(n)||((c=t.createElement(a)).id=n,c.src="https://connect.facebook.net/".concat(e,"/sdk.js"),i.parentNode.insertBefore(c,i))}(document,"script","facebook-jssdk")}},{key:"render",value:function(){var e=this.props.render;if(!e)throw new Error("ReactFacebookLogin requires a render prop to render");var t={onClick:this.click,isDisabled:!!this.props.isDisabled,isProcessing:this.state.isProcessing,isSdkLoaded:this.state.isSdkLoaded};return this.props.render(t)}}]),a}(r.a.Component);Ft.defaultProps={redirectUri:"undefined"!==typeof window?window.location.href:"/",scope:"public_profile,email",returnScopes:!1,xfbml:!1,cookie:!1,authType:"",fields:"name",version:"3.1",language:"en_US",disableMobileRedirect:!1,isMobile:function(){var e=!1;try{e=!!(window.navigator&&window.navigator.standalone||navigator.userAgent.match("CriOS")||navigator.userAgent.match(/mobile/i))}catch(t){}return e}(),onFailure:null,state:"facebookdirect",responseType:"code"};var Dt=Ft,Wt=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"containerStyle",value:function(e){var t=e.isProcessing,a=e.isSdkLoaded,n=e.isDisabled,r={transition:"opacity 0.5s"};return(t||!a||n)&&(r.opacity=.6),Object.assign(r,this.props.containerStyle)}},{key:"renderOwnButton",value:function(e){var t,a=this.props,n=a.cssClass,i=a.size,c=a.icon,s=a.textButton,l=a.typeButton,o=a.buttonStyle,u=e.onClick,d="string"===typeof c,m={};return e.isDisabled&&(t=this.props.tag,["button","input","select","textarea","optgroup","option","fieldset"].indexOf((t+"").toLowerCase())>=0)&&(m.disabled=!0),r.a.createElement("span",{style:this.containerStyle(e)},d&&r.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"}),r.a.createElement(this.props.tag,Object.assign({type:l,className:"".concat(n," ").concat(i),style:o,onClick:u},m),c&&d&&r.a.createElement("i",{className:"fa ".concat(c)}),c&&!d&&c,s))}},{key:"render",value:function(){var e=this;return r.a.createElement(Dt,Object.assign({},this.props,{render:function(t){return e.renderOwnButton(t)}}))}}]),a}(r.a.Component);Wt.defaultProps={textButton:"Facebook",typeButton:"button",size:"metro",fields:"name",cssClass:"kep-login-facebook",tag:"button"};var Rt=Wt,Ut=Se((function(){var e=Object(ne.a)(),t=e.t,a=(e.i18n,Object(n.useContext)(xe)),i=Object(n.useContext)(de),c=Object(Et.g)(),s=Object(n.useState)(0),l=Object(d.a)(s,2),o=l[0],u=l[1],m=Object(n.useState)(""),p=Object(d.a)(m,2),v=p[0],y=p[1],b=Object(n.useState)(!1),f=Object(d.a)(b,2),h=f[0],g=f[1],E=Object(n.useState)(!1),_=Object(d.a)(E,2),w=_[0],O=_[1],N=Object(n.useState)(!1),k=Object(d.a)(N,2),x=k[0],C=k[1],S=Object(n.useState)(!1),T=Object(d.a)(S,2),j=T[0],L=T[1],M=Object(n.useState)(!1),B=Object(d.a)(M,2),I=B[0],P=B[1],F=Object(n.useState)(""),D=Object(d.a)(F,2),R=D[0],U=D[1],G=Object(n.useState)(!1),H=Object(d.a)(G,2),V=H[0],z=H[1],Y=Object(n.useState)(!1),q=Object(d.a)(Y,2),Z=q[0],J=q[1];Object(n.useEffect)((function(){i.state.isLoggedIn&&c.push("/profile");var e=window.ethereum;function t(){return(t=Object(le.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"===typeof e){t.next=11;break}return t.prev=1,t.next=4,e.enable();case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:window.web3=new be.a(e),t.next=12;break;case 11:"undefined"!==typeof window.web3&&(window.web3=new be.a(window.web3.currentProvider),window.web3.eth.defaultAccount=window.web3.eth.accounts[0]);case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var $=function(){var e=Object(le.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u((function(e){return e+1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(le.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(v)?$():(C(t("Signup.email.not.valid")),O(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e){C(!1),O(""!==v),y(e.target.value)},te=function(e){J(!1),z(""!==R),U(e.target.value)},ae=function(){g(!0),window.web3.eth.defaultAccount=window.web3.eth.accounts[0];var e,a,n=window.web3.eth.defaultAccount.toLowerCase();0==I&&0==j?function(e,t,a){return K({url:"/user/registration",method:"POST"},{email:e,username:t,public_address:a},null)}(v,R,n).then((function(e){if(g(!1),!0===e.data.result)$();else{var a=e.data.errors[0].code,n=e.data.errors[0].message;"public_address"==a?(ee(n,t("Signup.try.login")),u(0)):"email"==a?(u(2),O(!1),C(n)):"username"==a&&(u(3),z(!1),J(n))}})):(I&&(e=I,a="google"),j&&(e=j,a="facebook"),function(e,t,a,n){return K({url:"/user/registration/social",method:"POST"},{oauth:e,oauth_provider:t,username:a,public_address:n},null)}(e,a,R,n).then((function(e){if(g(!1),!0===e.data.result)$();else{var a=e.data.errors[0].code,n=e.data.errors[0].message;"public_address"==a?(ee(n,t("Signup.try.login")),u(0)):"token"==a||"oauth"==a?(u(2),O(!1),C(n)):"username"==a&&(u(3),z(!1),J(n))}})))},re=function(){a.actions.setupWeb3((function(){W("firstAfterSignup",!0),c.push("/profile")}))},ie=function(e){e.tokenId&&(P(e.tokenId),$())},ce=function(e){console.log("facebook",e),e.accessToken&&(L(e.accessToken),$())};return r.a.createElement("div",{className:"Signup"},function(e){var a="undefined"!==typeof window.web3,n=!1,i=!1;switch(a&&(n=window.web3.eth.accounts.length>0,i=parseInt(window.ethereum.chainId,16)===A.web3network),e){case-1:return r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box"},r.a.createElement("h1",null,t("Signup.connect.with")),r.a.createElement("div",{className:"Social__section"},r.a.createElement(At.GoogleLogin,{clientId:"842312482762-n12g86otvipvmrbgscnur48m9aq8kf9l.apps.googleusercontent.com",className:"google-button",buttonText:"Google Account",onSuccess:ie,onFailure:ie,cookiePolicy:"single_host_origin"}),r.a.createElement("br",null),r.a.createElement(Rt,{appId:"278283846412876",callback:ce,icon:"fa-facebook"}))));case 0:return r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box"},r.a.createElement("svg",{width:"234px",height:"260px",viewBox:"0 0 234 260",version:"1.1",className:"Logo",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r.a.createElement("title",null,t("Signup.group.label")),r.a.createElement("desc",null,t("Signup.sketch.desc")),r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"25.3511512%",y1:"49.9738242%",x2:"107.245785%",y2:"49.9738242%",id:"linearGradient-1"},r.a.createElement("stop",{stopColor:"#6B32C1",offset:"0%"}),r.a.createElement("stop",{stopColor:"#C81D5E",offset:"99.6%"})),r.a.createElement("linearGradient",{x1:"0%",y1:"49.997576%",x2:"100.032735%",y2:"49.997576%",id:"linearGradient-2"},r.a.createElement("stop",{stopColor:"#EC663C",offset:"0%"}),r.a.createElement("stop",{stopColor:"#F9B426",offset:"100%"})),r.a.createElement("linearGradient",{x1:"52.9498211%",y1:"9.77958549%",x2:"46.413551%",y2:"97.6215544%",id:"linearGradient-3"},r.a.createElement("stop",{stopColor:"#0081DD",offset:"0%"}),r.a.createElement("stop",{stopColor:"#0589E0",offset:"18.55%"}),r.a.createElement("stop",{stopColor:"#11A0E9",offset:"47.85%"}),r.a.createElement("stop",{stopColor:"#25C5F8",offset:"84.03%"}),r.a.createElement("stop",{stopColor:"#2FD7FF",offset:"99.72%"})),r.a.createElement("linearGradient",{x1:"50.0693857%",y1:"83.9637181%",x2:"50.0693857%",y2:"-0.0504747626%",id:"linearGradient-4"},r.a.createElement("stop",{stopColor:"#4E4D4C",offset:"0%"}),r.a.createElement("stop",{stopColor:"#5A5858",offset:"12.43%"}),r.a.createElement("stop",{stopColor:"#747273",offset:"46.61%"}),r.a.createElement("stop",{stopColor:"#848183",offset:"76.91%"}),r.a.createElement("stop",{stopColor:"#8A8789",offset:"100%"})),r.a.createElement("radialGradient",{cx:"35.4086957%",cy:"34.4852355%",fx:"35.4086957%",fy:"34.4852355%",r:"66.2842391%",id:"radialGradient-5"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FDFDFC",stopOpacity:"0.8589",offset:"35.27%"}),r.a.createElement("stop",{stopColor:"#F6F6F2",stopOpacity:"0.7424",offset:"64.4%"}),r.a.createElement("stop",{stopColor:"#EAEBE0",stopOpacity:"0.635",offset:"91.26%"}),r.a.createElement("stop",{stopColor:"#E5E6D9",stopOpacity:"0.6",offset:"100%"})),r.a.createElement("linearGradient",{x1:"21.2472955%",y1:"18.1560041%",x2:"81.1871703%",y2:"81.6403727%",id:"linearGradient-6"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0.5",offset:"99.99%"})),r.a.createElement("linearGradient",{x1:"37.2050099%",y1:"17.2946945%",x2:"63.1259484%",y2:"89.469351%",id:"linearGradient-7"},r.a.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0.3",offset:"99.99%"}))),r.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"logo_ovr"},r.a.createElement("g",{id:"Group"},r.a.createElement("path",{d:"M228.9,48.9 C226,44.9 222,41.6 217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 L117,96.6 L117,163.6 L228.9,210.5 C232.2,205.9 234,200.4 234,194.5 L234,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z",id:"h_viola_1_",fill:"url(".concat(window.location,"#linearGradient-1")}),r.a.createElement("path",{d:"M106.5,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 C1.9,53.5 0,59.1 0,64.9 L0,194.4 C0,200.3 1.9,205.8 5.1,210.4 L117,163.5 L117,96.5 L117,0 C113.4,0 109.8,0.7 106.5,2.1 Z",id:"h_org_1_",fill:"url(".concat(window.location,"#linearGradient-2")}),r.a.createElement("path",{d:"M117,163.5 L5.1,210.4 C8,214.4 11.9,217.6 16.6,219.6 L88.7,250.3 L106.2,257.8 C109.6,259.3 113.3,260 116.9,260 C120.6,260 124.2,259.3 127.6,257.8 L139.8,252.6 L217.2,219.6 C221.9,217.6 225.9,214.4 228.7,210.4 L117,163.5 Z",id:"h_blu_1_",fill:"url(".concat(window.location,"#linearGradient-3")}),r.a.createElement("path",{d:"M198.7,67.6 C196.6,64.5 193.7,62 190.2,60.5 L164.7,49.2 L124.8,31.6 C122.3,30.5 119.7,30 117.1,30 C114.5,30 111.8,30.5 109.4,31.6 L46.1,59.5 L43.9,60.5 C40.4,62 37.5,64.5 35.4,67.6 C33,71.1 31.6,75.4 31.6,79.9 L31.6,179.6 C31.6,184.1 33,188.4 35.3,191.9 C37.4,195 40.3,197.5 43.7,199 L96.3,222.6 L109.1,228.4 C111.6,229.5 114.3,230.1 116.9,230.1 C119.5,230.1 122.2,229.5 124.7,228.4 L133.6,224.4 L190.1,199 C193.5,197.5 196.4,195 198.5,191.9 C200.9,188.4 202.2,184.1 202.2,179.6 L202.2,79.9 C202.5,75.4 201.1,71.1 198.7,67.6 Z",id:"h_hex-trasp_1_",fill:"url(".concat(window.location,"#linearGradient-4"),opacity:"0.45",style:{mixBlendMode:"color-burn"}}),r.a.createElement("circle",{id:"h_sphere_1_",fill:"url(".concat(window.location,"#radialGradient-5)"),cx:"117",cy:"129.6",r:"55.2"}),r.a.createElement("path",{d:"M217.3,39.7 L182.3,25 L127.6,2.1 C124.2,0.7 120.6,0 117,0 C113.4,0 109.8,0.7 106.4,2.1 L19.8,38.4 L16.8,39.7 C12,41.7 8.1,44.9 5.2,48.9 L117,96.6 L228.9,49 C226,44.9 222,41.7 217.3,39.7 Z",id:"h_top_1_",fill:"url(".concat(window.location,"#linearGradient-6"),opacity:"0.76",style:{mixBlendMode:"soft-light"}}),r.a.createElement("path",{d:"M228.9,48.9 L117,96.6 L117,163.6 L117,260 C120.7,260 124.3,259.3 127.7,257.8 L139.9,252.6 L217.3,219.6 C222,217.6 226,214.4 228.8,210.4 C232.1,205.8 233.9,200.3 233.9,194.4 L233.9,64.9 C234.1,59.1 232.2,53.5 228.9,48.9 Z",id:"h_left_1_",fill:"url(".concat(window.location,"#linearGradient-7"),style:{mixBlendMode:"soft-light"}}))))),r.a.createElement("h2",null,t("Signup.join.ovr")),r.a.createElement("div",{className:"Signup__section"},t("Signup.ovr.intro"),r.a.createElement("div",{className:"p-tiny-message"},t("Signup.access.info"))),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Te,{url:"#",text:t("Signup.get.started"),className:"--purple",onClick:$}))));case 1:return r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box"},r.a.createElement("h1",null,t("Signup.first.things")),r.a.createElement("div",{className:"Signup__section --left"},a?r.a.createElement("div",{className:"o-list"},r.a.createElement(jt.a,{className:"CheckCircleSharpIcon"})," ",t("Signup.web3.install")):r.a.createElement("div",{className:"o-list"},r.a.createElement(St.a,{className:"CancelIcon"})," ",t("Signup.web3.install")),n?r.a.createElement("div",{className:"o-list"},r.a.createElement(jt.a,{className:"CheckCircleSharpIcon"})," ",t("Signup.web3.login")):r.a.createElement("div",{className:"o-list"},r.a.createElement(St.a,{className:"CancelIcon"})," ",t("Signup.web3.login")),i?r.a.createElement("div",{className:"o-list"},r.a.createElement(jt.a,{className:"CheckCircleSharpIcon"})," ",t("Signup.connect.to")," ","3"===A.web3network?"Ropsten":"Mainnet"," ",t("Signup.network")):r.a.createElement("div",{className:"o-list"},r.a.createElement(St.a,{className:"CancelIcon"})," ",t("Signup.connect.to")," ","3"===A.web3network?"Ropsten":"Mainnet"," ",t("Signup.network"))),a&&i&&n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Signup__section Signup__msg --positive"},t("Signup.web3.present")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Te,{url:"#",text:t("Signup.continue"),className:"--purple",onClick:$}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Signup__section Signup__msg --negative"},t("Signup.web3.not.present")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Te,{url:"https://metamask.io",text:"Install MetaMask",target:"_blank",className:"--purple"})))));case 2:return r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box "},r.a.createElement("h1",null,t("Signup.create.account")),r.a.createElement("div",{className:"Social__section Social__subtitle"},t("Signup.use.social")),r.a.createElement("div",{className:"Social__section Social__buttons"},r.a.createElement(At.GoogleLogin,{clientId:"842312482762-n12g86otvipvmrbgscnur48m9aq8kf9l.apps.googleusercontent.com",buttonText:"Google",onSuccess:ie,onFailure:ie,cookiePolicy:"single_host_origin"}),r.a.createElement(Rt,{appId:"278283846412876",callback:ce,icon:"fa-facebook"})),r.a.createElement("div",{className:"Social__section Social__or"},"or"),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(je.a,{id:"quantity",label:"Email address",type:"email",className:"Signup__email_textfield",error:!1!==x,helperText:!1!==x?x:"",value:v,onFocus:X,onChange:X,onKeyUp:X})),r.a.createElement("div",{className:"Signup__section --small"},t("Signup.info.stored")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Te,{url:"#",text:"Continue",className:"--purple ".concat(w?"":"--disabled"),onClick:Q}),h&&r.a.createElement(st.a,null))));case 3:return r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box --left"},r.a.createElement("h1",null,t("Signup.set.username")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(je.a,{id:"quantity",label:"Username",type:"text",className:"Signup__userpass_textfield",error:!1!==Z,helperText:!1!==Z?Z:"",value:R,onFocus:te,onChange:te,onKeyUp:te})),r.a.createElement("div",{className:"Signup__section --small"},t("Signup.info.stored")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Te,{url:"#",text:"Signup",className:"--purple ".concat(h||V?"":"--disabled"),onClick:ae}),h&&r.a.createElement(st.a,null))));case 4:return r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"o-box"},r.a.createElement("h1",null,t("Signup.completed")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Bt.a,{className:"CheckCircleIcon"})),r.a.createElement("div",{className:"Signup__section"},t("Signup.success")),r.a.createElement("div",{className:"Signup__section --small"},t("Signup.info.stored")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Te,{url:"#",text:"Log me in",className:"--purple",onClick:re}))));default:return"Unknown step"}}(o))})),Gt=a(426),Ht=(pe(Se((function(e){var t=Object(ne.a)(),a=t.t,i=(t.i18n,e.web3Provider.state),c=i.perEth,s=i.perUsd,l=i.setupComplete,o=e.web3Provider.actions,u=o.getPrices,m=o.buy,p=e.userProvider.state.user,v=Object(n.useState)(100),y=Object(d.a)(v,2),b=y[0],f=y[1],h=Object(n.useState)(10),g=Object(d.a)(h,2),E=g[0],_=g[1],w=Object(n.useState)(0),O=Object(d.a)(w,2),N=O[0],k=O[1];Object(n.useEffect)((function(){l&&u()}),[l]);var x=function(){if("DEVELOPMENT"!=A.environment&&p.kycReviewAnswer<1)return ee(a("Danger.require.verification.title"),a("Danger.require.verification.desc"));if(b<=0)return X(a("Warning.amount.empty.title"),a("Warning.amount.empty.desc"));var e="https://indacoin.com/gw/payment_form?partner=".concat("ovrproduction","&cur_from=USD&cur_to=USD&amount=").concat(E,"&address=").concat(window.web3.eth.accounts[0],"&user_id=").concat(p.uuid);window.location=e},C=function(e){1==e?(_(1),f(10*c)):(_(10),f(100)),k(e)};return r.a.createElement("div",{className:"activity v-buy-tokens"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"p-header"},r.a.createElement("h2",{className:"p-header-title"},a("BuyTokens.buy.tokens")),r.a.createElement("span",{className:"p-header-datetime"},at().format("HH:mm, dddd, MMM D, YYYY"))),r.a.createElement("div",{className:"sub-title--black"},r.a.createElement("p",null,a("BuyTokens.use.ovr.insted")," "," ",r.a.createElement(L.b,{to:"#"},a("BuyTokens.read.more")),".",r.a.createElement("br",null)),r.a.createElement("p",null,r.a.createElement(re.a,{i18nKey:"BuyTokens.kyc.required"},"To buy OVR token it is required that you pass our KYC. Go to your ",r.a.createElement(L.b,{to:"/profile"},"profile")," and start the Identity Verification process."),r.a.createElement("br",null))),r.a.createElement("div",{className:"sub-title--black"},r.a.createElement("h3",null,a("BuyTokens.purchase.with"))),r.a.createElement("div",{className:"c-currency-selector_cont"},r.a.createElement("div",{className:"c-currency-selector ".concat(0==N?"--selected":" "),onClick:function(){return C(0)}},a("BuyTokens.credit.card")),r.a.createElement("div",{className:"c-currency-selector ".concat(1==N?"--selected":" "),onClick:function(){return C(1)}},a("Currency.eth.label")),r.a.createElement("div",{className:"c-currency-selector ".concat(2==N?"--selected":" "),onClick:function(){return C(2)}},a("Currency.dai.label")),r.a.createElement("div",{className:"c-currency-selector ".concat(3==N?"--selected":" "),onClick:function(){return C(3)}},a("Currency.usdt.label")),r.a.createElement("div",{className:"c-currency-selector ".concat(4==N?"--selected":" "),onClick:function(){return C(4)}},a("Currency.usdc.label")))),r.a.createElement("div",{className:"o-container"},function(){switch(N){case 0:return r.a.createElement("div",{className:"c-active-currency__cont"},r.a.createElement("div",null,r.a.createElement(je.a,{id:"outlined-start-adornment",className:"c-currency-input",label:"Buy",type:"number",value:E,InputProps:{startAdornment:r.a.createElement(Gt.a,{position:"start"},a("Currency.usd.label"))},onChange:function(e){_(e.target.value),f((e.target.value*s).toFixed(0))},variant:"outlined"}),r.a.createElement("div",{className:"c-active-currency__swap"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.87 44.24"},r.a.createElement("g",{"data-name":"Livello 2"},r.a.createElement("g",{fill:"#c3c4c3","data-name":"Livello 1"},r.a.createElement("path",{d:"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z"}))))),r.a.createElement(je.a,{label:"Get",id:"outlined-start-adornment",className:"c-currency-input",value:b,type:"number",InputProps:{startAdornment:r.a.createElement(Gt.a,{position:"start"},a("Currency.ovr.label"))},onChange:function(e){_((e.target.value/s).toFixed(2)),f(e.target.value)},variant:"outlined"})),r.a.createElement("div",{className:"c-active-currency__rate"},r.a.createElement(re.a,{i18nKey:"BuyTokens.exchange.rate.usd",perUsd:s},"Exchange rate: 1 USD = ",{perUsd:s}," OVR")),r.a.createElement("div",{className:"c-active-currency__buttons"},r.a.createElement(Te,{url:"#",text:a("BuyTokens.buy.ovr"),className:"--orange",onClick:x}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--orange-light",onClick:function(){_(0),f(0)}})));case 1:return r.a.createElement("div",{className:"c-active-currency__cont"},r.a.createElement("div",null,r.a.createElement(je.a,{id:"outlined-start-adornment",className:"c-currency-input",label:"Buy",type:"number",value:E,InputProps:{startAdornment:r.a.createElement(Gt.a,{position:"start"},a("Currency.eth.label"))},onChange:function(e){_(e.target.value),f((e.target.value*c*10).toFixed(0))},variant:"outlined"}),r.a.createElement("div",{className:"c-active-currency__swap"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.87 44.24"},r.a.createElement("g",{"data-name":"Livello 2"},r.a.createElement("g",{fill:"#c3c4c3","data-name":"Livello 1"},r.a.createElement("path",{d:"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z"}))))),r.a.createElement(je.a,{label:"Get",id:"outlined-start-adornment",className:"c-currency-input",value:b,type:"number",InputProps:{startAdornment:r.a.createElement(Gt.a,{position:"start"},a("Currency.ovr.label"))},onChange:function(e){_((e.target.value/c).toFixed(2)),f(e.target.value)},variant:"outlined"})),r.a.createElement("div",{className:"c-active-currency__rate"},r.a.createElement(re.a,{i18nKey:"BuyTokens.exchange.rate.eth",perEth:10*c},"Exchange rate: 1 ETH = ",{perEth:c}," OVR")),r.a.createElement("div",{className:"c-active-currency__buttons"},r.a.createElement(Te,{url:"#",text:a("BuyTokens.buy.ovr"),className:"--orange",onClick:function(){return m(b,"eth")}}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--orange-light",onClick:function(){_(0),f(0)}})));case 2:return r.a.createElement("div",{className:"c-active-currency__cont"},r.a.createElement("div",null,r.a.createElement(je.a,{id:"outlined-start-adornment",className:"c-currency-input",label:"Buy",type:"number",value:E,InputProps:{startAdornment:r.a.createElement(Gt.a,{position:"start"},a("Currency.dai.label"))},onChange:function(e){_(e.target.value),f((e.target.value*s).toFixed(0))},variant:"outlined"}),r.a.createElement("div",{className:"c-active-currency__swap"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.87 44.24"},r.a.createElement("g",{"data-name":"Livello 2"},r.a.createElement("g",{fill:"#c3c4c3","data-name":"Livello 1"},r.a.createElement("path",{d:"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z"}))))),r.a.createElement(je.a,{label:"Get",id:"outlined-start-adornment",className:"c-currency-input",value:b,type:"number",InputProps:{startAdornment:r.a.createElement(Gt.a,{position:"start"},a("Currency.ovr.label"))},onChange:function(e){_((e.target.value/s).toFixed(2)),f(e.target.value)},variant:"outlined"})),r.a.createElement("div",{className:"c-active-currency__rate"},r.a.createElement(re.a,{i18nKey:"BuyTokens.exchange.rate.dai",perUsd:s},"Exchange rate: 1 DAI = ",{perUsd:s}," OVR")),r.a.createElement("div",{className:"c-active-currency__buttons"},r.a.createElement(Te,{url:"#",text:a("BuyTokens.buy.ovr"),className:"--orange",onClick:function(){return m(b,"dai")}}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--orange-light",onClick:function(){_(0),f(0)}})));case 3:return r.a.createElement("div",{className:"c-active-currency__cont"},r.a.createElement("div",null,r.a.createElement(je.a,{id:"outlined-start-adornment",className:"c-currency-input",label:"Buy",type:"number",value:E,InputProps:{startAdornment:r.a.createElement(Gt.a,{position:"start"},a("Currency.usdt.label"))},onChange:function(e){_(e.target.value),f((e.target.value*s).toFixed(0))},variant:"outlined"}),r.a.createElement("div",{className:"c-active-currency__swap"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.87 44.24"},r.a.createElement("g",{"data-name":"Livello 2"},r.a.createElement("g",{fill:"#c3c4c3","data-name":"Livello 1"},r.a.createElement("path",{d:"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z"}))))),r.a.createElement(je.a,{label:"Get",id:"outlined-start-adornment",className:"c-currency-input",value:b,type:"number",InputProps:{startAdornment:r.a.createElement(Gt.a,{position:"start"},a("Currency.ovr.label"))},onChange:function(e){_((e.target.value/s).toFixed(2)),f(e.target.value)},variant:"outlined"})),r.a.createElement("div",{className:"c-active-currency__rate"},r.a.createElement(re.a,{i18nKey:"BuyTokens.exchange.rate.usdt",perUsd:s},"Exchange rate: 1 USDT = ",{perUsd:s}," OVR")),r.a.createElement("div",{className:"c-active-currency__buttons"},r.a.createElement(Te,{url:"#",text:a("BuyTokens.buy.ovr"),className:"--orange",onClick:function(){return m(b,"usdt")}}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--orange-light",onClick:function(){_(0),f(0)}})));case 4:return r.a.createElement("div",{className:"c-active-currency__cont"},r.a.createElement("div",null,r.a.createElement(je.a,{id:"outlined-start-adornment",className:"c-currency-input",label:"Buy",type:"number",value:E,InputProps:{startAdornment:r.a.createElement(Gt.a,{position:"start"},a("Currency.usdc.label"))},onChange:function(e){_(e.target.value),f((e.target.value*s).toFixed(0))},variant:"outlined"}),r.a.createElement("div",{className:"c-active-currency__swap"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36.87 44.24"},r.a.createElement("g",{"data-name":"Livello 2"},r.a.createElement("g",{fill:"#c3c4c3","data-name":"Livello 1"},r.a.createElement("path",{d:"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z"}))))),r.a.createElement(je.a,{label:"Get",id:"outlined-start-adornment",className:"c-currency-input",value:b,type:"number",InputProps:{startAdornment:r.a.createElement(Gt.a,{position:"start"},a("Currency.ovr.label"))},onChange:function(e){_((e.target.value/s).toFixed(2)),f(e.target.value)},variant:"outlined"})),r.a.createElement("div",{className:"c-active-currency__rate"},r.a.createElement(re.a,{i18nKey:"BuyTokens.exchange.rate.usdc",perUsd:s},"Exchange rate: 1 USDC = ",{perUsd:s}," OVR")),r.a.createElement("div",{className:"c-active-currency__buttons"},r.a.createElement(Te,{url:"#",text:a("BuyTokens.buy.ovr"),className:"--orange",onClick:function(){return m(b,"usdc")}}),r.a.createElement(Te,{url:"#",text:a("Generic.cancel.label"),className:"--orange-light",onClick:function(){_(0),f(0)}})));default:return"na"}}()))}))),pe((function(){var e=Object(ne.a)(),t=e.t,a=(e.i18n,Object(n.useState)(0)),i=Object(d.a)(a,2),c=i[0],s=i[1],l=Object(n.useState)(0),o=Object(d.a)(l,2),u=o[0],m=o[1],p=Object(n.useState)(window.location.search.split("transaction_id=")[1]),v=Object(d.a)(p,1)[0],y=Object(Et.g)();function b(){y.push("map/discover")}Object(n.useEffect)((function(){f()}),[]);var f=function(){var e=Object(le.a)(se.a.mark((function e(){var t,a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(A.apis.indacoinHelperApi,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({transactionId:v})});case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent).ok?s(1):(s(2),m(a.msg)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s(2),m(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"activity v-buy-tokens"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"p-header"},r.a.createElement("h2",{className:"p-header-title"},t("IndacoinResponse.buy.tokens")),r.a.createElement("span",{className:"p-header-datetime"},at().format("HH:mm, dddd, MMM D, YYYY"))),0==c?r.a.createElement("div",null,r.a.createElement("div",{className:"o-centered-box"},r.a.createElement("h2",null,t("IndacoinResponse.trans.token")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(st.a,null)),r.a.createElement("div",{className:"Signup__section"},t("IndacoinResponse.no.leave")," ",r.a.createElement("br",null)))):1==c?r.a.createElement("div",null,r.a.createElement("div",{className:"o-centered-box"},r.a.createElement("h2",null,t("Generic.congrats.label")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Bt.a,{className:"CheckCircleIcon"})),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(re.a,{i18nKey:"IndacoinResponse.success.bought"},"You've succesfully bought some OVR.",r.a.createElement("br",null),"Now you can go to the marketplace and partecipate.")),r.a.createElement("div",{className:"Signup__section --small"}),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Te,{url:"#",text:t("IndacoinResponse.to.mrktplace"),className:"--purple",onClick:b})))):2==c?r.a.createElement("div",null,r.a.createElement("div",{className:"o-centered-box"},r.a.createElement("h2",null,t("IndacoinResponse.something.wrong")),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(St.a,{className:"CancelIcon"})),r.a.createElement("div",{className:"Signup__section"},t("IndacoinResponse.contact.assistance")," ",r.a.createElement("br",null),r.a.createElement(L.b,{to:"mailto:help@ovr.ai"},"help@ovr.ai"),"."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"Signup__section"},t("IndacoinResponse.error.label"),": ",u),void 0!=v&&r.a.createElement("div",{className:"Signup__section --small"},t("IndacoinResponse.transaction.id"),": ",v),r.a.createElement("div",{className:"Signup__section"},r.a.createElement(Te,{url:"#",text:t("IndacoinResponse.assistance.label"),className:"--purple",onClick:function(){window.location="mailto:help@ovr.ai"}})))):void 0))})),function(e){var t,a=Object(ne.a)(),n=a.t,i=(a.i18n,Object(Et.g)()),c=r.a.useState(null),s=Object(d.a)(c,2),l=s[0],o=s[1],u=r.a.useState(0!==e.data.status),m=Object(d.a)(u,2),p=m[0],v=m[1],y=r.a.useState(!1),b=Object(d.a)(y,2),f=b[0],h=b[1],g=Boolean(l),E=function(e){o(e.currentTarget)},_=function(){o(null)},w=function(){o(null),i.push("/map/land/"+e.data.hexId),e.actions.toggleNotificationCenter()},O=function(){o(null),h(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return K({url:"/notification/hide",method:"POST"},{notification_uuid:e},null)}(e.data.uuid).then((function(){}))},N=function(){v(!0),p||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return K({url:"/notification/read",method:"POST"},{notification_uuid:e},null)}(e.data.uuid).then((function(t){e.actions.setAsReaded(e.data.uuid)}))};return r.a.createElement(r.a.Fragment,null,f?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{key:e.data.uuid,className:"Notification ".concat(p?"":"--new"),onClick:N},r.a.createElement("div",{className:"Notification__body"},r.a.createElement("div",{className:"Notification__content",dangerouslySetInnerHTML:{__html:(t=e.data.content,t.replace(e.data.landSentence,"<span>"+e.data.landSentence+"</span>"))}}),r.a.createElement("div",{className:"Notification__time"},r.a.createElement(j,{date_end:e.data.createdAt}))),r.a.createElement(yt.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:E},r.a.createElement(ht.a,null)),r.a.createElement(bt.a,{id:"fade-menu",anchorEl:l,keepMounted:!0,open:g,onClose:_,TransitionComponent:gt.a},r.a.createElement(Re.a,{onClick:w},n("Notification.go.to.land")),r.a.createElement(Re.a,{onClick:O},n("Notification.hide.label")))))}),Vt=function(){var e=Object(ne.a)(),t=e.t,a=(e.i18n,Object(n.useContext)(de)),i=a.state,c=a.actions,s=Object(n.useRef)(null);Object(n.useEffect)((function(){}),[i.user.notifications]);var l;return r.a.createElement("div",{ref:s,className:"NotificationCenter"},(l=s,void Object(n.useEffect)((function(){function e(e){!l.current||l.current.contains(e.target)||document.getElementById("js-open-notification-link").contains(e.target)||e.target.classList.contains("MuiMenuItem-root")||c.closeNotificationCenter()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[l])),r.a.createElement("div",{className:"NotificationCenter__header"},r.a.createElement("div",{className:"NotificationCenter__title"},"Notifications"),r.a.createElement("div",{className:"NotificationCenter__toggle"})),r.a.createElement("div",{className:"NotificationCenter__body"},null!==i.user.notifications&&i.user.notifications.content&&i.user.notifications.content.length>0?i.user.notifications.content.map((function(e){return r.a.createElement(Ht,{key:e.uuid,data:e,actions:{toggleNotificationCenter:c.toggleShowNotificationCenter,setAsReaded:c.notification.setAsReaded}})})):r.a.createElement("div",{className:"c-dialog --centered"},r.a.createElement("div",{className:"c-dialog-sub-title"},r.a.createElement(re.a,{i18nKey:"NotificationCenter.no.notifications"},"There is currently ",r.a.createElement("br",null),"no notifications to display.")))),r.a.createElement("div",{className:"NotificationCenter__footer"},r.a.createElement(L.b,{to:"#",onClick:function(){K({url:"/notifications/read",method:"POST"},{},null).then((function(){c.notification.setAllAsReaded(),c.closeNotificationCenter()}))}},t("NotificationCenter.mark.all"))))},zt=pe((function(){return Object(n.useContext)(de).state.showNotificationCenter?r.a.createElement(Vt,null):null})),Yt=a(202),qt=a.n(Yt),Zt=pe(Se((function(){var e=Object(ne.a)(),t=e.t,i=e.i18n,c=Object(n.useContext)(de),s=c.state,l=c.actions,o=Object(n.useContext)(xe),u=o.state,m=o.actions,p=r.a.useState(0),v=Object(d.a)(p,2),y=v[0],b=v[1],f=r.a.useState(!1),h=Object(d.a)(f,2),g=h[0],E=h[1],_=r.a.useRef(null),w=r.a.useState(!1),O=Object(d.a)(w,2),N=O[0],k=O[1],x=r.a.useRef(g),S=r.a.useRef(y),T=function(e){i.changeLanguage(e)},j=Object(Et.g)(),M=function(){E((function(e){return!e}))},B=function(e){j.push(e)},A=function(e){_.current&&_.current.contains(e.target)||E(!1)},I=function(e){e&&_.current&&_.current.contains(e.target)||b(!1)},P=function(){k(!0),m.setupWeb3((function(e){0==e?j.push("/login-helper"):j.push("/profile"),k(!1)}))};function F(e){e.preventDefault(),l.toggleShowNotificationCenter(!0)}return r.a.useEffect((function(){s.isLoggedIn&&(!0===x.current&&!1===g&&_.current.focus(),x.current=g)}),[g]),r.a.useEffect((function(){}),[s]),r.a.createElement("div",{className:"NavBar"},r.a.createElement(L.b,{to:"/",className:"Logo__link"},r.a.createElement("div",{className:"Icon NavBar__logo"},r.a.createElement("img",{src:a(185)}))),r.a.createElement("div",{className:"Navbar__link_container"},(r.a.Fragment,r.a.createElement("div",{className:"Navbar__left_container"},r.a.createElement(L.b,{to:"#",className:"NavBar__link Language__link",ref:S,"aria-controls":y?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(e){I(e),b((function(e){return!e}))}},r.a.createElement(qt.a,{className:"Translate",shapeRendering:"auto"})),r.a.createElement(Ve.a,{open:y,anchorEl:S.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,a=e.placement;return r.a.createElement(Ge.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement(He.a,null,r.a.createElement(Ue.a,{onClickAway:I},r.a.createElement(ze.a,{autoFocusItem:y,id:"menu-lang-list-grow",className:"navbar-lang-submenu"},r.a.createElement(Re.a,{onClick:function(e){T("en"),I()}},"English"),r.a.createElement(Re.a,{onClick:function(e){T("zh"),I()}},"\u4e2d\u6587")))))})))),function(){var e=r.a.createElement("div",null);return!0===s.isLoggedIn&&null!==s.user&&(e=r.a.createElement(r.a.Fragment,null,r.a.createElement(L.c,{className:"NavBar__link",to:"/profile"},t("Navbar.profile.label")),r.a.createElement(L.c,{className:"NavBar__link",to:"/map/overview"},"My Assets"),r.a.createElement(L.c,{className:"NavBar__link",to:"/map/discover"},"Marketplace"))),e}(),!0===s.isLoggedIn&&null!==s.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Navbar__right_container"},r.a.createElement(L.b,{to:"/",id:"js-open-notification-link",className:"Notifications__link",onClick:F},r.a.createElement("div",{className:"Notifications__icon"},r.a.createElement("svg",{width:"18px",height:"20px",viewBox:"0 0 18 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"icons/icon_notification"),r.a.createElement("desc",null,"Created with Sketch."),r.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"header",transform:"translate(-1243.000000, -25.000000)"},r.a.createElement("g",{id:"icons/icon_notification",transform:"translate(1242.000000, 25.000000)"},r.a.createElement("rect",{id:"frame",x:"0",y:"0",width:"20",height:"20"}),r.a.createElement("path",{d:"M15.2321227,8.31973225 C12.6665198,2.77582053 11.3339364,0.670834332 7.14155795,0.75810667 C5.64837822,0.788892058 6.00782137,-0.327572512 4.86958472,0.0960796141 C3.73134807,0.51973174 4.70814468,1.13967602 3.54347011,2.098542 C0.278387518,4.79042761 0.57932975,7.2806548 2.09444733,13.2148914 C2.73261361,15.7150038 0.556266888,15.8375804 1.41746793,18.2603057 C2.04607157,20.0275 6.68001944,20.7669142 11.5713151,18.9443627 C16.4614858,17.1226586 19.5474093,13.506364 18.9190869,11.7400171 C18.0576046,9.31616205 16.3141084,10.6543379 15.2321227,8.31973225 Z M11.039463,17.4514126 C6.67242557,19.0788016 3.08305662,18.1221951 2.93146049,17.696566 C2.67017513,16.9628005 4.34110766,14.5146561 9.33449868,12.6545408 C14.3278897,10.7944255 17.113996,11.4838488 17.4050944,12.3037568 C17.5775033,12.7870027 15.4079067,15.824306 11.039463,17.4514126 Z M9.63656593,13.5041045 C7.35362378,14.354798 5.76594257,15.3277857 4.73992643,16.2036159 C5.46162528,16.8633835 6.81642784,17.0246537 8.16644907,16.521355 C9.88491359,15.8816403 10.9396177,14.4121323 10.5219549,13.2391807 C10.517736,13.225059 10.5098609,13.2129143 10.5045171,13.1985101 C10.2232627,13.2922785 9.93441437,13.3925428 9.63656593,13.5041045 Z",id:"Fill-1",fill:"#2B3034",fillRule:"evenodd",opacity:"0.400000006",transform:"translate(10.000000, 10.000000) scale(-1, 1) translate(-10.000000, -10.000000) "})))))),r.a.createElement("div",{className:"Notifications__counter"},s.user&&s.user.notifications&&s.user.notifications.unreadedCount?s.user.notifications.unreadedCount:0)),r.a.createElement("div",{className:"Funds__container"},r.a.createElement(C,{value:u.ovrsOwned})),r.a.createElement(L.b,{ref:_,"aria-controls":g?"menu-list-grow":void 0,"aria-haspopup":"true",to:"#",className:"Profile__link",onClick:M},r.a.createElement("span",null,s.user&&s.user.reducedPublicAddress),r.a.createElement("div",{className:"Profile__img-cont"},r.a.createElement("div",{id:"Profile__img",className:"Profile__img",style:{backgroundImage:"url(../../assets/img/auction-map.png)"}},r.a.createElement(rt.a,{seed:s.user&&s.user.publicAddress||"loading",size:12,scale:3,color:"#7521c8",bgColor:"#EC663C",spotColor:"#F9B426"})))),r.a.createElement(Ve.a,{open:g,anchorEl:_.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,n=e.placement;return r.a.createElement(Ge.a,Object.assign({},a,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(He.a,null,r.a.createElement(Ue.a,{onClickAway:A},r.a.createElement(ze.a,{autoFocusItem:g,id:"menu-list-grow",className:"navbar-submenu"},r.a.createElement(Re.a,{onClick:function(e){A(e),B("/profile")}},t("Navbar.profile.label")),r.a.createElement(Re.a,{onClick:function(e){A(e),B("/activity")}},"Activity"),r.a.createElement(Re.a,{onClick:function(e){A(e),l.logoutUser()}},t("Navbar.Logout.label"))))))})),r.a.createElement(zt,null))):r.a.createElement("div",{className:"AuthLogin__link"},r.a.createElement("div",{className:"HexButton --orange ".concat(N?"--disabled":""),onClick:P},t("Navbar.wallet.connect")))))}))),Kt=a(203),Jt=a(107),$t=a.n(Jt),Qt=(a(353),a(204)),Xt=a(133),ea=a.n(Xt),ta=a(438),aa=a(205),na=a.n(aa),ra=function(e){var t=e.previousLinks,a=e.currentPageLabel,n=e.className,i=at().format("HH:mm, dddd, MMM D, YYYY");return r.a.createElement("div",{className:"breadcrumbs ".concat(n)},r.a.createElement(ta.a,{className:"breadcrumbs--items",separator:r.a.createElement(na.a,{fontSize:"small"}),"aria-label":"breadcrumb"},t.map((function(e,t){return r.a.createElement(L.b,{className:"breadcrumbs--prevlink",key:"prev_link_".concat(t),color:"inherit",to:e.href},e.label)})),r.a.createElement("span",{className:"breadcrumbs--currentlabel"},a)),r.a.createElement("span",{className:"breadcrumbs--datetime"},i))};ra.defaultProps={previousLinks:[],currentPageLabel:"undefined",className:""};var ia,ca=ra,sa=function(){var e=Object(n.useContext)(_).state,t=Object(Et.h)().pathname,a=e.hex_id,i=e.landData,c=t.split("/")[2];c=c.charAt(0).toUpperCase()+c.slice(1);var s=[],l=1===i.marketStatus,o=0!==i.userPerspective;"Land"===c&&(0===Object.keys(i).length&&i.constructor===Object?c="":(s.push({href:"".concat(o?"/map/overview":"/map/discover"),label:"".concat(o?"My ":"").concat(l?"Auctions":"Lands")}),c=i.name&&i.name.sentence||a));return r.a.createElement(ca,{currentPageLabel:c,previousLinks:s})},la=a(431),oa=a(432),ua=a(132),da=function(){function e(t,a){Object(p.a)(this,e),this.data=t||[],this.index=a||0}return Object(v.a)(e,[{key:"getCurrent",value:function(){return this.data[(this.index%this.data.length+this.data.length)%this.data.length]}},{key:"getNext",value:function(){var e=((this.index+1)%this.data.length+this.data.length)%this.data.length;return this.data[e]}},{key:"getPrevious",value:function(){var e=((this.index-1)%this.data.length+this.data.length)%this.data.length;return this.data[e]}},{key:"moveToNext",value:function(){var e=((this.index+1)%this.data.length+this.data.length)%this.data.length;this.index=e}},{key:"moveToPrevious",value:function(){var e=((this.index-1)%this.data.length+this.data.length)%this.data.length;this.index=e}}]),e}(),ma=function(){var e=Object(n.useContext)(_).state.auctionList,t=new da(e.map((function(e){return e.land})),0),a=Object(n.useState)(t.getCurrent()),i=Object(d.a)(a,2),c=i[0],s=i[1],l=Object(n.useState)(t.getPrevious()),o=Object(d.a)(l,2),u=o[0],m=o[1],p=Object(n.useState)(t.getNext()),v=Object(d.a)(p,2),y=v[0],b=v[1],f=Object(n.useState)(0),h=Object(d.a)(f,2),g=h[0],E=h[1];Object(n.useEffect)((function(){t.index=g,s(t.getCurrent()),m(t.getPrevious()),b(t.getNext())}));var w=c&&c.address.city?"".concat(c.address.city,", "):"";return e.length>0&&r.a.createElement("div",{className:"map-navigation-box"},u&&r.a.createElement(L.b,{to:"/map/land/".concat(u.uuid),onClick:function(){E(g-1)}},r.a.createElement(la.a,{fontSize:"large",style:{color:ua.a[800]}})),c&&r.a.createElement("div",{className:"map-navigation-box--current"},r.a.createElement("div",{className:"map-navigation-box--current--name"},c.sentenceId),r.a.createElement("div",{className:"map-navigation-box--current--location"},w,c.address.country)),y&&r.a.createElement(L.b,{to:"/map/land/".concat(y.uuid),onClick:function(){E(g+1)}},r.a.createElement(oa.a,{fontSize:"large",style:{color:ua.a[800]}})))},pa=O((function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),i=a[0],c=a[1],s=Object(n.useState)(!1),l=Object(d.a)(s,2),o=l[0],u=l[1],m=e.mapProvider.actions.changeMultipleLandSelectionList,p=e.mapProvider.state,v=p.onSingleView,y=p.onMultipleLandSelection,b=p.multipleLandSelectionList,f=p.auctionList,g=p.hex_id;function _(){ia.isStyleLoaded()?u(!0):setTimeout(_,200)}function w(e){var t=h.h3ToGeo(e);ia.flyTo({center:[t[1],t[0]],zoom:18,speed:1.8});var a=ea.a.h3ToFeature(e),n="".concat("h3-hexes_selected","-layer"),r=ia.getSource("h3-hexes_selected");r||(ia.addSource("h3-hexes_selected",{type:"geojson",data:a}),ia.addLayer({id:n,source:"h3-hexes_selected",type:"fill",interactive:!1,paint:{"fill-outline-color":"#4A90E2","fill-color":"rgba(74,144,226,0.20)","fill-opacity":1}}),r=ia.getSource("h3-hexes_selected")),r.setData(a),ia.setLayoutProperty(n,"visibility","visible")}return Object(n.useEffect)((function(){$t.a.accessToken="pk.eyJ1IjoibWFudG9uZWxsaSIsImEiOiJjam9hNmljdHkwY2Y0M3JuejJrenhmMWE1In0.dC9b8oqj24iiSfm-qbNqmw",ia=new $t.a.Map({container:"Map",center:[A.map.lng,A.map.lat],zoom:A.map.zoom,style:"mapbox://styles/mapbox/light-v9"}),_();var e=new Qt({accessToken:$t.a.accessToken,marker:!1});ia.addControl(e),ia.on("load",(function(){e.on("result",(function(e){ia.flyTo({center:[e.result.geometry.coordinates[0],e.result.geometry.coordinates[1]],zoom:18,speed:1.8})})),ia.addLayer({id:"mapbox-mapbox-satellite",source:{type:"raster",url:"mapbox://mapbox.satellite",tileSize:256},type:"raster"}),ia.setLayoutProperty("mapbox-mapbox-satellite","visibility","none");var t=document.getElementById("js-map-view");t&&t.addEventListener("click",(function(){"on"===t.className?(t.setAttribute("class","off"),ia.setLayoutProperty("mapbox-mapbox-satellite","visibility","none"),t.innerHTML="Satellite"):(t.setAttribute("class","on"),ia.setLayoutProperty("mapbox-mapbox-satellite","visibility","visible"),t.innerHTML="Streets")}))}));ia.on("moveend",(function(){ia.getZoom()>17&&function(e){var t=ea.a.h3SetToFeatureCollection(Object.keys(e),(function(t){return{value:e[t]}})),a="".concat("h3-hexes","-layer"),n=ia.getSource("h3-hexes");n||(ia.addSource("h3-hexes",{type:"geojson",data:t}),ia.addLayer({id:a,source:"h3-hexes",type:"fill",interactive:!1,paint:{"fill-outline-color":"rgba(255,255,255,1)"}}),n=ia.getSource("h3-hexes"));n.setData(t),ia.setPaintProperty(a,"fill-opacity",A.map.fillOpacity),ia.setPaintProperty(a,"fill-color",{property:"value",stops:[[0,A.map.colorScale[0]],[.5,A.map.colorScale[0]],[1,A.map.colorScale[0]]]})}(function(){var e=ia.getCenter(),t=h.geoToH3(e.lat,e.lng,12),a=h.kRing(t,20),n=Object.assign({},a);return Object.keys(n).reduce((function(e,t){return e[n[t]]=Math.random(),e}),{})}())}))}),[]),Object(n.useEffect)((function(){var t;return ia&&(t=function(t){var a=h.geoToH3(t.lngLat.lat,t.lngLat.lng,12);if(y){if(w(a),i==a){var n=b;n.includes(a)?(E.a.remove(n,(function(e){return e===a})),m(n)):(n.push(a),m(n))}c(a)}else{w(a),e.history.push("/map/land/".concat(a));var r=new CustomEvent("land-selected",{detail:{clicked_hex_id:a}});document.dispatchEvent(r)}},ia.on("click",t)),function(){ia&&ia.off("click",t)}}),[y,i,ia]),Object(n.useEffect)((function(){1==o&&(!function(){!1===v&&!1===y&&ia.flyTo({center:[A.map.lng,A.map.lat],zoom:A.map.zoom,speed:1.8});!0===v&&w(g);if(!0===y&&b.length>0){var e=ea.a.h3SetToFeatureCollection(b),t="".concat("h3-hexes_multi_selected","-layer"),a=ia.getSource("h3-hexes_multi_selected");a||(ia.addSource("h3-hexes_multi_selected",{type:"geojson",data:e}),ia.addLayer({id:t,source:"h3-hexes_multi_selected",type:"fill",interactive:!1,paint:{"fill-outline-color":"#ec663c","fill-color":"rgba(249,180,38,0.5)","fill-opacity":1}}),a=ia.getSource("h3-hexes_multi_selected")),a.setData(e),ia.setLayoutProperty(t,"visibility","visible")}f.length>0&&function(){ia.flyTo({center:[A.map.lng,A.map.lat],zoom:A.map.zoom,speed:1.8});var e=document.getElementsByClassName("Map__ping_container");for(;e[0];)e[0].parentNode.removeChild(e[0]);var t,a=Object(Kt.a)(f);try{for(a.s();!(t=a.n()).done;){var n=t.value,r=0;switch(n.status){case 0:r="--open";break;case 1:r="--outbidded";break;default:r="--open"}var i=document.createElement("div");i.className="Map__ping_container ".concat(r),i.insertAdjacentHTML("beforeend",'<div class="c-ping-layer c-ping-layer-1"></div>'),!n.land.address||isNaN(n.land.address.geocenter[1])||isNaN(n.land.address.geocenter[0])||new $t.a.Marker(i).setLngLat([n.land.address.geocenter[1],n.land.address.geocenter[0]]).addTo(ia)}}catch(c){a.e(c)}finally{a.f()}}()}(),1==y?ia.doubleClickZoom.disable():ia.doubleClickZoom.enable())}),[o,v,y,b]),r.a.createElement(r.a.Fragment,null,r.a.createElement(sa,null),r.a.createElement("div",{id:"Map",className:"Map"},r.a.createElement("div",{id:"js-map-view"},"Satellite"),r.a.createElement(ma,null)))})),va=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"Footer"},r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container"},r.a.createElement(L.b,{to:"/",className:"Logo__footer_link"},r.a.createElement("div",{className:"Footer__logo Icon"},r.a.createElement("img",{src:a(185)}))),r.a.createElement("div",{className:"Footer__copyright"},"Over Holding Srl \xa9 2020"))),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container --large"},"Over Holding Srl ",r.a.createElement("br",null),"Viale Tricesimo n. 200",r.a.createElement("br",null),"33100 Udine - Italy",r.a.createElement("br",null),"Vat no. IT02945890305")),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container"},r.a.createElement("div",{className:"Footer__title"},"Legal"),r.a.createElement("a",{href:"https://www.ovr.ai/privacy-policy/",rel:"noopener noreferrer",target:"_blank",className:"Footer__link"},"Privacy policy"))),r.a.createElement("div",{className:"o-fourth"},r.a.createElement("div",{className:"Footer__container"},r.a.createElement("div",{className:"Footer__title"},"Community"),r.a.createElement("a",{href:"https://t.me/OVRtheReality",rel:"noopener noreferrer",target:"_blank",className:"Footer__link"},"Telegram"),r.a.createElement("a",{href:"https://medium.com/ovrthereality/",rel:"noopener noreferrer",target:"_blank",className:"Footer__link"},"Medium"),r.a.createElement("a",{href:"https://www.facebook.com/OVRtheReality",rel:"noopener noreferrer",target:"_blank",className:"Footer__link"},"Facebook"))))}}]),n}(n.Component),ya=function(){var e=Object(ne.a)(),t=e.t,a=(e.i18n,Object(n.useState)(R("firstAfterSignup"))),i=Object(d.a)(a,2),c=i[0],s=i[1];return Object(n.useEffect)((function(){c&&(U("firstAfterSignup"),s(!1))}),[]),r.a.createElement(r.a.Fragment,null,c&&r.a.createElement("div",{className:"BannerNotification"},r.a.createElement("div",{className:"o-container"},r.a.createElement("div",{className:"--positive"},r.a.createElement("div",{className:"BannerNotification__title"},t("BannerNotification.welcome")," ","\ud83e\udd73"),r.a.createElement("div",{className:"BannerNotification__content"},t("BannerNotification.intro"))))))},ba=a(39),fa=a(206),ha=a(433),ga=["en","zh"];var Ea=function(){s.a.use(fa.a).init({order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,lng:navigator.language||navigator.userLanguage,caches:["localStorage","cookie"],excludeCacheFor:["cimode"]}),ga.includes(s.a.language)||(localStorage.removeItem("i18nextLng"),s.a.changeLanguage("en"));var e=Object(ba.a)();return e.listen((function(e){console.log("GA",e.pathname),lt.a.initialize("UA-128415861-1"),lt.a.set({page:e.pathname}),lt.a.pageview(e.pathname)})),r.a.createElement(n.Suspense,{fallback:"loading"},r.a.createElement(ha.a,null,(function(t,a){var n=a.i18n;return r.a.createElement(me,{t:t,i18n:n},r.a.createElement(Ce,{t:t,i18n:n},r.a.createElement(w,null,r.a.createElement(de.Consumer,null,(function(t){return r.a.createElement(xe.Consumer,null,(function(a){return r.a.createElement(_.Consumer,null,(function(a){return r.a.createElement(L.a,{history:e},r.a.createElement("div",{className:"App"},r.a.createElement($.a,null),r.a.createElement(Zt,null),r.a.createElement(ya,null),r.a.createElement("div",{className:"o-container"},r.a.createElement(Et.b,{path:"/map/",component:pa})),r.a.createElement(Et.d,null,r.a.createElement(Et.b,{exact:!0,path:"/"},t.state.isLoggedIn?r.a.createElement(Et.a,{to:"/profile"}):r.a.createElement(Et.a,{to:"/login"})),r.a.createElement(Et.b,{path:"/map/discover",component:ie}),r.a.createElement(Et.b,{path:"/map/overview",component:ve}),r.a.createElement(Et.b,{path:"/map/lands",component:tt}),r.a.createElement(Et.b,{path:"/map/land/:id",component:et}),r.a.createElement(Et.b,{path:"/profile",component:vt}),r.a.createElement(Et.b,{path:"/activity",component:kt}),r.a.createElement(Et.b,{path:"/login",component:xt}),r.a.createElement(Et.b,{path:"/signup",component:Ut}),r.a.createElement(Et.b,{path:"/login-helper",component:Lt})),r.a.createElement(va,null)))}))}))})))))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ea,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[220,1,2]]]);
//# sourceMappingURL=main.1400e405.chunk.js.map