{"version":3,"sources":["assets/img/ovr.png","contract/abi.js","i18n.js","context/MapContext.js","components/TextCounter/TextCounter.js","components/LandName/LandName.js","components/ValueCounter/ValueCounter.js","components/TimeCounter/TimeCounter.js","components/AuctionCard/AuctionCard.js","components/LandCard/LandCard.js","lib/config.js","lib/auth.js","lib/api.js","lib/notifications.js","views/Discover/Discover.js","context/UserContext.js","views/Overview/Overview.js","contract/ovrAbi.js","context/Web3Context.js","components/HexButton/HexButton.js","components/BidOverlay/BidOverlay.js","components/MintOverlay/MintOverlay.js","components/SellOverlay/SellOverlay.js","components/BuyOfferOverlay/BuyOfferOverlay.js","components/BuyOfferOrder/BuyOfferOrder.js","components/BuyLandOverlay/BuyLandOverlay.js","views/Land/Land.js","views/Lands/Lands.js","views/Profile/Profile.js","components/ActivityTile/ActivityTile.js","views/Activity/Activity.js","views/Login/Login.js","views/LoginHelper/LoginHelper.js","views/BuyTokens/BuyTokens.js","components/Notification/Notification.js","views/IndacoinResponse/IndacoinResponse.js","components/NotificationCenter/NotificationCenter.js","components/NavBar/NavBar.js","components/Breadcrumbs/Breadcrumbs.js","components/Map/Map.js","components/Breadcrumbs/MapBreadcrumbs.js","components/Footer/Footer.js","components/BannerNotification/BannerNotification.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","inputs","stateMutability","type","anonymous","indexed","internalType","name","outputs","getCurrentLocale","i18n","language","window","localStorage","i18nextLng","use","Backend","initReactI18next","init","lng","getItem","backend","loadPath","fallbackLng","debug","ns","defaultNS","keySeparator","interpolation","escapeValue","formatSeparator","react","wait","MapContext","createContext","MapProvider","props","state","onSingleView","hex_id","isAuction","isUserRelated","activeBidOverlay","activeMintOverlay","activeSellOverlay","activeBuyOfferOverlay","activeBuyOverlay","onMultipleLandSelection","multipleLandSelectionList","auctionList","landData","changeHexId","bind","disableSingleView","enableMultipleLandSelection","disableMultipleLandSelection","changeMultipleLandSelectionList","changeAuctionList","changeActiveBidOverlay","changeActiveMintOverlay","changeActiveSellOverlay","changeActiveBuyOfferOverlay","changeLandData","changeActiveBuyOverlay","h3","this","setState","list","_","uniq","activeVal","Provider","value","actions","overviewList","children","Component","withMapContext","Consumer","mapProvider","React","TextCounter","className","label","LandName","mode","max","sentence","location","ValueCounter","width","height","viewBox","xmlns","x","y","x1","y1","x2","y2","id","stopColor","offset","transform","stroke","protocol","host","pathname","fill","fillRule","d","TimeCounter","local","fromNow","date_end","AuctionCard","user_perspective","background_image","hex","statusClassName","statusText","to","style","backgroundImage","time","signature","LandCard","is_minimal","config","web3network","environment","apis","hostname","socket","indacoinHelperApi","etherscan","cookieDomain","sumsubApi","OVRContract","walletApproved","map","lat","zoom","fillOpacity","colorScale","camelCaseKeys","object","camelCaseObject","cloneDeep","isArray","isString","mapKeys","key","camelCase","mapValues","isPlainObject","Array","prototype","readNotification","notification_uuid","foundItem","find","item","uuid","status","readAllNotifications","forEach","saveToken","tokenName","tokenValue","Cookies","set","domain","getToken","get","removeToken","remove","isLogged","undefined","cookieName","getUser","userProfile","userToken","cookieValue","saveUser","request","url","method","auctionCreate","landUuid","worth","gas","auctionBid","hexId","userActivities","endpoint","params","req_config","headers","token","axios","defaults","common","Promise","resolve","reject","post","then","response","catch","err","networkError","store","addNotification","title","message","insert","container","animationIn","animationOut","showIcon","dismiss","duration","warningNotification","dangerNotification","successNotification","Discover","useTranslation","t","useState","listAuctions","setListAuctions","numberOfAuctionPages","setNumberOfAuctionPages","currentAuctionPage","setCurrentAuctionPage","listLands","setListLands","numberOfLandPages","setNumberOfLandPages","currentLandPage","setCurrentLandPage","useContext","loadAuctionsByPage","page","sort","indexOpenAuctions","data","auctions","length","obj","land","auction","currentWorth","mapTileUrl","sentenceId","address","full","market_status","marketStatus","userPerspective","closeAt","numberOfPages","Trans","i18nKey","loadLandsByPage","indexLands","lands","error","useEffect","Pagination","count","onChange","event","number","ActionCable","require","UserContext","UserProvider","setUserState","user","setUserEmail","email","setUserActivity","activities","loginUser","isLoggedIn","liveSocket","logoutUser","toggleShowNotificationCenter","showNotificationCenter","closeNotificationCenter","setNotificationAsReaded","notifications_content","notifications","content","unreaded_count","unreadedCount","setAllNotificationsAsReaded","subscribedToLiveSockets","createConsumer","subscriptions","create","channel","user_uuid","received","kyc_review_answer","kycReviewAnswer","notification","balance","participate","bid","landId","a","getPrices","perEth","icoParticipate","participateAsync","gasPrice","web3","toWei","tx","result","setAsReaded","setAllAsReaded","withUserContext","userProvider","Overview","userAuthenticated","setUserAuthenticated","mapActions","userState","indexMyOpenAuctions","console","log","indexMyLands","icon","isSvg","ico","ovrsOwned","role","aria-label","ovrAbi","Web3Context","Web3Provider","setupWeb3","callback","login","ethereum","enable","provider","ethers","providers","getNetwork","network","chainId","signer","getSigner","getAddress","parseInt","handleCentralizedLogin","keepUpdatedGasPrice","refreshGasPrice","async","gasLandCost","landGasCost","toFixed","setInterval","getUSDValueInOvr","usd","floorValue","authorizeOvrExpense","ovr","contractAsAccount","Contract","howMuchTokens","utils","parseUnits","approve","handleUserSignMessage","publicAddress","nonce","signMessage","handleAuthenticate","singedNonce","public_address","signed_nonce","signIn","context","errors","setupComplete","perUsd","lastTransaction","res","signUpLoginMetamask","getUserNonce","withWeb3Context","web3Provider","contextType","HexButton","onClick","text","target","ariaControls","ariaHaspopup","hexRef","href","ref","aria-controls","aria-haspopup","autoFocus","participateBid","approveOvrTokens","dai","tether","usdc","bidValid","setBidValid","nextBid","setNextBid","activeStep","setActiveStep","metamaskMessage","setBid","currentBid","setCurrentBid","bidProjection","setBidProjection","bidProjectionCurrency","setBidProjectionCurrency","gasProjection","setGasProjection","showOverlay","setShowOverlay","classShowOverlay","setClassShowOverlay","useRef","open","setOpen","setDeactiveOverlay","e","preventDefault","setTimeout","updateBidProjectionCurrency","setNextBidSelectedLand","parseFloat","participateInAuction","version","strokeWidth","step","TextField","myBid","eventBid","toUpperCase","Tooltip","Fragment","placement","rel","getStepContent","approveErc721Token","putLandOnSale","boughtAt","setBoughtAt","sellWorth","setNewSellWorth","setMetamaskMessage","landsAsync","paid","String","fromWei","handleNext","prevActiveStep","sellLand","reloadLandStatefromApi","sellAt","today","Date","tomorrow","setDate","getDate","participateBuyOffer","proposedValue","setProposedValue","expirationDate","setExpirationDate","solidityExpirationDate","setSolidityExpirationDate","anchorRef","handleClose","current","contains","handleClick","Math","trunc","now","handleDateChange","val","propVal","MomentUtils","DateTimePicker","variant","format","margin","Popper","anchorEl","transition","disablePortal","TransitionProps","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","MenuItem","confirmDeleteBuyOffer","offerId","cancelBuyOffer","transactionInProcess","waitTx","declineBuyOffer","confirmSell","acceptBuyOffer","newTx","openDeclineModal","openDeclineBuyModal","pathHexId","split","openModal","offer","handleOpen","buttonRender","document","addEventListener","detail","setupListeners","isOwner","Modal","aria-labelledby","aria-describedby","onClose","price","buy","buyLand","buyAt","setBuyAt","checkUserLoggedIn","balanceOfAsync","eth","defaultAccount","greaterThan","redeemSingleLand","getOffersToBuyLand","setHexId","setValue","setMarketStatus","setUserPerspective","setName","setLocation","setAuction","openBuyOffers","setOpenBuyOffers","isRedeemingLand","setIsRedeemingLand","isNotValidH3","setIsNotValidH3","isUnavailable","setIsUnavailable","match","loadLandStateFromApi","landSocket","unsubscribe","cable","decentralizedSetup","getBuyOffers","getLand","openSellOrder","offers","redeemLand","setActiveSellOverlay","renderOverlayButton","button","setActiveMintOverlay","setActiveBidOverlay","setActiveBuyOfferOverlay","setActiveBuyOverlay","renderPrice","badge","renderBadge","custom_return","renderOpenSell","renerOpenBuyOffers","displayBuyOffers","displaySells","web3Provide","renderActiveOpenOrders","bidHistory","when","from","hex_ids","getLands","join","ProfileContentLoginRequired","ProfileLayout","currentDatetimeStamp","moment","userContext","web3Context","sumsubShowPanel","setSumsubShowPanel","userEmailValid","setUserEmailValid","userEmailInputError","setUserEmailInputError","userEmail","urlKyc","setUrlKyc","isSignupLoading","setIsSignupLoading","isIMWallet","setIsIMWallet","includes","navigator","platform","userAgent","isImToken","sumsubLang","getSumsubExternalLink","launchWebSdk","updateUserEmail","seed","size","scale","color","bgColor","spotColor","toLowerCase","countdownTimer","disabled","helperText","onFocus","onKeyUp","test","setDbUserEmail","ReactGA","pageview","error_message","CircularProgress","kycClientComment","apiUrl","flowName","accessToken","applicantEmail","applicantPhone","userWallet","snsWebSdk","Builder","withAccessToken","newAccessTokenCallback","withConf","lang","phone","metadata","onMessage","payload","customCss","onError","build","launch","difference","setUTCSeconds","parts","days","floor","hours","minutes","seconds","Profile","authenticated","ActivityTile","history","useHistory","setAnchorEl","pending","Boolean","createdAt","dangerouslySetInnerHTML","__html","replace","landSentence","IconButton","currentTarget","Menu","keepMounted","TransitionComponent","Fade","push","txHash","etherscanLink","ActivityContentLoginRequired","ActivityLayout","ActivityContent","userActions","activityList","setActivityList","Activity","web3context","imWalletInstruction","setImWalletInstruction","isWeb3Active","isWeb3Account","web3NetworkVersion","metamaskComponent","tokensToBuy","setTokensToBuy","usdToSpend","setUsdToSpend","activeCurrency","setActiveCurrency","buyWithIndacoin","accounts","selectCurrency","currencyIndex","InputProps","startAdornment","InputAdornment","position","data-name","getCurrencyContent","Notification","respStatus","setRespStatus","errorTraceback","setErrorTraceback","search","transactionId","handleMarketplace","getIndacoinPayment","fetch","body","JSON","stringify","req","json","ok","msg","readed","setReaded","hidden","setHidden","handleGoTo","toggleNotificationCenter","handleHide","notificationUuid","hideNotification","NotificationCenterContent","wrapperRef","handleClickOutside","getElementById","classList","removeEventListener","web3State","web3Actions","langOpen","setLangOpen","isConnecting","setIsConnecting","prevOpen","langRef","changeLanguage","string","handleToggle","link","handleCloseLang","handleMetamaskAuthentication","gtag_report_metamask_conversion","focus","src","shapeRendering","cont","centerContainer","opacity","reducedPublicAddress","Breadcrumbs","previousLinks","currentPageLabel","separator","fontSize","index","defaultProps","MapBreadcrumbs","useLocation","charAt","slice","prevLinks","Object","keys","constructor","lastSelectedLand","setLastSelectedLand","isMapReady","setIsMapReady","waitMapStyle","isStyleLoaded","focusMap","hexCenterCoordinates","flyTo","center","speed","singleHexGeojson","geojson2h3","h3ToFeature","selected_layerId","selected_source","getSource","addSource","addLayer","source","interactive","paint","setData","setLayoutProperty","mapboxgl","Map","geocoder","MapboxGeocoder","marker","addControl","on","ev","geometry","coordinates","tileSize","switchy","setAttribute","innerHTML","getZoom","hexagons","geojson","h3SetToFeatureCollection","layerId","setPaintProperty","property","stops","renderHexes","getCenter","centerHex","kRing","assign","reduce","random","onClickMap","clicked_hex_id","lngLat","el","landSelectedEvent","CustomEvent","dispatchEvent","off","featureOfSelectedLands","paras","getElementsByClassName","parentNode","removeChild","createElement","insertAdjacentHTML","isNaN","geocenter","Marker","setLngLat","addTo","plotAuctions","plotPOI","doubleClickZoom","disable","Footer","BannerNotification","firstAfterSignup","setFirstAfterSignup","supportedLangs","App","i18next","LanguageDetector","order","lookupQuerystring","lookupCookie","lookupLocalStorage","lookupSessionStorage","lookupFromPathIndex","lookupFromSubdomainIndex","userLanguage","caches","excludeCacheFor","removeItem","createBrowserHistory","listen","initialize","fallback","Translation","userValue","web3Value","mapValue","path","component","exact","Lands","Land","Login","Signup","LoginHelper","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e1416dac.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ovr.ee984550.png\";","const abi = [\n\t{\n\t\tinputs: [],\n\t\tstateMutability: \"nonpayable\",\n\t\ttype: \"constructor\",\n\t},\n\t{\n\t\tanonymous: false,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"moodster\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"postID\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tname: \"Moody\",\n\t\ttype: \"event\",\n\t},\n\t{\n\t\tanonymous: false,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"author\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"timestamp\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"string\",\n\t\t\t\tname: \"content\",\n\t\t\t\ttype: \"string\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"postID\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tname: \"NewPost\",\n\t\ttype: \"event\",\n\t},\n\t{\n\t\tanonymous: false,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"admin\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"OnboardAdmin\",\n\t\ttype: \"event\",\n\t},\n\t{\n\t\tanonymous: false,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"user\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"OnboardUser\",\n\t\ttype: \"event\",\n\t},\n\t{\n\t\tanonymous: false,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"postID\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"removedBy\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"PostRemoved\",\n\t\ttype: \"event\",\n\t},\n\t{\n\t\tanonymous: false,\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"removedUser\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tindexed: false,\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"removedBy\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"UserRemoved\",\n\t\ttype: \"event\",\n\t},\n\t{\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"newAdmin\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"addAdmin\",\n\t\toutputs: [],\n\t\tstateMutability: \"nonpayable\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"string\",\n\t\t\t\tname: \"content\",\n\t\t\t\ttype: \"string\",\n\t\t\t},\n\t\t],\n\t\tname: \"addPost\",\n\t\toutputs: [],\n\t\tstateMutability: \"nonpayable\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"newUser\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"addUser\",\n\t\toutputs: [],\n\t\tstateMutability: \"nonpayable\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"admin\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"checkAdmin\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"bool\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"bool\",\n\t\t\t},\n\t\t],\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"user\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"checkTime\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"user\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"checkUser\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"bool\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"bool\",\n\t\t\t},\n\t\t],\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [],\n\t\tname: \"creator\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"postID\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tname: \"getPostById\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tinternalType: \"bool\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"bool\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tinternalType: \"string\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"string\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [],\n\t\tname: \"getPostNum\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"postID\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tname: \"postMood\",\n\t\toutputs: [],\n\t\tstateMutability: \"nonpayable\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [],\n\t\tname: \"postNum\",\n\t\toutputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tstateMutability: \"view\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"uint256\",\n\t\t\t\tname: \"postID\",\n\t\t\t\ttype: \"uint256\",\n\t\t\t},\n\t\t],\n\t\tname: \"removePost\",\n\t\toutputs: [],\n\t\tstateMutability: \"nonpayable\",\n\t\ttype: \"function\",\n\t},\n\t{\n\t\tinputs: [\n\t\t\t{\n\t\t\t\tinternalType: \"address\",\n\t\t\t\tname: \"removedUser\",\n\t\t\t\ttype: \"address\",\n\t\t\t},\n\t\t],\n\t\tname: \"removeUser\",\n\t\toutputs: [],\n\t\tstateMutability: \"nonpayable\",\n\t\ttype: \"function\",\n\t},\n];\nmodule.exports = abi;\n","\nimport i18n from 'i18next'\nimport Backend from 'i18next-xhr-backend'\nimport { initReactI18next } from 'react-i18next'\n\nconst supportedLangs = ['en', 'zh'];\n\ni18n\n  .use(Backend)\n  .use(initReactI18next)\n  .init({\n    lng: localStorage.getItem('i18nextLng'),\n    backend: {\n      /* translation file path */\n      loadPath: '/assets/i18n/{{ns}}/{{lng}}.json'\n    },\n    fallbackLng: 'en',\n    debug: true,\n    /* can have multiple namespace, in case you want to divide a huge translation into smaller pieces and load them on demand */\n    ns: ['translations'],\n    defaultNS: 'translations',\n    keySeparator: false,\n    interpolation: {\n      escapeValue: false,\n      formatSeparator: ','\n    },\n    react: {\n      wait: true\n    }\n\t})\n\t\nexport function getCurrentLocale() {\n  return i18n.language || window.localStorage.i18nextLng || '';\n}\n\nexport default i18n","import React, { createContext, Component } from 'react';\nimport * as h3 from 'h3-js';\nimport _ from 'lodash';\n\nexport const MapContext = createContext();\n\nexport class MapProvider extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tonSingleView: false,\n\t\t\thex_id: '8c81326dda43dff',\n\t\t\tisAuction: false,\n\t\t\tisUserRelated: false,\n\t\t\tactiveBidOverlay: false,\n\t\t\tactiveMintOverlay: false,\n\t\t\tactiveSellOverlay: false,\n\t\t\tactiveBuyOfferOverlay: false,\n\t\t\tactiveBuyOverlay: false,\n\t\t\tonMultipleLandSelection: false,\n\t\t\tmultipleLandSelectionList: [],\n\t\t\tauctionList: [],\n\t\t\tlandData: {},\n\t\t};\n\n\t\tthis.changeHexId = this.changeHexId.bind(this);\n\t\tthis.disableSingleView = this.disableSingleView.bind(this);\n\t\tthis.enableMultipleLandSelection = this.enableMultipleLandSelection.bind(this);\n\t\tthis.disableMultipleLandSelection = this.disableMultipleLandSelection.bind(this);\n\t\tthis.changeMultipleLandSelectionList = this.changeMultipleLandSelectionList.bind(this);\n\t\tthis.changeAuctionList = this.changeAuctionList.bind(this);\n\t\tthis.changeActiveBidOverlay = this.changeActiveBidOverlay.bind(this);\n\t\tthis.changeActiveMintOverlay = this.changeActiveMintOverlay.bind(this);\n\t\tthis.changeActiveSellOverlay = this.changeActiveSellOverlay.bind(this);\n\t\tthis.changeActiveBuyOfferOverlay = this.changeActiveBuyOfferOverlay.bind(this);\n\t\tthis.changeLandData = this.changeLandData.bind(this);\n\t\tthis.changeActiveBuyOverlay = this.changeActiveBuyOverlay.bind(this);\n\t}\n\n\tchangeHexId(hex_id) {\n\t\t// TODO change it as it could accept 3words names\n\t\tif (h3.h3IsValid(hex_id)) {\n\t\t\tthis.setState({ onSingleView: true, hex_id: hex_id, isAuction: true });\n\t\t}\n\t}\n\tenableMultipleLandSelection() {\n\t\tthis.setState({ onMultipleLandSelection: true });\n\t}\n\tdisableMultipleLandSelection() {\n\t\tthis.setState({ onMultipleLandSelection: false });\n\t}\n\tdisableSingleView() {\n\t\tthis.setState({ onSingleView: false });\n\t}\n\tchangeLandData(landData) {\n\t\tthis.setState({ landData });\n\t}\n\tchangeAuctionList(list) {\n\t\tthis.setState({ auctionList: list });\n\t}\n\tchangeMultipleLandSelectionList(list) {\n\t\tthis.setState({ multipleLandSelectionList: \t_.uniq(list) });\n\t}\n\tchangeActiveBidOverlay(activeVal) {\n\t\tthis.setState({ activeBidOverlay: activeVal });\n\t}\n\tchangeActiveMintOverlay(activeVal) {\n\t\tthis.setState({ activeMintOverlay: activeVal });\n\t}\n\tchangeActiveSellOverlay(activeVal) {\n\t\tthis.setState({ activeSellOverlay: activeVal });\n\t}\n\tchangeActiveBuyOfferOverlay(activeVal) {\n\t\tthis.setState({ activeBuyOfferOverlay: activeVal });\n\t}\n\tchangeActiveBuyOverlay(activeVal) {\n\t\tthis.setState({ activeBuyOverlay: activeVal });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<MapContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\tstate: this.state,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tchangeHexId: this.changeHexId,\n\t\t\t\t\t\tchangeActiveBidOverlay: this.changeActiveBidOverlay,\n\t\t\t\t\t\tchangeActiveMintOverlay: this.changeActiveMintOverlay,\n\t\t\t\t\t\tchangeAuctionList: this.changeAuctionList,\n\t\t\t\t\t\tdisableSingleView: this.disableSingleView,\n\t\t\t\t\t\tchangeActiveSellOverlay: this.changeActiveSellOverlay,\n\t\t\t\t\t\tchangeActiveBuyOfferOverlay: this.changeActiveBuyOfferOverlay,\n\t\t\t\t\t\tchangeLandData: this.changeLandData,\n\t\t\t\t\t\tchangeActiveBuyOverlay: this.changeActiveBuyOverlay,\n\t\t\t\t\t\tenableMultipleLandSelection: this.enableMultipleLandSelection,\n\t\t\t\t\t\tdisableMultipleLandSelection: this.disableMultipleLandSelection,\n\t\t\t\t\t\tchangeMultipleLandSelectionList: this.changeMultipleLandSelectionList,\n\t\t\t\t\t},\n\t\t\t\t\toverviewList: this.overviewList,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.props.children}\n\t\t\t</MapContext.Provider>\n\t\t);\n\t}\n}\n\nexport function withMapContext(Component) {\n\tclass ComponentWithContext extends React.Component {\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<MapContext.Consumer>{(value) => <Component {...this.props} mapProvider={{ ...value }} />}</MapContext.Consumer>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn ComponentWithContext;\n}\n","import React, { Component } from 'react';\n\nclass TextCounter extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"TextCounter\">\n\t\t\t\t<div className=\"TextCounter__text\"> {this.props.value} </div>\n\t\t\t\t<div className=\"TextCounter__label\"> {this.props.label} </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default TextCounter;\n","import React, { Component } from 'react';\nimport TextCounter from '../TextCounter/TextCounter';\n\nimport { Textfit } from 'react-textfit';\n\n\nclass LandName extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"LandName\">\n\t\t\t\t{this.props.value && <TextCounter value={this.props.value} label=\"OVR\"></TextCounter>}\n\t\t\t\t<div className=\"LandName__name\">\n\t\t\t\t\t<Textfit mode=\"single\" max={17}>\n\t\t\t\t\t\t{this.props.name.sentence}\n\t\t\t\t\t</Textfit>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"LandName__location\"> {this.props.location} </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LandName;\n","import React, { Component } from 'react';\n\nclass ValueCounter extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ValueCounter\">\n\t\t\t\t<div className=\"ValueCounter__icon\">\n\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t<svg width=\"18px\" height=\"20px\" viewBox=\"0 0 18 20\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0\" y=\"0\">\n\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t<linearGradient x1=\"109.444%\" y1=\"100%\" x2=\"0%\" y2=\"0%\" id=\"prefix__a\">\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#EB663B\" offset=\"0%\" />\n\t\t\t\t\t\t\t\t\t<stop stopColor=\"#F9B326\" offset=\"100%\" />\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t<g transform=\"translate(-1)\" stroke={`url(${window.location.protocol+'//'+window.location.host+window.location.pathname}#prefix__a)`} fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t<path d=\"M18.5 5.246v9.462a2.01 2.01 0 01-1.21 1.842l-5.624 2.41-.886.38a1.984 1.984 0 01-1.56 0l-1.274-.546L2.71 16.55a2.01 2.01 0 01-1.21-1.842V5.246A2.01 2.01 0 012.721 3.4l.218-.091L9.23.656a1.973 1.973 0 011.538 0l3.974 1.674L17.279 3.4A2.01 2.01 0 0118.5 5.246z\" />\n\t\t\t\t\t\t\t\t<path d=\"M15.958 5.47a1.472 1.472 0 00-.62-.518l-1.86-.817-2.914-1.28a1.4 1.4 0 00-1.128 0L4.822 4.881l-.16.07a1.472 1.472 0 00-.62.517 1.582 1.582 0 00-.275.896V13.6c0 .327.099.638.273.892.153.224.363.405.614.517l3.84 1.716.934.417a1.4 1.4 0 001.144 0l.65-.29 4.124-1.843c.251-.112.461-.293.614-.517.174-.254.273-.565.273-.892V6.365c0-.329-.1-.64-.275-.896z\" />\n\t\t\t\t\t\t\t\t<path d=\"M6.033 10c0-2.16 1.776-3.912 3.967-3.912 2.19 0 3.967 1.752 3.967 3.912S12.19 13.912 10 13.912c-2.19 0-3.967-1.752-3.967-3.912z\" />\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ValueCounter__value\"> {this.props.value}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ValueCounter;\n","import React, { Component } from 'react';\nimport Moment from 'react-moment';\n// https://github.com/moment/moment/issues/537 updateLocale\n\nclass TimeCounter extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"TimeCounter\">\n\t\t\t\t{/* <span>{this.props.time}</span>{this.props.signature} */}\n\t\t\t\t<Moment local fromNow>\n\t\t\t\t\t{this.props.date_end}\n\t\t\t\t</Moment>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default TimeCounter;\n","import React from 'react';\nimport LandName from '../LandName/LandName';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport { Link } from 'react-router-dom';\n\nconst AuctionCard = (props) => {\n\tconst { user_perspective, background_image, name, value, location, date_end } = props;\n\tconst { sentence, hex } = name;\n\tlet statusClassName = '--open';\n\tlet statusText = 'OPEN';\n\n\tswitch (user_perspective) {\n\t\tcase 1:\n\t\t\tstatusClassName = '--open';\n\t\t\tstatusText = 'OPEN';\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tstatusClassName = '--bestbid';\n\t\t\tstatusText = 'BEST BID';\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tstatusClassName = '--outbidded';\n\t\t\tstatusText = 'OUTBIDDED';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tstatusClassName = '--open';\n\t\t\tstatusText = 'OPEN';\n\t\t\tbreak;\n\t}\n\n\treturn (\n\t\t<div className={`AuctionCard ${statusClassName}`}>\n\t\t\t<Link to={`/map/land/${hex}`}>\n\t\t\t\t<div className=\"AuctionCard__header\" style={{ backgroundImage: background_image }}>\n\t\t\t\t\t<div className=\"c-status-badge AuctionCard__status\">{statusText}</div>\n\t\t\t\t\t<div className=\"AuctionCard__ping_container\">\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-1\"> </div>\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-2\"> </div>\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-3\"> </div>\n\t\t\t\t\t\t<div className=\"c-ping-layer c-ping-layer-4\"> </div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t\t<div className=\"AuctionCard__body\">\n\t\t\t\t<LandName name={{ sentence: sentence, hex: hex }} location={location}></LandName>\n\t\t\t\t<div className=\"AuctionCard__bottom_line\">\n\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t<ValueCounter value={value}></ValueCounter>\n\t\t\t\t\t\t{/* className={reloadLandStatefromApi} */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t<TimeCounter time={20} signature=\"mins\" date_end={date_end}></TimeCounter>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default AuctionCard;\n","import React from 'react';\nimport LandName from '../LandName/LandName';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport { Link } from 'react-router-dom';\nimport { Textfit } from 'react-textfit';\n\nconst LandCard = (props) => {\n\tlet card;\n\tif (props.is_minimal) {\n\t\tcard = (\n\t\t\t<div className=\"LandCard --minimal\">\n\t\t\t\t<div className=\"LandCard__cont\">\n\t\t\t\t\t<div className=\"LandCard__body\">\n\t\t\t\t\t\t<div className=\"LandName\">\n\t\t\t\t\t\t\t<div className=\"LandName__name\">\n\t\t\t\t\t\t\t\t<Textfit mode=\"single\" max={17}>\n\t\t\t\t\t\t\t\t\t{props.name.sentence}\n\t\t\t\t\t\t\t\t</Textfit>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"LandCard__body__footer\">\n\t\t\t\t\t\t\t<ValueCounter value={props.value}></ValueCounter>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tcard = (\n\t\t\t<Link to={`/map/land/${props.name.hex}`} className=\"LandCard\">\n\t\t\t\t<div className=\"LandCard__header\" style={{ backgroundImage: props.background_image }}></div>\n\t\t\t\t<div className=\"LandCard__cont\">\n\t\t\t\t\t<div className=\"LandCard__body\">\n\t\t\t\t\t\t<LandName name={props.name} location={props.location}></LandName>\n\t\t\t\t\t\t<div className=\"LandCard__body__footer\">\n\t\t\t\t\t\t\t<TimeCounter time={20} signature=\"mins\" date_end={props.date_end}></TimeCounter>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t);\n\t}\n\n\treturn card;\n};\n\nexport default LandCard;\n","import _ from 'lodash';\n\n//\n// General Configs\n//\n\n// Possible values are STAGING, DEVELOPMENT, PRODUCTION\nconst environment = 'STAGING';\n\nlet apis;\n\nif (environment === 'PRODUCTION') {\n\tapis = {\n\t\thostname: 'https://mws.ovr.ai/api/v1',\n\t\tsocket: 'wss://mws.ovr.ai/cable',\n\t\tindacoinHelperApi: 'https://web3-helper.ovr.ai/indacoin',\n\t\tetherscan: 'https://etherscan.io/',\n\t\tcookieDomain: 'ovr.ai',\n\t\tsumsubApi: 'https://api.sumsub.com',\n\t\tOVRContract: '0x128989bd5bac572d8f60c89d6eaa8f6d35f5c25c',\n\t\twalletApproved: '0xda0b2EC0E8eE995e3257Bf99EA678e26651DbeEc',\n\t};\n} else if (environment === 'STAGING') {\n\tapis = {\n\t\thostname: 'https://mws-staging.ovr.ai/api/v1',\n\t\tsocket: 'wss://mws-staging.ovr.ai/cable',\n\t\tindacoinHelperApi: 'https://web3-helper-staging.ovr.ai/indacoin',\n\t\tetherscan: 'https://ropsten.etherscan.io/',\n\t\tcookieDomain: 'ovr.ai',\n\t\tsumsubApi: 'https://test-api.sumsub.com',\n\t\tOVRContract: '0x128989bd5bac572d8f60c89d6eaa8f6d35f5c25c',\n\t\twalletApproved: '0xda0b2EC0E8eE995e3257Bf99EA678e26651DbeEc',\n\t};\n} else {\n\tapis = {\n\t\thostname: 'http://localhost:3000/api/v1',\n\t\tsocket: 'ws://localhost:3000/cable',\n\t\tindacoinHelperApi: 'https://web3-helper-staging.ovr.ai/indacoin',\n\t\tetherscan: 'https://ropsten.etherscan.io/',\n\t\tcookieDomain: 'localhost',\n\t\tsumsubApi: 'https://test-api.sumsub.com',\n\t\tOVRContract: '0x128989bd5bac572d8f60c89d6eaa8f6d35f5c25c',\n\t\twalletApproved: '0xda0b2EC0E8eE995e3257Bf99EA678e26651DbeEc',\n\t};\n}\n\nconst map = {\n\tlat: 46.0922495,\n\tlng: 13.2312417,\n\tzoom: 0,\n\tfillOpacity: 0.3,\n\tcolorScale: ['#5F39BE', '#ffffff', '#1a0731', '#EC663C', '#0081DD'],\n};\n\nlet config = {\n\tweb3network: environment === 'PRODUCTION' ? 1 : 3,\n\tenvironment: environment,\n\tapis: apis,\n\tmap: map,\n};\n\nexport default config;\n\n//\n//  Lib Functions\n//\n\nexport function camelCaseKeys(object) {\n\tlet camelCaseObject = _.cloneDeep(object);\n\n\tif (_.isArray(camelCaseObject)) {\n\t\treturn _.map(camelCaseObject, camelCaseKeys);\n\t}\n\tif (_.isString(camelCaseObject)) {\n\t\treturn camelCaseObject;\n\t}\n\tcamelCaseObject = _.mapKeys(camelCaseObject, (value, key) => _.camelCase(key));\n\n\t// Recursively apply throughout object\n\treturn _.mapValues(camelCaseObject, (value) => {\n\t\tif (_.isPlainObject(value)) {\n\t\t\treturn camelCaseKeys(value);\n\t\t} else if (_.isArray(value)) {\n\t\t\treturn _.map(value, camelCaseKeys);\n\t\t}\n\t\treturn value;\n\t});\n}\n\nArray.prototype.readNotification = function (notification_uuid) {\n\tlet foundItem = this.find((item) => item.uuid === notification_uuid);\n\tif (foundItem) {\n\t\tfoundItem.status = 1;\n\t}\n};\n\nArray.prototype.readAllNotifications = function () {\n\tthis.forEach((item) => {\n\t\titem.status = 1;\n\t});\n};\n\nexport const promisify = (inner) =>\n\tnew Promise((resolve, reject) =>\n\t\tinner((err, res) => {\n\t\t\tif (err) {\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\tresolve(res);\n\t\t\t}\n\t\t}),\n\t);\n\n\nexport function isiOS() {\n\treturn [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod'\n  ].includes(navigator.platform)\n  // iPad on iOS 13 detection\n  || (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document)\n} \n\nexport function isImToken(){\n\treturn !!window.imToken\n}","import Cookies from 'js-cookie';\nimport config from './config';\n\nexport function saveToken(tokenName = 'token', tokenValue) {\n\tCookies.set(tokenName, tokenValue, { domain: config.apis.cookieDomain });\n}\n\nexport function getToken(tokenName = 'token') {\n\treturn Cookies.get(tokenName);\n}\n\nexport function removeToken(tokenName = 'token') {\n\tCookies.remove(tokenName);\n\tCookies.remove(tokenName, { domain: config.apis.cookieDomain });\n}\n\nexport function checkToken(tokenName = 'token') {\n\treturn Cookies.get(tokenName) !== undefined;\n}\n\nexport function saveUser(cookieName = 'user', cookieValue) {\n\tCookies.set(cookieName, cookieValue, { domain: config.apis.cookieDomain });\n}\n\nexport function getUser(cookieName = 'userToken') {\n\treturn Cookies.get(cookieName);\n}\n\nexport function removeUser(cookieName = 'userToken') {\n\tCookies.remove(cookieName);\n\tCookies.remove(cookieName, { domain: config.apis.cookieDomain });\n}\n\nexport function isLogged() {\n\treturn getUser() !== undefined;\n}\n","import config, { camelCaseKeys } from '../lib/config';\nimport { getToken, saveUser } from '../lib/auth';\nimport axios from 'axios';\n\n// TRANSFORMATIONS -> funzioni di trasformazione dati app -> server e server -> app.\n// ----------------------------------------------------------------------------------------\nexport function example(user) {\n\treturn {\n\t\tuuid: user.uuid,\n\t\tbleId: user.ble_id,\n\t\tbleName: user.ble_name,\n\t\tbleCode: user.ble_code,\n\t\ttimestampCreation: user.timestamp_creation,\n\t};\n}\n\n// AUTHENTICATION REQUEST\n// ----------------------------------------------------------------------------------------\n\n/**\n * @function signIn\n * @param {*}\n */\nexport function signIn(publicAddress, singedNonce) {\n\treturn request(\n\t\t{ url: '/authentication/login', method: 'POST' },\n\t\t{ public_address: publicAddress, signed_nonce: singedNonce },\n\t\tnull,\n\t);\n}\n\nexport function getUserNonce(publicAddress) {\n\treturn request({ url: '/user/nonce', method: 'GET' }, { public_address: publicAddress }, null);\n}\n\nexport function userProfile(userToken) {\n\tsaveUser('user', userToken);\n\treturn request({ url: '/user/profile', method: 'GET' }, {}, null);\n}\n\n// USER REGISTRATION\n// ----------------------------------------------------------------------------------------\n\n/**\n * @function signUp\n * @param {*}\n */\nexport function signUp(userName, password, email) {\n\treturn request(\n\t\t{ url: '/user/registration', method: 'POST' },\n\t\t{ username: userName, password: password, email: email },\n\t\tnull,\n\t);\n}\n\nexport function signUpHybrid(email, userName, publicAddress) {\n\treturn request(\n\t\t{ url: '/user/registration', method: 'POST' },\n\t\t{ email: email, username: userName, public_address: publicAddress },\n\t\tnull,\n\t);\n}\n\nexport function signUpHybridSocial(token, provider, userName, publicAddress) {\n\treturn request(\n\t\t{ url: '/user/registration/social', method: 'POST' },\n\t\t{ oauth: token, oauth_provider: provider, username: userName, public_address: publicAddress },\n\t\tnull,\n\t);\n}\n\nexport function signUpPublicAddress(publicAddress) {\n\treturn request({ url: '/user/registration', method: 'POST' }, { public_address: publicAddress }, null);\n}\n\nexport function signUpLoginMetamask(publicAddress) {\n\treturn request(\n\t\t{ url: '/authentication/metamask', method: 'POST' },\n\t\t{ public_address: publicAddress },\n\t\tnull,\n\t);\n}\n\nexport function setDbUserEmail(email = null) {\n\treturn request(\n\t\t{ url: '/user/set/email', method: 'POST' },\n\t\t{\n\t\t\temail: email,\n\t\t},\n\t\tnull,\n\t);\n}\n\n\n// AUCTIONS\n// ----------------------------------------------------------------------------------------\nexport function indexOpenAuctions(sort = null, page = 1) {\n\treturn request({ url: '/auctions/open', method: 'GET' }, { sort: sort, page: page }, null);\n}\n\nexport function indexMyOpenAuctions(sort = null, page = 1) {\n\treturn request(\n\t\t{ url: '/user/auctions', method: 'GET' },\n\t\t{\n\t\t\tsort: sort,\n\t\t\tpage: page,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function auctionCreate(landUuid = null, worth = 10, gas = 10) {\n\treturn request(\n\t\t{ url: '/auction/start', method: 'POST' },\n\t\t{\n\t\t\thex_id: landUuid,\n\t\t\tworth: worth,\n\t\t\tgas: gas\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function auctionBid(hexId = null, worth = 10, gas = 10) {\n\treturn request(\n\t\t{ url: '/auction/bid', method: 'POST' },\n\t\t{\n\t\t\thex_id: hexId,\n\t\t\tworth: worth,\n\t\t\tgas: gas\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function getGasPrice() {\n\treturn request(\n\t\t{ url: '/auctions/lands_gas_cost', method: 'GET' },\n\t\t{},\n\t\tnull,\n\t);\n}\n\n\n// export function auctionBidPre(landUuid = null, worth = 10, txHash = null) {\n// \treturn request(\n// \t\t{ url: '/auction/bid/pre', method: 'POST' },\n// \t\t{\n// \t\t\thex_id: landUuid,\n// \t\t\tworth: worth,\n// \t\t\ttx_hash: txHash,\n// \t\t},\n// \t\tnull,\n// \t);\n// }\n\n// export function auctionBidConfirm(landUuid = null, worth = 10) {\n// \treturn request(\n// \t\t{ url: '/auction/bid/confirm', method: 'POST' },\n// \t\t{\n// \t\t\thex_id: landUuid,\n// \t\t\tworth: worth,\n// \t\t},\n// \t\tnull,\n// \t);\n// }\n\n// export function auctionPreStart(landUuid = null, worth = 10, txHash = null) {\n// \treturn request(\n// \t\t{ url: '/auction/start/pre', method: 'POST' },\n// \t\t{\n// \t\t\thex_id: landUuid,\n// \t\t\tworth: worth,\n// \t\t\ttx_hash: txHash,\n// \t\t},\n// \t\tnull,\n// \t);\n// }\n\n// export function auctionConfirmStart(landUuid = null, txHash = null) {\n// \treturn request(\n// \t\t{ url: '/auction/start/confirm', method: 'POST' },\n// \t\t{\n// \t\t\thex_id: landUuid,\n// \t\t\ttx_hash: txHash,\n// \t\t},\n// \t\tnull,\n// \t);\n// }\n\n// export function auctionCheckClose(landUuid = null) {\n// \treturn request(\n// \t\t{ url: '/infura/auction/close', method: 'POST' },\n// \t\t{\n// \t\t\thex_id: landUuid,\n// \t\t},\n// \t\tnull,\n// \t);\n// }\n\n// LANDS\nexport function getLand(hex_id = null) {\n\treturn request(\n\t\t{ url: '/land', method: 'GET' },\n\t\t{\n\t\t\thex_id: hex_id,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function getLands(hex_ids = null) {\n\treturn request(\n\t\t{ url: '/lands/list', method: 'GET' },\n\t\t{\n\t\t\thex_ids: hex_ids,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function indexLands(sort = null, page = 1) {\n\treturn request(\n\t\t{ url: '/lands', method: 'GET' },\n\t\t{\n\t\t\tsort: sort,\n\t\t\tpage: page,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function indexMyLands(sort = null, page = 1) {\n\treturn request(\n\t\t{ url: '/user/lands', method: 'GET' },\n\t\t{\n\t\t\tsort: sort,\n\t\t\tpage: page,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// SELL\nexport function sellLand(landUuid = null, worth = null) {\n\treturn request(\n\t\t{ url: '/order/sell', method: 'POST' },\n\t\t{\n\t\t\thex_id: landUuid,\n\t\t\tworth: worth,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function deleteSellLand(landUuid = null) {\n\treturn request(\n\t\t{ url: '/order/delete/sell', method: 'POST' },\n\t\t{\n\t\t\thex_id: landUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// BUY\nexport function buyLand(landUuid = null) {\n\treturn request(\n\t\t{ url: '/order/buy', method: 'POST' },\n\t\t{\n\t\t\thex_id: landUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// BUY OFFER\nexport function buyOffer(landUuid = null, worth = null, expirationDate = null) {\n\treturn request(\n\t\t{ url: '/order/buy_offer', method: 'POST' },\n\t\t{\n\t\t\thex_id: landUuid,\n\t\t\tworth: worth,\n\t\t\texpiration_date: expirationDate,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function deleteBuyOffer(orderUuid = null) {\n\treturn request(\n\t\t{ url: '/order/delete/buy_offer', method: 'POST' },\n\t\t{\n\t\t\torder_uuid: orderUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function hitBuyOffer(orderUuid = null) {\n\treturn request(\n\t\t{ url: '/order/hit_buy_offer', method: 'POST' },\n\t\t{\n\t\t\torder_uuid: orderUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// NOTIFICATION\nexport function readNotification(notificationUuid = null) {\n\treturn request(\n\t\t{ url: '/notification/read', method: 'POST' },\n\t\t{\n\t\t\tnotification_uuid: notificationUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\nexport function readAllNotifications() {\n\treturn request({ url: '/notifications/read', method: 'POST' }, {}, null);\n}\n\nexport function hideNotification(notificationUuid = null) {\n\treturn request(\n\t\t{ url: '/notification/hide', method: 'POST' },\n\t\t{\n\t\t\tnotification_uuid: notificationUuid,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// Centralized helpers\n\nexport function sendPreAuctionStart(landId, bid, txHash) {\n\t// auctionPreStart(landId, bid, txHash)\n\t// \t.then((response) => {\n\t// \t\t// console.log('response', response.data);\n\t// \t})\n\t// \t.catch((error) => {\n\t// \t\t// Notify user if network error\n\t// \t\t// console.log(error);\n\t// \t});\n}\n\nexport function sendConfirmAuctionStart(landId, txHash) {\n\t// auctionConfirmStart(landId, txHash)\n\t// \t.then((response) => {\n\t// \t\tif (response.data.result === true) {\n\t// \t\t\t// console.log('sendConfirmAuctionStart - response true', response.data);\n\t// \t\t} else {\n\t// \t\t  // console.log('responseFalse');\n\t// \t\t\t// console.log('sendConfirmAuctionStart - response false', response.data.errors[0].message);\n\t// \t\t\t// setActiveStep(0);\n\t// \t\t}\n\t// \t})\n\t// \t.catch((error) => {\n\t// \t\t// Notify user if network error\n\t// \t\t// console.log(error);\n\t// \t});\n}\n\nexport function sendPreAuctionBid(landId, nextBid, txHash) {\n\t// auctionBidPre(landId, nextBid, txHash)\n\t// \t.then((response) => {\n\t// \t  // console.log(response)\n\t// \t})\n\t// \t.catch((error) => {\n\t// \t\t// Notify user if network error\n\t// \t\t// console.log(error);\n\t// \t});\n}\nexport function sendAuctionBidConfirm(landId, nextBid) {\n\t// auctionBidConfirm(landId, nextBid)\n\t// \t.then((response) => {\n\t// \t  // console.log(response)\n\t// \t})\n\t// \t.catch((error) => {\n\t// \t\t// Notify user if network error\n\t// \t\t// console.log(error);\n\t// \t});\n}\n\nexport function sendAuctionCheckClose(landId) {\n// \tauctionCheckClose(landId)\n// \t\t.then((response) => {\n// \t\t\t// console.log(response);\n// \t\t})\n// \t\t.catch((error) => {\n// \t\t\t// Notify user if network error\n// \t\t\t// console.log(error);\n// \t\t});\n}\n\n// Activities\nexport function userActivities() {\n\treturn request({ url: '/user/activities', method: 'GET' }, {}, null);\n}\n\n// KYC - SUMSUB\nexport function getSumsubData() {\n\treturn request({ url: '/user/sumsub/access_token', method: 'GET' }, {}, null);\n}\n\nexport function setSumsubVerificationToStarted() {\n\treturn request({ url: '/user/sumsub/set_verification/started', method: 'GET' }, {}, null);\n}\n\nexport function getSumsubExternalLink(language = \"en\") {\n\treturn request(\n\t\t{ url: '/user/sumsub/external_link', method: 'GET' },\n\t\t{\n\t\t\tlanguage: language,\n\t\t},\n\t\tnull,\n\t);\n}\n\n// GENERAL REQUEST\n// ----------------------------------------------------------------------------------------\n\n/**\n * @description This function helps the generation of an axios request with the api server.\n * @param {object} endpoint\n * @param {object} params\n * @param {string} token\n */\nexport function request(endpoint, params, req_config = { headers: { 'Content-Type': 'application/json' } }) {\n\tconst token = getToken('userToken');\n\tif (token) {\n\t\taxios.defaults.headers.common['Authorization'] = token; // eslint-disable-line\n\t}\n\tif(req_config && req_config.headers){\n\t\treq_config.headers['Content-Language'] = localStorage.getItem('i18nextLng');\n\t}else{\n\t\treq_config = { headers: { 'Content-Language': localStorage.getItem('i18nextLng') } }\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tlet req;\n\t\tif (endpoint.method === 'POST') {\n\t\t\treq = axios.post(`${config.apis.hostname}${endpoint.url}`, params, req_config);\n\t\t} else {\n\t\t\treq = axios.get(`${config.apis.hostname}${endpoint.url}`, { params });\n\t\t}\n\t\treq\n\t\t\t.then((response) => {\n\t\t\t\tresolve(camelCaseKeys(response));\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t\t// console.log(err);\n\t\t\t});\n\t});\n}\n","import { store } from 'react-notifications-component';\n\nexport function networkError() {\n\tstore.addNotification({\n\t\ttitle: 'Connection error',\n\t\tmessage: 'Check your internet connection or try again later',\n\t\ttype: 'danger',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n\nexport function warningNotification(title, message) {\n\tstore.addNotification({\n\t\ttitle: title,\n\t\tmessage: message,\n\t\ttype: 'warning',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n\nexport function dangerNotification(title, message) {\n\tstore.addNotification({\n\t\ttitle: title,\n\t\tmessage: message,\n\t\ttype: 'danger',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n\nexport function successNotification(title, message) {\n\tstore.addNotification({\n\t\ttitle: title,\n\t\tmessage: message,\n\t\ttype: 'success',\n\t\tinsert: 'top',\n\t\tcontainer: 'top-right',\n\t\tanimationIn: ['animated', 'fadeIn'],\n\t\tanimationOut: ['animated', 'fadeOut'],\n\t\tshowIcon: true,\n\t\tdismiss: {\n\t\t\tduration: 5000,\n\t\t},\n\t});\n}\n","import React, { useState, useEffect, useContext } from 'react';\n\nimport './style.scss';\nimport { MapContext } from '../../context/MapContext';\nimport AuctionCard from '../../components/AuctionCard/AuctionCard';\nimport LandCard from '../../components/LandCard/LandCard';\n\nimport { indexOpenAuctions, indexLands } from '../../lib/api';\nimport { networkError } from '../../lib/notifications';\nimport Pagination from '@material-ui/lab/Pagination';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\nconst Discover = () => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst [listAuctions, setListAuctions] = useState('');\n\tconst [numberOfAuctionPages, setNumberOfAuctionPages] = useState(0);\n\tconst [currentAuctionPage, setCurrentAuctionPage] = useState(1);\n\n\tconst [listLands, setListLands] = useState('');\n\tconst [numberOfLandPages, setNumberOfLandPages] = useState(0);\n\tconst [currentLandPage, setCurrentLandPage] = useState(1);\n\n\tconst { actions } = useContext(MapContext);\n\n\tfunction loadAuctionsByPage(page) {\n\t\t// Call API function\n\t\tindexOpenAuctions(null, page)\n\t\t\t.then((response) => {\n\t\t\t\t// Load Auctions in MapContext\n\t\t\t\tactions.changeAuctionList(response.data.auctions);\n\t\t\t\t// console.log(response.data.auctions);\n\n\t\t\t\tif (response.data.auctions.length > 0) {\n\t\t\t\t\t// Load user data in context store\n\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\tresponse.data.auctions.map((obj) => (\n\t\t\t\t\t\t\t<AuctionCard\n\t\t\t\t\t\t\t\tkey={obj.land.hexId}\n\t\t\t\t\t\t\t\tvalue={obj.land.auction.currentWorth}\n\t\t\t\t\t\t\t\tbackground_image={`url(${obj.land.mapTileUrl}`}\n\t\t\t\t\t\t\t\tname={{ sentence: obj.land.sentenceId, hex: obj.land.hexId }}\n\t\t\t\t\t\t\t\tlocation={obj.land.address.full}\n\t\t\t\t\t\t\t\tmarket_status={obj.land.marketStatus}\n\t\t\t\t\t\t\t\tuser_perspective={obj.land.userPerspective}\n\t\t\t\t\t\t\t\tdate_end={obj.land.auction.closeAt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)),\n\t\t\t\t\t);\n\t\t\t\t\tsetNumberOfAuctionPages(response.data.numberOfPages);\n\t\t\t\t} else {\n\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t\t<Trans i18nKey=\"Discover.no.auctions.open\" >\n\t\t\t\t\t\t\t\t\tThere is currently no <div className=\"c-status-badge\">OPEN</div> auction \n\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t{' '}⚡️\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t{t('Discover.browse.lands')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction loadLandsByPage(page) {\n\t\t// console.log('load land');\n\t\t// Call API function\n\t\tindexLands(null, page)\n\t\t\t.then((response) => {\n\t\t\t\t// Load Lands in MapContext\n\t\t\t\tif (response.data.lands.length > 0) {\n\t\t\t\t\t// Load user data in context store\n\t\t\t\t\tsetListLands(\n\t\t\t\t\t\tresponse.data.lands.map((obj) => (\n\t\t\t\t\t\t\t<LandCard\n\t\t\t\t\t\t\t\tkey={obj.hexId}\n\t\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\t\tvalue={obj.currentWorth}\n\t\t\t\t\t\t\t\tbackground_image={`url(${obj.mapTileUrl}`}\n\t\t\t\t\t\t\t\tname={{ sentence: obj.sentenceId, hex: obj.hexId }}\n\t\t\t\t\t\t\t\tlocation={obj.address.full}\n\t\t\t\t\t\t\t\tdate_end={obj.auction.closeAt}\n\t\t\t\t\t\t\t></LandCard>\n\t\t\t\t\t\t)),\n\t\t\t\t\t);\n\t\t\t\t\tsetNumberOfLandPages(response.data.numberOfPages);\n\t\t\t\t} else {\n\t\t\t\t\tsetListLands(\n\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">{t('Discover.no.lands')}</div>\n\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">{t('Discover.browse.available')}</div>\n\t\t\t\t\t\t</div>,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// console.log(error);\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction handleAuctionPageClick(event, number) {\n\t\tloadAuctionsByPage(number);\n\t\tsetCurrentAuctionPage(number);\n\t}\n\n\tfunction handleLandPageClick(event, number) {\n\t\tloadLandsByPage(number);\n\t\tsetCurrentLandPage(number);\n\t}\n\n\tuseEffect(() => {\n\t\tactions.disableSingleView();\n\t\tloadAuctionsByPage();\n\t\tloadLandsByPage();\n\t}, []);\n\n\treturn (\n\t\t<div className=\"Overview\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<h2 className=\"o-section-title\">{t('Discover.auctions.label')}</h2>\n\t\t\t</div>\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"o-auction-list\">{listAuctions}</div>\n\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t{numberOfAuctionPages > 1 && (\n\t\t\t\t\t\t<Pagination count={numberOfAuctionPages} page={currentAuctionPage} onChange={handleAuctionPageClick} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<h2 className=\"o-section-title\">{t('Discover.closed.auctions')}</h2>\n\t\t\t</div>\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"o-land-list\">{listLands}</div>\n\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t{numberOfLandPages > 1 && (\n\t\t\t\t\t\t<Pagination count={numberOfLandPages} page={currentLandPage} onChange={handleLandPageClick} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Discover;\n","import React, { createContext, Component } from 'react';\nimport { removeToken, saveToken, isLogged, getToken, removeUser } from '../lib/auth';\nimport { successNotification, networkError, dangerNotification, warningNotification } from '../lib/notifications';\nimport { userProfile, getUserNonce, signUpPublicAddress, signIn } from '../lib/api';\nimport config, { camelCaseKeys } from '../lib/config';\nimport { useTranslation } from 'react-i18next'\n\nlet ActionCable = require('actioncable');\n\nexport const UserContext = createContext();\n\nexport class UserProvider extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisLoggedIn: false,\n\t\t\tsubscribedToLiveSockets: false,\n\t\t\tshowNotificationCenter: false,\n\t\t\ttoken: null,\n\t\t\tuser: {\n\t\t\t\tuuid: null,\n\t\t\t}\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (isLogged()) {\n\t\t\tuserProfile()\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t// console.log('userState', response.data.user)\n\t\t\t\t\tthis.setState({ user: response.data.user });\n\t\t\t\t\tthis.liveSocket();\n\t\t\t\t} else {\n\t\t\t\t\t\tdangerNotification(this.props.t('Danger.session.expired.title'), this.props.t('Danger.session.expired.desc'));\n\t\t\t\t\t\tthis.logoutUser();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\t// Notify user if network error\n\t\t\t\t\tnetworkError();\n\t\t\t\t});\n\n\t\t\tthis.loginUser(getToken('userToken'), getToken('userUuid'));\n\t\t}\n\t}\n\n\tsetUserState = (user) => {\n\t\tthis.setState({ user: user });\n\t}\n\n\tsetUserEmail = (email) => {\n\t\tthis.setState({ user: {\n\t\t\t...this.state.user,\n\t\t\temail: email\n\t\t} });\n\t}\n\n\tsetUserActivity = (activities) => {\n\t\tthis.setState({ user: {\n\t\t\t...this.state.user,\n\t\t\tactivities: camelCaseKeys(activities)\n\t\t} });\n\t}\n\n\tloginUser = (token, user) => {\n\t\tthis.setState({ isLoggedIn: true, token: token, user: user });\n\t\t// Cookie management\n\t\tsaveToken('userToken', token);\n\t\tsaveToken('userUuid', user);\n\t\tthis.liveSocket();\n\t};\n\n\tlogoutUser = () => {\n\t\tthis.setState({ isLoggedIn: false, token: null, user: { uuid: null } });\n\t\t// Cookie management\n\t\tremoveToken('userToken');\n\t\tremoveToken('userUuid');\n\t};\n\t\n\t// Centralized Notifications\n\n\ttoggleShowNotificationCenter = () => {\n\t\tthis.setState({ showNotificationCenter: !this.state.showNotificationCenter });\n\t};\n\n\tcloseNotificationCenter = () => {\n\t\tthis.setState({ showNotificationCenter: false });\n\t};\n\n\tsetNotificationAsReaded = (notification_uuid) => {\n\t\tlet notifications_content = this.state.user.notifications.content;\n\t\tlet unreaded_count = this.state.user.notifications.unreadedCount;\n\n\t\tnotifications_content.readNotification(notification_uuid);\n\t\tunreaded_count = unreaded_count - 1;\n\n\t\tthis.setState({\n\t\t\tuser: {\n\t\t\t\t...this.state.user,\n\t\t\t\tnotifications: {\n\t\t\t\t\t...this.state.user.notifications,\n\t\t\t\t\tunreadedCount: unreaded_count,\n\t\t\t\t\tcontent: notifications_content,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tsetAllNotificationsAsReaded = () => {\n\t\tlet notifications_content = this.state.user.notifications.content;\n\t\tnotifications_content.readAllNotifications();\n\t\tthis.setState({\n\t\t\tuser: {\n\t\t\t\t...this.state.user,\n\t\t\t\tnotifications: {\n\t\t\t\t\t...this.state.user.notifications,\n\t\t\t\t\tunreadedCount: 0,\n\t\t\t\t\tcontent: notifications_content,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\t// Sockets\n\n\tliveSocket = () => {\n\t\tif (this.state.isLoggedIn && !this.state.subscribedToLiveSockets){\n\t\t\tthis.setState({subscribedToLiveSockets: true})\n\t\t\tvar cable = ActionCable.createConsumer(config.apis.socket);\n\n\t\t\tcable.subscriptions.create(\n\t\t\t\t{ channel: 'UsersChannel', user_uuid: this.state.user.uuid },\n\t\t\t\t{\n\t\t\t\t\treceived: (data) => {\n\t\t\t\t\t\tif (data['only_kyc'] && data['only_kyc'] == true) {\n\t\t\t\t\t\t\tconst { kyc_review_answer } = data;\n\t\t\t\t\t\t\t// Update KYC Status\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t\t...this.state.user,\n\t\t\t\t\t\t\t\t\tkycReviewAnswer: kyc_review_answer\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst { notification } = data;\n\t\t\t\t\t\t\tconst { balance } = data;\n\t\t\t\t\t\t\tconst { unreaded_count } = data;\n\t\t\t\t\t\t\t// Update state on new notification\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t\t...this.state.user,\n\t\t\t\t\t\t\t\t\tbalance: balance,\n\t\t\t\t\t\t\t\t\tnotifications: {\n\t\t\t\t\t\t\t\t\t\t...this.state.user.notifications,\n\t\t\t\t\t\t\t\t\t\tunreadedCount: unreaded_count,\n\t\t\t\t\t\t\t\t\t\tcontent: [camelCaseKeys(notification), ...this.state.user.notifications.content],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t};\n\n\n\t// Type is a number where\n\t// 0 -> eth\n    // 1 -> Dai\n    // 2 -> Usdt\n\t// 3 -> Usdc\n\t// 4 -> OVR\n\tparticipate = async (type, bid, landId) => {\n\t\tlet tx\n\t\tconst { t, i18n } = useTranslation()\n\n\n\t\ttry {\n\t\t\tawait this.getPrices()\n\t\t} catch (e) {\n\t\t\treturn warningNotification(this.props.t('Warning.get.prices.title'), this.props.t('Warning.get.prices.desc')+ ` ${e.message}`)\n\t\t}\n\t\ttry {\n\t\t\t// For ether we send the value instead of the bid\n\t\t\tif (type === 0) {\n\t\t\t\tconst value = bid / this.state.perEth;\n\t\t\t\t// console.log('value', value, 'bid', bid, 'per eth', this.state.perEth, 'ico participate', this.state.icoParticipate.address)\n\t\t\t\ttx = await this.state.icoParticipate.participateAsync(type, bid, landId, {\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tgasPrice: window.web3.toWei(300, 'gwei'),\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn tx\n\t\t} catch (e) {\n\t\t\treturn warningNotification(this.props.t('Warning.buy.error.title'), this.props.t('Warning.buy.error.desc')+ ` ${e.message}`);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<UserContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\tstate: this.state,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tloginUser: this.loginUser,\n\t\t\t\t\t\tlogoutUser: this.logoutUser,\n\t\t\t\t\t\tsetUserState: this.setUserState,\n\t\t\t\t\t\tsetUserActivity: this.setUserActivity,\n\t\t\t\t\t\tsetUserEmail: this.setUserEmail,\n\t\t\t\t\t\ttoggleShowNotificationCenter: this.toggleShowNotificationCenter,\n\t\t\t\t\t\tcloseNotificationCenter: this.closeNotificationCenter,\n\t\t\t\t\t\tnotification: {\n\t\t\t\t\t\t\tsetAsReaded: this.setNotificationAsReaded,\n\t\t\t\t\t\t\tsetAllAsReaded: this.setAllNotificationsAsReaded,\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.props.children}\n\t\t\t</UserContext.Provider>\n\t\t);\n\t}\n}\n\nexport function withUserContext(Component) {\n\tclass ComponentWithContext extends React.Component {\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<UserContext.Consumer>\n\t\t\t\t\t{(value) => <Component {...this.props} userProvider={{ ...value }} />}\n\t\t\t\t</UserContext.Consumer>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn ComponentWithContext;\n}\n","import React, { useState, useEffect, useContext } from 'react';\nimport './style.scss';\nimport { MapContext } from '../../context/MapContext';\nimport { UserContext } from '../../context/UserContext';\n\nimport AuctionCard from '../../components/AuctionCard/AuctionCard';\nimport LandCard from '../../components/LandCard/LandCard';\n\nimport { indexMyOpenAuctions, indexMyLands } from '../../lib/api';\nimport { networkError } from '../../lib/notifications';\nimport Pagination from '@material-ui/lab/Pagination';\nimport {Trans, useTranslation } from 'react-i18next'\n\nconst Overview = () => {\n\tconst { t, i18n } = useTranslation();\n\tconst [listAuctions, setListAuctions] = useState('');\n\tconst [numberOfAuctionPages, setNumberOfAuctionPages] = useState(0);\n\tconst [currentAuctionPage, setCurrentAuctionPage] = useState(1);\n\n\tconst [listLands, setListLands] = useState('');\n\tconst [numberOfLandPages, setNumberOfLandPages] = useState(0);\n\tconst [currentLandPage, setCurrentLandPage] = useState(1);\n\tconst [userAuthenticated, setUserAuthenticated] = useState(true);\n\n\tconst { actions: mapActions } = useContext(MapContext);\n\tconst { state: userState } = useContext(UserContext);\n\n\tfunction loadAuctionsByPage(page) {\n\t\t// Call API function\n\t\tindexMyOpenAuctions(null, page)\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(response);\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t// Load Auctions in MapContext\n\t\t\t\t\tmapActions.changeAuctionList(response.data.auctions);\n\n\t\t\t\t\tif (response.data.auctions.length > 0) {\n\t\t\t\t\t\t// Load user data in context store\n\t\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\t\tresponse.data.auctions.map((obj) => (\n\t\t\t\t\t\t\t\t<AuctionCard\n\t\t\t\t\t\t\t\t\tkey={obj.land.hexId}\n\t\t\t\t\t\t\t\t\tvalue={obj.land.auction.currentWorth}\n\t\t\t\t\t\t\t\t\tbackground_image={`url(${obj.land.mapTileUrl}`}\n\t\t\t\t\t\t\t\t\tname={{ sentence: obj.land.sentenceId, hex: obj.land.hexId }}\n\t\t\t\t\t\t\t\t\tlocation={obj.land.address.full}\n\t\t\t\t\t\t\t\t\tmarket_status={obj.land.marketStatus}\n\t\t\t\t\t\t\t\t\tuser_perspective={obj.land.userPerspective}\n\t\t\t\t\t\t\t\t\tdate_end={obj.land.auction.closeAt}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNumberOfAuctionPages(response.data.numberOfPages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetListAuctions(\n\t\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t\t\t<Trans i18nKey=\"Overview.no.auctions.open\">\n\t\t\t\t\t\t\t\t\t\tThere is currently no <div className=\"c-status-badge\">OPEN</div> auction\n\t\t\t\t\t\t\t\t\t</Trans>{' '}⚡️\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t\t\t{t('Overview.browse.ovr.lands')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetUserAuthenticated(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tconsole.error(error);\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction loadLandsByPage(page) {\n\t\t// Call API function\n\t\tindexMyLands(null, page)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t// Load Lands in MapContext\n\t\t\t\t\tif (response.data.lands.length > 0) {\n\t\t\t\t\t\t// Load user data in context store\n\t\t\t\t\t\tsetListLands(\n\t\t\t\t\t\t\tresponse.data.lands.map((obj) => (\n\t\t\t\t\t\t\t\t<LandCard\n\t\t\t\t\t\t\t\t\tkey={obj.hexId}\n\t\t\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\t\t\tvalue={obj.currentWorth}\n\t\t\t\t\t\t\t\t\tbackground_image={`url(${obj.mapTileUrl}`}\n\t\t\t\t\t\t\t\t\tname={{ sentence: obj.sentenceId, hex: obj.hexId }}\n\t\t\t\t\t\t\t\t\tlocation={obj.address.full}\n\t\t\t\t\t\t\t\t\ticon={{ url: './assets/icons/icon_deal.png', isSvg: false }}\n\t\t\t\t\t\t\t\t\tdate_end={obj.auction.closeAt}\n\t\t\t\t\t\t\t\t></LandCard>\n\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNumberOfLandPages(response.data.numberOfPages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetListLands(\n\t\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">{t('Overview.no.lands')}</div>\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">{t('Overview.browse.lands')}</div>\n\t\t\t\t\t\t\t</div>,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tconsole.error(error);\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction handleAuctionPageClick(event, number) {\n\t\tloadAuctionsByPage(number);\n\t\tsetCurrentAuctionPage(number);\n\t}\n\n\tfunction handleLandPageClick(event, number) {\n\t\tloadLandsByPage(number);\n\t\tsetCurrentLandPage(number);\n\t}\n\n\tfunction loadWeb3Transactions() {\n\t\tif (userState.ico) {\n\t\t\t// let trans = window.web3.eth.getBlock('pending').transactions;\n\t\t\t// console.log(trans);\n\n\t\t\t// window.addEventListener('load', async () => {\n\t\t\t// \tlet trans = await window.web3.eth.getBlock('pending', function (err, transactionHash) {\n\t\t\t// \t\tif (!err) {\n\t\t\t// \t\t\tconsole.log(transactionHash);\n\t\t\t// \t\t}\n\t\t\t// \t});\n\t\t\t// });\n\t\t\t// BEST\n\t\t\t// console.log('window.ethereum.networkVersion', window.ethereum.networkVersion)\n\t\t\t// let userAddress = window.web3.eth.defaultAccount;\n\t\t\t// console.log(userAddress);\n\t\t\t// window.web3.eth.getTransactionCount(userAddress, (err, txCount) => {\n\t\t\t// \tconsole.log('txCount', txCount);\n\t\t\t// \tlet n = txCount;\n\t\t\t// \twindow.web3.eth.getBlockNumber((err, currentBlock) => {\n\t\t\t// \t\tconsole.log('error', err);\n\t\t\t// \t\tconsole.log('currentBlock', currentBlock);\n\t\t\t// \t\twindow.web3.eth.getBalance(userAddress, currentBlock, (err, balance) => {\n\t\t\t// \t\t\tconsole.log('balance', balance);\n\t\t\t// \t\t\tlet bal = userState.ovrsOwned;\n\t\t\t// \t\t\tconsole.log('bal', bal);\n\t\t\t// \t\t\tconsole.log('bal', bal > 0);\n\t\t\t// \t\t\tfor (var i = currentBlock; i >= currentBlock - 5 && (n > 0 || bal > 0); --i) {\n\t\t\t// \t\t\t\twindow.web3.eth.getBlock(i, true, (err, block) => {\n\t\t\t// \t\t\t\t\t// console.log('block', block)\n\t\t\t// \t\t\t\t\tif (block && block.transactions) {\n\t\t\t// \t\t\t\t\t\tblock.transactions.forEach(function (e) {\n\t\t\t// \t\t\t\t\t\t\t// console.log('userAddress ->', userAddress);\n\t\t\t// \t\t\t\t\t\t\t// console.log('e.from ->', e.from);\n\t\t\t// \t\t\t\t\t\t\tif (userAddress == e.from) {\n\t\t\t// \t\t\t\t\t\t\t\tconsole.log('transaction from', e);\n\t\t\t// \t\t\t\t\t\t\t\tif (e.from != e.to) bal = bal.plus(e.value);\n\t\t\t// \t\t\t\t\t\t\t\tconsole.log(i, e.from, e.to, e.value.toString(10));\n\t\t\t// \t\t\t\t\t\t\t\t--n;\n\t\t\t// \t\t\t\t\t\t\t}\n\t\t\t// \t\t\t\t\t\t\tif (userAddress == e.to) {\n\t\t\t// \t\t\t\t\t\t\t\tconsole.log('transaction to', e);\n\t\t\t// \t\t\t\t\t\t\t\tif (e.from != e.to) bal = bal.minus(e.value);\n\t\t\t// \t\t\t\t\t\t\t\tconsole.log(i, e.from, e.to, e.value.toString(10));\n\t\t\t// \t\t\t\t\t\t\t}\n\t\t\t// \t\t\t\t\t\t});\n\t\t\t// \t\t\t\t\t}\n\t\t\t// \t\t\t\t});\n\t\t\t// \t\t\t}\n\t\t\t// \t\t});\n\t\t\t// \t});\n\t\t\t// });\n\n\t\t\t// console.log('window.web3.eth', window.web3.eth)\n\n\t\t\t// console.log('currentBlock',currentBlock)\n\t\t\t// var n = txCount\n\t\t\t// var bal = window.web3.eth.getBalance(userAddress, currentBlock);\n\t\t\t// for (var i = currentBlock; i >= 0 && (n > 0 || bal > 0); --i) {\n\t\t\t// \ttry {\n\t\t\t// \t\tvar block = window.web3.eth.getBlock(i, true);\n\t\t\t// \t\tif (block && block.transactions) {\n\t\t\t// \t\t\tblock.transactions.forEach(function (e) {\n\t\t\t// \t\t\t\tif (userAddress == e.from) {\n\t\t\t// \t\t\t\t\tif (e.from != e.to) bal = bal.plus(e.value);\n\t\t\t// \t\t\t\t\tconsole.log(i, e.from, e.to, e.value.toString(10));\n\t\t\t// \t\t\t\t\t--n;\n\t\t\t// \t\t\t\t}\n\t\t\t// \t\t\t\tif (userAddress == e.to) {\n\t\t\t// \t\t\t\t\tif (e.from != e.to) bal = bal.minus(e.value);\n\t\t\t// \t\t\t\t\tconsole.log(i, e.from, e.to, e.value.toString(10));\n\t\t\t// \t\t\t\t}\n\t\t\t// \t\t\t});\n\t\t\t// \t\t}\n\t\t\t// \t} catch (e) {\n\t\t\t// \t\tconsole.error('Error in block ' + i, e);\n\t\t\t// \t}\n\t\t\t// }\n\t\t}\n\t\t// getTransactionsByAccount(eth.accounts[0])\n\t\t// window.web3.eth.getPendingTransactions().then(console.log);\n\t}\n\n\tuseEffect(() => {\n\t\tmapActions.disableSingleView();\n\t\tloadAuctionsByPage();\n\t\tloadLandsByPage();\n\t\tloadWeb3Transactions();\n\t}, [userState.ico, userState.ovrsOwned]);\n\n\tlet customReturn;\n\n\tif (userAuthenticated) {\n\t\tcustomReturn = (\n\t\t\t<div className=\"Overview\">\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<h2 className=\"o-section-title\">{t('Overview.auctions.label')}</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"o-auction-list\">{listAuctions}</div>\n\t\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t\t{numberOfAuctionPages > 1 && (\n\t\t\t\t\t\t\t<Pagination count={numberOfAuctionPages} page={currentAuctionPage} onChange={handleAuctionPageClick} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<h2 className=\"o-section-title\">{t('Overview.my.ovrlands')}</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"o-land-list\">{listLands}</div>\n\t\t\t\t\t<div className=\"o-pagination\">\n\t\t\t\t\t\t{numberOfLandPages > 1 && (\n\t\t\t\t\t\t\t<Pagination count={numberOfLandPages} page={currentLandPage} onChange={handleLandPageClick} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tcustomReturn = (\n\t\t\t<div className=\"Overview\">\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t{t('Overview.login.required')}\n\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"Cool dude\">\n\t\t\t\t\t\t\t\t😎\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">{t('Overview.login.to.browse')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn customReturn;\n};\n\nexport default Overview;\n","const ovrAbi = [\n\t{\n\t\t\"inputs\": [],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"constructor\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"tokenOwner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"spender\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokens\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"Approval\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"from\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"to\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokens\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"Transfer\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"_totalSupply\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"tokenOwner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"spender\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"allowance\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"remaining\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"spender\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokens\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"approve\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"success\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"tokenOwner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"balanceOf\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"balance\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"decimals\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint8\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint8\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"name\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"a\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"b\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"safeAdd\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"c\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"a\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"b\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"safeDiv\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"c\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"a\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"b\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"safeMul\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"c\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"a\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"b\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"safeSub\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"c\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"symbol\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"totalSupply\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"to\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokens\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"transfer\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"success\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"from\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"to\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokens\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"transferFrom\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"success\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t}\n];\nexport default ovrAbi;\n\n","import React, { createContext, Component } from 'react';\nimport { removeToken, saveToken, isLogged, getToken, removeUser } from '../lib/auth';\nimport { successNotification, networkError, dangerNotification, warningNotification } from '../lib/notifications';\nimport { userProfile, getUserNonce, signUpPublicAddress, signIn, sendPreAuctionStart, sendConfirmAuctionStart, sendPreAuctionBid, signUpLoginMetamask, getGasPrice } from '../lib/api';\nimport {promisify} from '../lib/config';\nimport config from '../lib/config';\nimport { promisifyAll } from 'bluebird';\nimport { ethers } from 'ethers';\nimport { UserContext } from './UserContext';\nimport { useHistory } from 'react-router-dom';\nimport {abi} from '../contract/abi';\nimport ovrAbi from '../contract/ovrAbi';\n\nexport const Web3Context = createContext();\n\nexport class Web3Provider extends Component {\n  static contextType = UserContext;\n  constructor(props) {\n    super(props);\n    this.state = {\n\t\t\tsetupComplete: false,\n\t\t\tprovider: null,\n\t\t\tsigner: null,\n      address: null,\n\t\t\tovrsOwned: 0,\n\t\t\tgasLandCost: 0,\n      perEth: 0,\n      perUsd: 0,\n      lastTransaction: \"0x0\"\n    };\n  }\n\n  componentDidMount() {\n    // If logged setup Web3\n    if (isLogged()) {\n      this.setupWeb3((res) =>{\n        if( res == false ){\n          this.context.actions.logoutUser();\n        } \n      }, false)\n    }\n  }\n\n  setupWeb3 = async (callback, login=true) => {\n\t\tif (typeof web3 !== \"undefined\") {\n\t\t\tawait window.ethereum.enable();\n\t\t\tlet provider = new ethers.providers.Web3Provider(window.ethereum);\n\t\t\tlet network = await provider.getNetwork();\n\t\t\tlet chainId = network.chainId;\n\t\t\tlet signer = provider.getSigner(0);\n\t\t\tlet address = await signer.getAddress();\n\t\t\t\n\t\t\tif (address == undefined) {\n\t\t\t\t// Metamask found, but not logged in\n\t\t\t\tcallback(false)\n\t\t\t} else {\n\t\t\t\t// Metamask found, logged in, check chainId\n\t\t\t\tlet web3NetworkVersion = parseInt(chainId) === config.web3network;\n\t\t\t\tif( web3NetworkVersion === false ) {\n\t\t\t\t\t// Wrong Network\n          warningNotification(this.props.t('Warning.metamask.wrong.network.title'), this.props.t('Warning.metamask.wrong.network.desc'));\n\t\t\t\t\tcallback(false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// Metamask found, logged in, chainId correct\n\t\t\t\tthis.setState({\n\t\t\t\t\t\"provider\": provider,\n\t\t\t\t\t\"signer\": signer,\n\t\t\t\t\t\"address\": address,\n\t\t\t\t\t\"chainId\": chainId,\n\t\t\t\t\t\"setupComplete\": true\n\t\t\t\t});\n\n        // Centralized Login\n        if(login == true){\n          await this.handleCentralizedLogin(address, callback)\n\t\t\t\t}\n\t\t\t\tthis.keepUpdatedGasPrice()\n\t\t\t}\n\t\t} else {\n\t\t\t// Metamask not detected\n\t\t\twarningNotification(this.props.t('Warning.metamask.not.detected.title'), this.props.t('Warning.metamask.not.detected.desc'));\n\t\t\tcallback(false);\n\t\t\treturn false;\n\t\t}\n  };\n\t\n\t//\n\t// Transactions helper\n\t//\n\n\trefreshGasPrice = async => {\n\t\tgetGasPrice().then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\tthis.setState({gasLandCost: (response.data.landGasCost * 590).toFixed(2)}) // Remove * 590\n\t\t\t\t} \n\t\t});\n\t}\n\n\tkeepUpdatedGasPrice = () => {\n\t\tthis.refreshGasPrice();\n\t\tsetInterval(() => {\n\t\t\tthis.refreshGasPrice();\n\t\t}, 30000)\n\t}\n\n\tgetUSDValueInOvr = (usd = 1) => {\n\t\tlet floorValue = 0.1;\n\t\t// TODO get value of OVR token and if it's more than 0.1 use it as floor\n\t\treturn (usd / floorValue).toFixed(2);\n\t}\n\n\tauthorizeOvrExpense = async ( ovr = \"10000\" ) => {\n\t\twindow.ethereum.enable() \n\t\tlet contractAsAccount = new ethers.Contract(config.apis.OVRContract, ovrAbi, this.state.signer)\n\t\tconst howMuchTokens = ethers.utils.parseUnits(ovr, 18)\n\t\tawait contractAsAccount.approve(config.apis.walletApproved, howMuchTokens)\n\t}\n\n  //\n  // Centralized authentication with Metamask\n  //\n\n  handleCentralizedLogin(publicAddress, callback) {\n\t\tsignUpLoginMetamask(publicAddress).then((response) => {\n\t\t\tgetUserNonce(publicAddress).then((response) => {\n\t\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t\t\tlet nonce = response.data.user.nonce;\n\t\t\t\t\t\t\tthis.handleUserSignMessage(publicAddress, nonce, callback);\n\t\t\t\t\t} \n\t\t\t});\n\t\t});\n  }\n\n  handleUserSignMessage = async (publicAddress, nonce, callback) => {\n\t\tlet signature = await this.state.signer.signMessage(`I am signing my one-time nonce: ${nonce}`)\n\t\tthis.handleAuthenticate(publicAddress, signature, callback);\n  };\n\n  handleAuthenticate = (publicAddress, signature, callback) => {\n    signIn(publicAddress, signature).then((response) => {\n      if (response.data.result === true) {\n\t\t\t\t// Save data in store\n\t\t\t\tthis.context.actions.loginUser(response.data.token, response.data.user);\n\t\t\t\tthis.setState({gasLandCost: response.data.gas.landGasCost})\n\t\t\t\t\n        if (callback) {\n          callback();\n        }\n      } else {\n        dangerNotification(this.props.t('Danger.unable.login.title'), response.data.errors[0].message);\n      }\n    });\n  };\n\n  render() {\n    return (\n      <Web3Context.Provider\n        value={{\n          state: this.state,\n          actions: {\n\t\t\t\t\t\tsetupWeb3: this.setupWeb3,\n\t\t\t\t\t\tauthorizeOvrExpense: this.authorizeOvrExpense,\n\t\t\t\t\t\tgetUSDValueInOvr: this.getUSDValueInOvr\n          },\n        }}\n      >\n        {this.props.children}\n      </Web3Context.Provider>\n    );\n  }\n}\n\nexport function withWeb3Context(Component) {\n  class ComponentWithContext extends React.Component {\n    render() {\n      return (\n        <Web3Context.Consumer>\n          {(value) => <Component {...this.props} web3Provider={{ ...value }} />}\n        </Web3Context.Consumer>\n      );\n    }\n  }\n\n  return ComponentWithContext;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nconst HexButton = ({ className, onClick, url, text, target, ariaControls, ariaHaspopup, hexRef }) => {\n\tif (target) {\n\t\treturn (\n\t\t\t<a href={url} target={target} className={`HexButton ${className}`} onClick={onClick}>\n\t\t\t\t{text}\n\t\t\t</a>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={url}\n\t\t\t\tref={hexRef}\n\t\t\t\ttarget={target}\n\t\t\t\taria-controls={ariaControls}\n\t\t\t\taria-haspopup={ariaHaspopup}\n\t\t\t\tclassName={`HexButton ${className}`}\n\t\t\t\tonClick={onClick}\n\t\t\t\tautoFocus\n\t\t\t>\n\t\t\t\t{text}\n\t\t\t</Link>\n\t\t);\n\t}\n};\nHexButton.propTypes = {\n\thexRef: PropTypes.object,\n\tariaControls: PropTypes.string,\n\tariaHaspopup: PropTypes.string,\n\tclassName: PropTypes.string,\n\ttarget: PropTypes.string,\n\tonClick: PropTypes.func,\n\turl: PropTypes.string,\n\ttext: PropTypes.string,\n};\nexport default HexButton;\n","import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport config from '../../lib/config';\nimport { warningNotification, dangerNotification } from '../../lib/notifications';\nimport PropTypes from 'prop-types';\nimport { auctionBid } from '../../lib/api';\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Help from '@material-ui/icons/Help';\nimport { useTranslation } from 'react-i18next'\n\n\nconst BidOverlay = (props) => {\n\tconst { t, i18n } = useTranslation()\n\tconst { participateBid, approveOvrTokens } = props.web3Provider.actions;\n\tconst { lastTransaction, ovr, dai, tether, usdc, ico, perEth, perUsd, setupComplete, gasLandCost } = props.web3Provider.state;\n\tconst { hexId } = props.land;\n\tconst { marketStatus } = props.land;\n\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst [nextBid, setNextBid] = useState(10);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [metamaskMessage, setMetamaskMessage] = useState(t('MetamaskMessage.set.waiting'));\n\tconst [bid, setBid] = useState(0);\n\tconst [currentBid, setCurrentBid] = useState(props.currentBid);\n\tconst [bidProjection, setBidProjection] = useState(0);\n\tconst [bidProjectionCurrency, setBidProjectionCurrency] = useState('ovr');\n\tconst [gasProjection, setGasProjection]  = useState(0);\n\n\tconst [showOverlay, setShowOverlay] = useState(false);\n\tconst [classShowOverlay, setClassShowOverlay] = useState(false);\n\n\tconst anchorRef = React.useRef(null);\n\tconst [open, setOpen] = React.useState(false);\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveBidOverlay(false);\n\t\t// Bring the step at 0\n\t\tsetTimeout(function () {\n\t\t\tsetOpen(false);\n\t\t\tsetActiveStep(0);\n\t\t\tsetBid(0);\n\t\t\tsetBidProjectionCurrency('ovr');\n\t\t\tsetBidValid(false);\n\t\t}, 500);\n\t}\n\n\tconst getUserExpenseProjection = () => {\n\t\tlet projection = bidProjection + ' ' + bidProjectionCurrency.toUpperCase() + ' ( + ' + gasProjection + ' ' + bidProjectionCurrency.toUpperCase() + ' of GAS )'\n\t\treturn projection\n\t} \n\n\t// Listener for fadein and fadeout animation of overlay\n\tuseEffect(() => {\n\t\tif (props.mapProvider.state.activeBidOverlay) {\n\t\t\tsetShowOverlay(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassShowOverlay(true);\n\t\t\t}, 50);\n\t\t} else {\n\t\t\tsetClassShowOverlay(false);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowOverlay(false);\n\t\t\t}, 500);\n\t\t}\n\t}, [props.mapProvider.state.activeBidOverlay]);\n\n\tuseEffect(() => {\n\t\tupdateBidProjectionCurrency(bidProjectionCurrency);\n\t}, [bid]);\n\n\tuseEffect(() => {\n\t\tsetGasProjection(gasLandCost)\n\t}, [gasLandCost]);\n\t\n\n\t// Init helpers web3\n\tuseEffect(() => {\n\t\tif (setupComplete) setNextBidSelectedLand();\n\t}, [setupComplete, ico, ovr, hexId, marketStatus, props.currentBid]);\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete) {\n\t\t\treturn false;\n\t\t}\n\t\t// const landId = parseInt(hexId, 16);\n\t\t// const land = await ico.landsAsync(landId);\n\t\t// const currentBid = String(window.web3.fromWei(land[2]));\n\n\t\tsetCurrentBid(parseFloat(props.currentBid));\n\t\tsetNextBid(props.currentBid * 2);\n\t};\n\n\t// Toggle bidding menu of selection currencies\n\tconst handleClose = (event) => {\n\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\treturn;\n\t\t}\n\t\tsetOpen(false);\n\t};\n\n\tconst handleClick = () => {\n\t\tsetOpen(true);\n\t};\n\n\t// Update bid value in state\n\tconst updateNewBidValue = (myBid) => {\n\t\tif (myBid >= nextBid) {\n\t\t\tsetBidValid(true);\n\t\t} else {\n\t\t\tsetBidValid(false);\n\t\t}\n\t\tsetBid(myBid);\n\t};\n\n\t// Helper used to check if the user is logged in\n\tconst checkUserLoggedIn = () => {\n\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\tsetActiveStep(0);\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc'));\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\t// Change the bid projection on selection\n\tconst updateBidProjectionCurrency = (type) => {\n\t\tsetBidProjection(bid);\n\t\tsetBidProjectionCurrency('ovr');\n\t\t// switch (type) {\n\t\t// \tcase 'ovr':\n\t\t// \t\tsetBidProjection(bid);\n\t\t// \t\tsetBidProjectionCurrency('ovr');\n\t\t// \t\tbreak;\n\t\t// \tcase 'eth':\n\t\t// \t\tsetBidProjection(((1 / perEth) * (bid / 10) * 2).toFixed(4));\n\t\t// \t\tsetBidProjectionCurrency('eth');\n\t\t// \t\tbreak;\n\t\t// \tcase 'usdt':\n\t\t// \t\tsetBidProjection((bid / 10) * 2);\n\t\t// \t\tsetBidProjectionCurrency('usdt');\n\t\t// \t\tbreak;\n\t\t// \tcase 'usdc':\n\t\t// \t\tsetBidProjection((bid / 10) * 2);\n\t\t// \t\tsetBidProjectionCurrency('usdc');\n\t\t// \t\tbreak;\n\t\t// \tcase 'dai':\n\t\t// \t\tsetBidProjection((bid / 10) * 2);\n\t\t// \t\tsetBidProjectionCurrency('dai');\n\t\t// \t\tbreak;\n\t\t// }\n\t};\n\n\tconst participateInAuction = async (type) => {\n\t\tif (bid < nextBid)\n\t\t\treturn warningNotification(t('Warning.invalid.bid.title'), t('Warning.invalid.bid.desc'));\n\t\tif (!checkUserLoggedIn()) return;\n\n\t\t// Centralized\n\t\t// TODOOOO CHECK ALLOWANCE await authorizeOvrExpense(); //bid+gasProjection\n\t\tauctionBid(hexId, bid, gasProjection)\n\t\t.then((response) => {\n\t\t\tif (response.data.result === true) {\n\t\t\t\tsetActiveStep(2);\n\t\t\t\tconsole.log('sendConfirmAuctionStart - response true', response.data);\n\t\t\t} else {\n\t\t\t\t// setActiveStep(0);\n\t\t\t\tdangerNotification(t('Danger.error.processing.title'), response.data.errors[0].message);\n\t\t\t\tsetActiveStep(0);\n\t\t\t}\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\n\t\t// Decentralized\n\t\t// setActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t// try {\n\t\t// \tswitch (type) {\n\t\t// \t\tcase 'eth':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.eth'));\n\t\t// \t\t\tawait participateBid(0, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'dai':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.dai'));\n\t\t// \t\t\tawait approveOvrTokens(true, dai);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.dai'));\n\t\t// \t\t\tawait participateBid(1, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'usdt':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdt'));\n\t\t// \t\t\tawait approveOvrTokens(true, tether);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.usdt'));\n\t\t// \t\t\tawait participateBid(2, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'usdc':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdc'));\n\t\t// \t\t\tawait approveOvrTokens(true, usdc);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.usdc'));\n\t\t// \t\t\tawait participateBid(3, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'ovr':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.ovr'));\n\t\t// \t\t\tawait approveOvrTokens(true, ovr);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.ovr'));\n\t\t// \t\t\tawait participateBid(4, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t}\n\t\t// } catch (e) {\n\t\t// \tsetOpen(false);\n\t\t// \tsetActiveStep(0);\n\t\t// \treturn dangerNotification(t('Danger.error.processing.title'), e.message);\n\t\t// }\n\t\t// setActiveStep(2);\n\t};\n\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BidOverlay.place.bid')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t{/* <div className=\"Overlay__currency_cont\">\n\t\t\t\t\t\t\t\t<div className=\"c-currency-selector_cont\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'ovr' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('ovr')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.ovr.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'eth' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('eth')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.eth.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'dai' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('dai')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.dai.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'usdt' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('usdt')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.usdt.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'usdc' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('usdc')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.usdc.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t<div className=\"Overlay__bids_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BidOverlay.current.bid')}</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BidOverlay.min.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={nextBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__your_bid\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BidOverlay.your.bid')}</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tconst eventBid = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\tif (eventBid > 0) updateNewBidValue(eventBid);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__expense_projection\">\n\t\t\t\t\t\t\t\t{bid >= 10 &&\n\t\t\t\t\t\t\t\t\tprops.userProvider.state.isLoggedIn && getUserExpenseProjection()}\n\t\t\t\t\t\t\t\t{bid >= 10 && props.userProvider.state.isLoggedIn && (\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('BidOverlay.use.direct')}\n\t\t\t\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('BidOverlay.click.to.buy')}\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\taria-label=\"info\"\n\t\t\t\t\t\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<a href={'https://www.ovr.ai'} rel=\"noopener noreferrer\" target={'_blank'}>\n\t\t\t\t\t\t\t\t\t\t\t<Help className=\"Help\" />\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('BidOverlay.place.bid.label')}\n\t\t\t\t\t\t\t\t\tclassName={`--orange ${bidValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tariaControls={open ? 'mint-fade-menu' : undefined}\n\t\t\t\t\t\t\t\t\tariaHaspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={() => participateInAuction(bidProjectionCurrency)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BidOverlay.bidding.land')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BidOverlay.current.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BidOverlay.your.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__congrat_title\">\n\t\t\t\t\t\t\t\t<span>{t('Generic.congrats.label')}</span>\n\t\t\t\t\t\t\t\t<br></br>{t('BidOverlay.request.sent')}\n\t\t\t\t\t\t\t\t{/* <div className=\"Overlay__etherscan_link\">\n\t\t\t\t\t\t\t\t\t<a href={config.apis.etherscan + '/tx/' + lastTransaction} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t{t('BidOverlay.view.status')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Your bid</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__close-button_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.close.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!showOverlay) return null;\n\n\treturn (\n\t\t<div className={`OverlayContainer ${classShowOverlay ? '--js-show' : ''}`}>\n\t\t\t<div className=\"RightOverlay__backpanel\"> </div>\n\t\t\t<div\n\t\t\t\tkey=\"bid-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`RightOverlay BidOverlay NormalInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className=\"Icon Overlay__close_button\" onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#c0c1c0\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nBidOverlay.propTypes = {\n\tcurrentBid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withUserContext(withWeb3Context(withMapContext(BidOverlay)));\n","import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport config from '../../lib/config';\nimport { warningNotification, dangerNotification } from '../../lib/notifications';\nimport PropTypes from 'prop-types';\nimport { auctionCreate } from '../../lib/api';\n\n\n\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport Help from '@material-ui/icons/Help';\nimport { useTranslation } from 'react-i18next'\n\n\nconst MintOverlay = (props) => {\n\tconst { t, i18n } = useTranslation()\n\n\tconst { authorizeOvrExpense, getUSDValueInOvr } = props.web3Provider.actions;\n\tconst { lastTransaction, ovr, dai, tether, usdc, ico, perEth, perUsd, setupComplete, gasLandCost } = props.web3Provider.state;\n\tconst { hexId } = props.land;\n\tconst { marketStatus } = props.land;\n\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst [nextBid, setNextBid] = useState(10);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [metamaskMessage, setMetamaskMessage] = useState(t('MetamaskMessage.set.waiting'));\n\tconst [currentBid, setCurrentBid] = useState(props.currentBid);\n\tconst [bid, setBid] = useState(0);\n\tconst [bidProjection, setBidProjection] = useState(0);\n\tconst [bidProjectionCurrency, setBidProjectionCurrency] = useState('ovr');\n\tconst [gasProjection, setGasProjection]  = useState(0);\n\tconst [showOverlay, setShowOverlay] = useState(false);\n\tconst [classShowOverlay, setClassShowOverlay] = useState(false);\n\n\tconst anchorRef = React.useRef(null);\n\tconst [open, setOpen] = React.useState(false);\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveMintOverlay(false);\n\t\tsetTimeout(() => {\n\t\t\tsetOpen(false);\n\t\t\tsetActiveStep(0);\n\t\t\tsetBid(0);\n\t\t\tsetBidProjectionCurrency('ovr');\n\t\t\tsetBidValid(false);\n\t\t}, 500);\n\t}\n\n\tconst getUserExpenseProjection = () => {\n\t\tlet projection = bidProjection + ' ' + bidProjectionCurrency.toUpperCase() + ' ( + ' + gasProjection + ' ' + bidProjectionCurrency.toUpperCase() + ' of GAS )'\n\t\treturn projection\n\t} \n\n\t// Listener for fadein and fadeout animation of overlay\n\tuseEffect(() => {\n\t\tif (props.mapProvider.state.activeMintOverlay) {\n\t\t\tsetShowOverlay(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassShowOverlay(true);\n\t\t\t}, 50);\n\t\t} else {\n\t\t\tsetClassShowOverlay(false);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowOverlay(false);\n\t\t\t}, 500);\n\t\t}\n\t}, [props.mapProvider.state.activeMintOverlay]);\n\n\tuseEffect(() => {\n\t\tupdateBidProjectionCurrency(bidProjectionCurrency);\n\t}, [bid]);\n\n\tuseEffect(() => {\n\t\tsetGasProjection(gasLandCost)\n\t}, [gasLandCost]);\n\n\t// Init helpers web3\n\tuseEffect(() => {\n\t\tif (setupComplete) setNextBidSelectedLand();\n\t}, [setupComplete, ico, ovr, hexId, marketStatus, props.currentBid]);\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete) {\n\t\t\treturn false;\n\t\t}\n\t\tsetNextBid(parseFloat(props.currentBid));\n\t\tsetCurrentBid(props.currentBid);\n\t};\n\n\t// Toggle bidding menu of selection currencies\n\tconst handleClose = (event) => {\n\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\treturn;\n\t\t}\n\t\tsetOpen(false);\n\t};\n\tconst handleClick = () => {\n\t\tsetOpen(true);\n\t};\n\n\t// Update bid value in state\n\tconst updateNewBidValue = (myBid) => {\n\t\tif (myBid >= nextBid) {\n\t\t\tsetBidValid(true);\n\t\t} else {\n\t\t\tsetBidValid(false);\n\t\t}\n\t\tsetBid(myBid);\n\t};\n\n\t// Helper used to check if the user is logged in\n\tconst checkUserLoggedIn = () => {\n\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\tsetActiveStep(0);\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc'));\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\t// Change the bid projection on selection\n\tconst updateBidProjectionCurrency = (type) => {\n\t\tswitch (type) {\n\t\t\tcase 'ovr':\n\t\t\t\tsetBidProjection(bid);\n\t\t\t\tsetBidProjectionCurrency('ovr');\n\t\t\t\tbreak;\n\t\t\tcase 'eth':\n\t\t\t\tsetBidProjection(((1 / perEth) * (bid / 10) * 2).toFixed(4));\n\t\t\t\tsetBidProjectionCurrency('eth');\n\t\t\t\tbreak;\n\t\t\tcase 'usdt':\n\t\t\t\tsetBidProjection((bid / 10) * 2);\n\t\t\t\tsetBidProjectionCurrency('usdt');\n\t\t\t\tbreak;\n\t\t\tcase 'usdc':\n\t\t\t\tsetBidProjection((bid / 10) * 2);\n\t\t\t\tsetBidProjectionCurrency('usdc');\n\t\t\t\tbreak;\n\t\t\tcase 'dai':\n\t\t\t\tsetBidProjection((bid / 10) * 2);\n\t\t\t\tsetBidProjectionCurrency('dai');\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst participateInAuction = async (type) => {\n\t\tif (bid < nextBid)\n\t\t\treturn warningNotification(t('Warning.invalid.bid.title'), t('Warning.invalid.bid.desc'));\n\t\tif (!checkUserLoggedIn()) return;\n\t\t\n\t\tawait authorizeOvrExpense(); //bid+gasProjection\n\n\t\t// Centralized\n\t\tauctionCreate(hexId, bid, gasProjection)\n\t\t.then((response) => {\n\t\t\tif (response.data.result === true) {\n\t\t\t\tsetActiveStep(2);\n\t\t\t} else {\n\t\t\t\t// console.log('responseFalse');\n\t\t\t\tdangerNotification(t('Danger.error.processing.title'), response.data.errors[0].message);\n\t\t\t\tsetActiveStep(0);\n\t\t\t}\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\n\t\t\n\t\t// Decentralized\n\n\t\t// setActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t// try {\n\t\t// \tswitch (type) {\n\t\t// \t\tcase 'ovr':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.ovr'));\n\t\t// \t\t\tawait approveOvrTokens(true, ovr);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.ovr'));\n\t\t// \t\t\tawait participateMint(4, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'eth':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.eth'));\n\t\t// \t\t\tawait participateMint(0, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'usdt':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdt'));\n\t\t// \t\t\tawait approveOvrTokens(true, tether);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.usdt'));\n\t\t// \t\t\tawait participateMint(2, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'usdc':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdc'));\n\t\t// \t\t\tawait approveOvrTokens(true, usdc);\n\t\t// \t\t\tsetMetamaskMessage(t('\"MetamaskMessage.set.participate.usdc'));\n\t\t// \t\t\tawait participateMint(3, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'dai':\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.dai'));\n\t\t// \t\t\tawait approveOvrTokens(true, dai);\n\t\t// \t\t\tsetMetamaskMessage(t('MetamaskMessage.set.participate.dai'));\n\t\t// \t\t\tawait participateMint(1, bid, hexId);\n\t\t// \t\t\tbreak;\n\t\t// \t}\n\t\t// } catch (e) {\n\t\t// \tsetOpen(false);\n\t\t// \tsetActiveStep(0);\n\t\t// \treturn dangerNotification(t('Danger.error.processing.title'), e.message);\n\t\t// }\n\t\t// setActiveStep(2);\n\t};\n\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('MintOverlay.start.auction')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t{/* {<div className=\"Overlay__currency_cont\">\n\t\t\t\t\t\t\t\t<div className=\"c-currency-selector_cont\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'ovr' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('ovr')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.ovr.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'eth' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('eth')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.eth.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'dai' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('dai')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.dai.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'usdt' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('usdt')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.usdt.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`c-currency-selector ${bidProjectionCurrency == 'usdc' ? '--selected' : ' '}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => updateBidProjectionCurrency('usdc')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Currency.usdc.label')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>} */}\n\t\t\t\t\t\t\t<div className=\"Overlay__bids_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('MintOverlay.min.bid')}</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid my-bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('MintOverlay.your.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst eventBid = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tif (eventBid > 0) updateNewBidValue(eventBid);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__expense_projection\">\n\t\t\t\t\t\t\t\t\t{bid >= currentBid &&\n\t\t\t\t\t\t\t\t\t\tprops.userProvider.state.isLoggedIn &&\n\t\t\t\t\t\t\t\t\t  getUserExpenseProjection()}\n\t\t\t\t\t\t\t\t\t{bid >= currentBid && props.userProvider.state.isLoggedIn && (\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Generic.bid.tooltip')}\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"info\"\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Help className=\"Help\" />\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('MintOverlay.place.bid')}\n\t\t\t\t\t\t\t\t\tclassName={`--orange ${bidValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tariaControls={open ? 'mint-fade-menu' : undefined}\n\t\t\t\t\t\t\t\t\tariaHaspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={() => participateInAuction(bidProjectionCurrency)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('MintOverlay.bidding.land')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('MintOverlay.your.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__congrat_title\">\n\t\t\t\t\t\t\t\t<span>{t('Generic.congrats.label')}</span>\n\t\t\t\t\t\t\t\t<br></br>{t('MintOverlay.about.to.start')}\n\t\t\t\t\t\t\t\t{/* <div className=\"Overlay__etherscan_link\">\n\t\t\t\t\t\t\t\t\t<a href={config.apis.etherscan + '/tx/' + lastTransaction} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t{t('MintOverlay.view.status')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Current bid</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__close-button_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.close.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!showOverlay) return null;\n\n\treturn (\n\t\t<div className={`OverlayContainer ${classShowOverlay ? '--js-show' : ''}`}>\n\t\t\t<div className=\"RightOverlay__backpanel\"> </div>\n\t\t\t<div\n\t\t\t\tkey=\"mint-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`RightOverlay MintOverlay NormalInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className=\"Icon Overlay__close_button\" onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#c0c1c0\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nMintOverlay.propTypes = {\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withUserContext(withWeb3Context(withMapContext(MintOverlay)));\n","import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport { networkError, warningNotification, dangerNotification } from '../../lib/notifications';\nimport { sellLand } from '../../lib/api';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next'\n\n\nconst SellOverlay = (props) => {\n\tconst { t, i18n } = useTranslation()\n\tconst { approveErc721Token, putLandOnSale } = props.web3Provider.actions;\n\tconst { ico, setupComplete } = props.web3Provider.state;\n\n\tconst { hexId } = props.land;\n\tconst { marketStatus } = props.land;\n\n\tconst [boughtAt, setBoughtAt] = useState(props.currentBid);\n\tconst [sellWorth, setNewSellWorth] = useState(props.currentBid);\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [metamaskMessage, setMetamaskMessage] = useState(t('MetamaskMessage.set.waiting'));\n\tconst [showOverlay, setShowOverlay] = useState(false);\n\tconst [classShowOverlay, setClassShowOverlay] = useState(false);\n\n\t// Listener for fadein and fadeout animation of overlay\n\tuseEffect(() => {\n\t\tif (props.mapProvider.state.activeSellOverlay) {\n\t\t\tsetShowOverlay(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassShowOverlay(true);\n\t\t\t}, 50);\n\t\t} else {\n\t\t\tsetClassShowOverlay(false);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowOverlay(false);\n\t\t\t}, 500);\n\t\t}\n\t}, [props.mapProvider.state.activeSellOverlay]);\n\n\t// Init helpers web3\n\tuseEffect(() => {\n\t\tif (setupComplete) setNextBidSelectedLand();\n\t}, [setupComplete, ico, hexId, marketStatus]);\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete || !ico) {\n\t\t\treturn false;\n\t\t}\n\t\tconst landId = parseInt(hexId, 16);\n\t\tconst land = await ico.landsAsync(landId);\n\t\tconst paid = String(window.web3.fromWei(land[2]));\n\t\tsetBoughtAt(paid);\n\t};\n\n\t// Update bid value in state\n\tconst updateNewSellWorth = (sellAt) => {\n\t\tif (sellAt === '') {\n\t\t\tsetBidValid(false);\n\t\t} else {\n\t\t\tsetBidValid(true);\n\t\t}\n\t\tsetNewSellWorth(sellAt);\n\t};\n\n\t// Helper used to check if the user is logged in\n\tconst checkUserLoggedIn = () => {\n\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\tsetActiveStep(0);\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc'));\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\t// Manages actions of overlay according to step number\n\tconst handleNext = async () => {\n\t\tif (activeStep + 1 === 1) {\n\t\t\tif (checkUserLoggedIn() === false) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\ttry {\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.erc721'));\n\t\t\t\t\tawait approveErc721Token(hexId);\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.waiting'));\n\t\t\t\t\tawait putLandOnSale(hexId, String(window.web3.toWei(sellWorth)), true);\n\t\t\t\t\t// TODO Centralized flux\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn dangerNotification(t('Danger.error.processing.title'), e.message);\n\t\t\t\t}\n\t\t\t\tsendSell();\n\t\t\t}\n\t\t} else {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t}\n\t};\n\n\t// Call centralized API functions\n\tfunction sendSell() {\n\t\tsellLand(props.land.key, sellWorth)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t// console.log('responseTrue', response.data);\n\t\t\t\t\tprops.reloadLandStatefromApi(props.land.key);\n\t\t\t\t\tsetActiveStep(2);\n\t\t\t\t} else {\n\t\t\t\t\t// response.data.errors[0].message\n\t\t\t\t\t// console.log('responseFalse');\n\t\t\t\t\tdangerNotification(t('Danger.unable.place.sell.title'), response.data.errors[0].message);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveSellOverlay(false);\n\t\t// Bring the step at 0\n\t\tsetTimeout(function () {\n\t\t\tsetActiveStep(0);\n\t\t\tsetNewSellWorth('');\n\t\t}, 200);\n\t}\n\n\t// Show content of overlay according to step number\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('SellOverlay.create.offer')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bids_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('SellOverlay.bought.at')}</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={boughtAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid my-bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">Sell at</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSellWorth(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('SellOverlay.place.sell')}\n\t\t\t\t\t\t\t\t\tclassName={`--purple ${bidValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tonClick={handleNext}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('SellOverlay.create.offer')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('SellOverlay.bought.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={boughtAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('SellOverlay.selling.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={sellWorth}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__congrat_title\">\n\t\t\t\t\t\t\t\t<span>{t('Generic.congrats.label')}</span>\n\t\t\t\t\t\t\t\t<br></br>{t('SellOverlay.sell.placed')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('SellOverlay.bought.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={boughtAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('SellOverlay.selling.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={sellWorth}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__close-button_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.close.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!showOverlay) return null;\n\n\treturn (\n\t\t<div className={`OverlayContainer ${classShowOverlay ? '--js-show' : ''}`}>\n\t\t\t<div className=\"RightOverlay__backpanel\"> </div>\n\t\t\t<div\n\t\t\t\tkey=\"sell-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`RightOverlay SellOverlay NormalInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className=\"Icon Overlay__close_button\" onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#c0c1c0\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nSellOverlay.propTypes = {\n\tprops: PropTypes.object,\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withUserContext(withWeb3Context(withMapContext(SellOverlay)));\n","import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport config from '../../lib/config';\nimport { warningNotification, dangerNotification } from '../../lib/notifications';\nimport PropTypes from 'prop-types';\n\nimport MomentUtils from '@date-io/moment';\nimport { MuiPickersUtilsProvider, DateTimePicker } from '@material-ui/pickers';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuList from '@material-ui/core/MenuList';\nimport { useTranslation } from 'react-i18next'\n\nconst today = new Date();\nconst tomorrow = new Date(today);\ntomorrow.setDate(tomorrow.getDate() + 1);\n\nconst BuyOfferOverlay = (props) => {\n\tconst { t, i18n } = useTranslation()\n\tconst { approveOvrTokens, participateBuyOffer } = props.web3Provider.actions;\n\tconst { lastTransaction, ovr, dai, tether, usdc, ico, setupComplete } = props.web3Provider.state;\n\tconst { hexId } = props.land;\n\tconst { marketStatus } = props.land;\n\n\tconst [bidValid, setBidValid] = useState(false);\n\tconst [proposedValue, setProposedValue] = useState('');\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [expirationDate, setExpirationDate] = useState(tomorrow);\n\tconst [metamaskMessage, setMetamaskMessage] = useState(t('MetamaskMessage.set.waiting'));\n\tconst [solidityExpirationDate, setSolidityExpirationDate] = useState(0);\n\tconst [showOverlay, setShowOverlay] = useState(false);\n\tconst [classShowOverlay, setClassShowOverlay] = useState(false);\n\n\tconst anchorRef = React.useRef(null);\n\tconst [open, setOpen] = React.useState(false);\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveBuyOfferOverlay(false);\n\t\t// Bring the step at 0\n\t\tsetTimeout(function () {\n\t\t\tsetOpen(false);\n\t\t\tsetActiveStep(0);\n\t\t\tsetProposedValue('');\n\t\t}, 500);\n\t}\n\n\t// Listener for fadein and fadeout animation of overlay\n\tuseEffect(() => {\n\t\tif (props.mapProvider.state.activeBuyOfferOverlay) {\n\t\t\tsetShowOverlay(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassShowOverlay(true);\n\t\t\t}, 50);\n\t\t} else {\n\t\t\tsetClassShowOverlay(false);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowOverlay(false);\n\t\t\t}, 500);\n\t\t}\n\t}, [props.mapProvider.state.activeBuyOfferOverlay]);\n\n\t// Init helpers web3\n\tuseEffect(() => {\n\t\tif (setupComplete) setNextBidSelectedLand();\n\t}, [setupComplete, ico, ovr, hexId, marketStatus]);\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete || !ico || !ovr) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\t// Toggle bidding menu of selection currencies\n\tconst handleClose = (event) => {\n\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\treturn;\n\t\t}\n\t\tsetOpen(false);\n\t};\n\n\tconst handleClick = () => {\n\t\tsetOpen(true);\n\t};\n\n\t// Update bid value in state\n\tconst updateProposedValue = (val) => {\n\t\tif (val != '') {\n\t\t\tsetBidValid(true);\n\t\t} else {\n\t\t\tsetBidValid(false);\n\t\t}\n\t\tsetProposedValue(val);\n\t};\n\n\t// Helper used to check if the user is logged in\n\tconst checkUserLoggedIn = () => {\n\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\tsetActiveStep(0);\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc'));\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tconst participateInAuction = async (type) => {\n\t\tif (!checkUserLoggedIn()) return;\n\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\ttry {\n\t\t\tconst now = Math.trunc(Date.now() / 1000);\n\t\t\tif (now >= solidityExpirationDate) {\n\t\t\t\twarningNotification(t('Warining.date.error'), t('Warning.future.notify'));\n\t\t\t\tsetActiveStep(0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tswitch (type) {\n\t\t\t\tcase 'ovr':\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.ovr'));\n\t\t\t\t\tawait approveOvrTokens(true, ovr);\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.buy.ovr'));\n\t\t\t\t\tawait participateBuyOffer(4, proposedValue, solidityExpirationDate, hexId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'eth':\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.buy.eth'));\n\t\t\t\t\tawait participateBuyOffer(0, proposedValue, solidityExpirationDate, hexId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'usdt':\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdt'));\n\t\t\t\t\tawait approveOvrTokens(true, tether);\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.buy.usct'));\n\t\t\t\t\tawait participateBuyOffer(2, proposedValue, solidityExpirationDate, hexId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'usdc':\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.usdc'));\n\t\t\t\t\tawait approveOvrTokens(true, usdc);\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.buy.usdc'));\n\t\t\t\t\tawait participateBuyOffer(3, proposedValue, solidityExpirationDate, hexId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'dai':\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.dai'));\n\t\t\t\t\tawait approveOvrTokens(true, dai);\n\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.buy.dai'));\n\t\t\t\t\tawait participateBuyOffer(1, proposedValue, solidityExpirationDate, hexId);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetOpen(false);\n\t\t\tsetActiveStep(0);\n\t\t\treturn dangerNotification(t('Danger.error.processing.title'), e.message);\n\t\t}\n\t\tsetActiveStep(2);\n\t};\n\n\tfunction handleDateChange(e) {\n\t\tsetSolidityExpirationDate(Math.trunc(e / 1000));\n\t\tsetExpirationDate(e);\n\t}\n\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BuyOfferOverlay.place.offer')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__lower__cont\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOverlay.current.value')}</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={props.currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__input\">\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\t\tlabel={t('BuyOfferOverlay.buy.at.label')}\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tvalue={proposedValue}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tconst propVal = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\tif (propVal > 0) updateProposedValue(propVal);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\n\t\t\t\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t\t\t\tformat=\"DD-MM-YYYY HH:mm\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"date-picker-inline\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('BuyOfferOverlay.expires.at.label')}\n\t\t\t\t\t\t\t\t\t\t\tvalue={expirationDate}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleDateChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\n\t\t\t\t\t\t\t\t\t{({ TransitionProps, placement }) => (\n\t\t\t\t\t\t\t\t\t\t<Grow\n\t\t\t\t\t\t\t\t\t\t\t{...TransitionProps}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t\t\t\t\t\t<ClickAwayListener onClickAway={handleClose}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuList autoFocusItem={open} id=\"mint-fade-menu\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparticipateInAuction('ovr');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu --cons-option\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.buy.using.ovr')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparticipateInAuction('eth');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.buy.using.eth')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparticipateInAuction('dai');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.buy.using.dai')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparticipateInAuction('usdt');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.buy.using.usdt')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparticipateInAuction('usdc');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.buy.using.usdc')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t\t\t\t\t\t\t</ClickAwayListener>\n\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t</Grow>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Popper>\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\thexRef={anchorRef}\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('BuyOfferOverlay.place.buy')}\n\t\t\t\t\t\t\t\t\tclassName={`--orange ${bidValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\tariaControls={open ? 'mint-fade-menu' : undefined}\n\t\t\t\t\t\t\t\t\tariaHaspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BuyOfferOverlay.place.offer')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOverlay.current.bid')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={props.currentBid}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__arrow\">\n\t\t\t\t\t\t\t\t\t<div className=\"Icon\">\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10px\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"17px\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 10 17\"\n\t\t\t\t\t\t\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(-792.000000, -469.000000)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"#D4CDD9\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M793.132554,484.641214 C793.210784,484.719949 793.317088,484.764519 793.428175,484.765159 C793.5396,484.7662 793.646532,484.721367 793.723796,484.641214 L800.694533,477.682613 C800.773611,477.604705 800.818124,477.498417 800.818124,477.387507 C800.818124,477.276596 800.773611,477.170308 800.694533,477.0924 L793.723796,470.132323 C793.61943,470.02095 793.462544,469.975232 793.314547,470.013063 C793.16655,470.050895 793.050984,470.16626 793.013086,470.313999 C792.975188,470.461739 793.020987,470.618352 793.132554,470.722535 L799.807671,477.387507 L793.132554,484.051002 C793.053844,484.129106 793.009585,484.23532 793.009585,484.346108 C793.009585,484.456896 793.053844,484.56311 793.132554,484.641214 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Path\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOverlay.your.offer')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={proposedValue}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__congrat_title\">\n\t\t\t\t\t\t\t\t<span>{t('Generic.congrats.label')}</span>\n\t\t\t\t\t\t\t\t<br></br>{t('BuyOfferOverlay.offer.sent')}\n\t\t\t\t\t\t\t\t<div className=\"Overlay__etherscan_link\">\n\t\t\t\t\t\t\t\t\t<a href={config.apis.etherscan + '/tx/' + lastTransaction} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t{t('BuyOfferOverlay.view.status')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOverlay.your.offer')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={proposedValue}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__close-button_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text=\"Close\" className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!showOverlay) return null;\n\n\treturn (\n\t\t<div className={`OverlayContainer ${classShowOverlay ? '--js-show' : ''}`}>\n\t\t\t<div className=\"RightOverlay__backpanel\"> </div>\n\t\t\t<div\n\t\t\t\tkey=\"bid-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`RightOverlay BuyOfferOverlay NormalInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className=\"Icon Overlay__close_button\" onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#c0c1c0\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nBuyOfferOverlay.propTypes = {\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withUserContext(withWeb3Context(withMapContext(BuyOfferOverlay)));\n","import React, { Component } from 'react';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport HexButton from '../HexButton/HexButton';\nimport Modal from '@material-ui/core/Modal';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\n\nimport { deleteBuyOffer, hitBuyOffer } from '../../lib/api';\nimport { networkError, dangerNotification, successNotification, warningNotification } from '../../lib/notifications';\nimport './style.scss';\nimport { Trans, useTranslation } from 'react-i18next'\n\nexport class BuyOfferOrder extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst pathHexId = window.location.pathname.split('/')[3];\n\t\tthis.state = {\n\t\t\topenModal: false,\n\t\t\tofferId: this.props.offer.id,\n\t\t\topenDeclineBuyModal: false,\n\t\t\tmetamaskMessage: '',\n\t\t\ttransactionInProcess: false,\n\t\t\thexId: pathHexId && pathHexId.length === 15 ? pathHexId : this.props.mapProvider.state.hex_id,\n\t\t};\n\n\t\tthis.confirmDeleteBuyOffer = this.confirmDeleteBuyOffer.bind(this);\n\t\tthis.confirmSell = this.confirmSell.bind(this);\n\t\tthis.handleOpen = this.handleOpen.bind(this);\n\t\tthis.handleClose = this.handleClose.bind(this);\n\t\tthis.buttonRender = this.buttonRender.bind(this);\n\t\tthis.setupComplete = this.props.web3Provider.state.setupComplete;\n\t}\n\n\tsetupListeners() {\n\t\tdocument.addEventListener('land-selected', (event) => {\n\t\t\tthis.setState({ hexId: event.detail.hex_id });\n\t\t});\n\t}\n\n\t// To delete/cancel a buy offer if you created it\n\tconfirmDeleteBuyOffer = async (offerId) => {\n\t\tconst { t, i18n } = useTranslation()\n\t\ttry {\n\t\t\tconst tx = await this.props.web3Provider.actions.cancelBuyOffer(offerId);\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: t('MetamaskMessage.cancel.buy'),\n\t\t\t\ttransactionInProcess: true,\n\t\t\t});\n\t\t\tawait this.props.web3Provider.actions.waitTx(tx);\n\t\t} catch (e) {\n\t\t\treturn dangerNotification(t('Danger.cancel.buy.title'), e.message);\n\t\t}\n\t\tsuccessNotification(t('Success.delete.title'), t('Success.request.process.desc'));\n\t\tthis.handleClose();\n\t};\n\n\t// To decline a buy offer\n\tdeclineBuyOffer = async (offerId) => {\n\t\tconst { t, i18n } = useTranslation()\n\t\ttry {\n\t\t\tconst tx = await this.props.web3Provider.actions.declineBuyOffer(offerId);\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: t('MetamaskMessage.decline.buy'),\n\t\t\t\ttransactionInProcess: true,\n\t\t\t});\n\t\t\tawait this.props.web3Provider.actions.waitTx(tx);\n\t\t} catch (e) {\n\t\t\treturn dangerNotification(t('Danger.decline.buy.title'), e.message);\n\t\t}\n\t\tsuccessNotification(t('Success.decline.title'), t('Success.request.process.desc'));\n\t\tthis.handleClose();\n\t};\n\n\t// To accept a buy offer and sell your land\n\tconfirmSell = async (offerId, landId) => {\n\t\tconst { t, i18n } = useTranslation()\n\t\ttry {\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: t('MetamaskMessage.approve.ovr'),\n\t\t\t\ttransactionInProcess: true,\n\t\t\t});\n\t\t\tawait this.props.web3Provider.actions.approveErc721Token(landId, true);\n\n\t\t\tthis.setState({\n\t\t\t\tmetamaskMessage: t('MetamaskMessage.accept.sell'),\n\t\t\t});\n\t\t\tconst newTx = await this.props.web3Provider.actions.acceptBuyOffer(offerId, landId);\n\t\t\tawait this.props.web3Provider.actions.waitTx(newTx);\n\t\t} catch (e) {\n\t\t\treturn dangerNotification(t('Danger.accept.buy.title'), e.message);\n\t\t}\n\t\tsuccessNotification(t('Success.land.sold.title'), t('Success.request.process.desc'));\n\t\tthis.handleClose();\n\t};\n\n\thandleOpen() {\n\t\tconst { t, i18n } = useTranslation()\n\t\tif (this.props.userProvider.state.isLoggedIn) {\n\t\t\tthis.setState({ openModal: true });\n\t\t} else {\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc.buy'));\n\t\t}\n\t}\n\n\topenDeclineModal = () => {\n\t\tconst { t, i18n } = useTranslation()\n\t\tif (this.props.userProvider.state.isLoggedIn) {\n\t\t\tthis.setState({ openDeclineBuyModal: true });\n\t\t} else {\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc.buy'));\n\t\t}\n\t};\n\n\thandleClose() {\n\t\tthis.setState({\n\t\t\topenModal: false,\n\t\t\topenDeclineBuyModal: false,\n\t\t\tmetamaskMessage: '',\n\t\t\ttransactionInProcess: false,\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.setupComplete) this.setupListeners();\n\t}\n\n\tbuttonRender() {\n\t\tconst { t, i18n } = useTranslation()\n\t\tlet customRender;\n\t\tif (!this.props.isOwner) {\n\t\t\tcustomRender = (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"section\">\n\t\t\t\t\t\t<button type=\"button\" className=\"orderTileButton\" onClick={this.handleOpen}>\n\t\t\t\t\t\t\t{t('BuyOfferOrder.accept.offer')}\n\t\t\t\t\t\t</button>{' '}\n\t\t\t\t\t\t<button type=\"button\" className=\"orderTileButton\" onClick={this.openDeclineModal}>\n\t\t\t\t\t\t\t{t('BuyOfferOrder.decline.offer')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"section\"></div>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\t\t\t\topen={this.state.openModal}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"BuyOfferModal\">\n\t\t\t\t\t\t\t<h2>{t('BuyOfferOrder.sell.confirmation')}</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<Trans i18nKey=\"BuyOfferOrder.sell.conf.ask\">\n\t\t\t\t\t\t\t\t\tDo you confirm the sell of this <b>OVRLand</b>?\n\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"OrderModal__bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOrder.sell.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={this.props.offer.price}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"blinking-message\">{this.state.metamaskMessage}</p>\n\t\t\t\t\t\t\t<div className=\"Modal__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('Generic.confirm.label')}\n\t\t\t\t\t\t\t\t\tclassName={this.state.transactionInProcess ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\t\t\tonClick={() => this.confirmSell(this.props.offer.id, this.props.offer.landId)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--outline\" onClick={this.handleClose}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\t\t\t\topen={this.state.openDeclineBuyModal}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"BuyOfferModal\">\n\t\t\t\t\t\t\t<h2>{t('BuyOfferOrder.decline.confirm')}</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<Trans i18nKey=\"BuyOfferOrder.decline.conf.ask\">\n\t\t\t\t\t\t\t\t\tDo you confirm to decline this buy offer for this <b>OVRLand</b>?\n\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"OrderModal__bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyOfferOrder.sell.at')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={this.props.offer.price}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"blinking-message\">{this.state.metamaskMessage}</p>\n\t\t\t\t\t\t\t<div className=\"Modal__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('Generic.confirm.label')}\n\t\t\t\t\t\t\t\t\tclassName={this.state.transactionInProcess ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\t\t\tonClick={() => this.declineBuyOffer(this.props.offer.id)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--outline\" onClick={this.handleClose}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\tcustomRender = (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"section\">\n\t\t\t\t\t\t<button type=\"button\" className=\"orderTileButton\" onClick={this.handleOpen}>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"section\"></div>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\t\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\t\t\t\topen={this.state.openModal}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"BuyOfferModal\">\n\t\t\t\t\t\t\t<h2>{t('BuyOfferOrder.delete.confirmation')}</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<Trans i18nKey=\"BuyOfferOrder.delete.ask\">\n\t\t\t\t\t\t\t\t\tDo you confirm the delete of this <b>Buy offer</b>?\n\t\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"blinking-message\">{this.state.metamaskMessage}</p>\n\t\t\t\t\t\t\t<div className=\"Modal__buttons_container\">\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('Generic.confirm.label')}\n\t\t\t\t\t\t\t\t\tclassName={this.state.transactionInProcess ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\t\t\tonClick={() => this.confirmDeleteBuyOffer(this.props.offer.id)}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--outline\" onClick={this.handleClose}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\treturn customRender;\n\t}\n\n\trender() {\n\t\tconst { t, i18n } = useTranslation();\n\t\treturn (\n\t\t\t<div className=\"BuyOfferTile\">\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<ValueCounter value={this.props.offer.price}></ValueCounter>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<b>{t('BuyOfferOrder.offer.order')}</b>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"section\">\n\t\t\t\t\t<span className=\"c-small-tile-text\">{t('BuyOfferOrder.expires.label')}</span>{' '}\n\t\t\t\t\t<TimeCounter date_end={new Date(this.props.offer.expirationDate * 1000)}></TimeCounter>\n\t\t\t\t</div>\n\t\t\t\t{this.buttonRender()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withUserContext(withWeb3Context(withMapContext(BuyOfferOrder)));\n","import React, { useState, useEffect } from 'react';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport HexButton from '../HexButton/HexButton';\nimport { warningNotification, dangerNotification } from '../../lib/notifications';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuList from '@material-ui/core/MenuList';\n\n// import { sellLand } from '../../lib/api';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next'\n\n\nconst BuyLandOverlay = (props) => {\n\tconst { t, i18n } = useTranslation()\n\tconst { approveOvrTokens, buy, buyLand } = props.web3Provider.actions;\n\tconst { ovr, ico, setupComplete } = props.web3Provider.state;\n\n\tconst { hexId } = props.land;\n\tconst { marketStatus } = props.land;\n\n\tconst [buyAt, setBuyAt] = useState(props.currentBid);\n\tconst [activeStep, setActiveStep] = useState(0);\n\tconst [metamaskMessage, setMetamaskMessage] = useState(t('MetamaskMessage.set.waiting'));\n\tconst [showOverlay, setShowOverlay] = useState(false);\n\tconst [classShowOverlay, setClassShowOverlay] = useState(false);\n\n\tconst anchorRef = React.useRef(null);\n\tconst [open, setOpen] = React.useState(false);\n\n\t// Listener for fadein and fadeout animation of overlay\n\tuseEffect(() => {\n\t\tif (props.mapProvider.state.activeBuyOverlay) {\n\t\t\tsetShowOverlay(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassShowOverlay(true);\n\t\t\t}, 50);\n\t\t} else {\n\t\t\tsetClassShowOverlay(false);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetShowOverlay(false);\n\t\t\t}, 500);\n\t\t}\n\t}, [props.mapProvider.state.activeBuyOverlay]);\n\n\t// Toggle bidding menu of selection currencies\n\tconst handleClose = (event) => {\n\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\treturn;\n\t\t}\n\t\tsetOpen(false);\n\t};\n\tconst handleClick = () => {\n\t\tsetOpen(true);\n\t};\n\n\t// Init helpers web3\n\tuseEffect(() => {\n\t\tif (setupComplete) setNextBidSelectedLand();\n\t}, [setupComplete, ico, hexId, marketStatus, props.mapProvider.state.activeBuyOverlay]);\n\n\tconst setNextBidSelectedLand = async () => {\n\t\tif (!setupComplete || !ico || !ovr) {\n\t\t\treturn false;\n\t\t}\n\t\tconst landId = parseInt(hexId, 16);\n\t\tconst land = await ico.landsAsync(landId);\n\t\tconst price = String(window.web3.fromWei(land[7]));\n\t\tsetBuyAt(price);\n\t};\n\n\tfunction setDeactiveOverlay(e) {\n\t\te.preventDefault();\n\t\tprops.mapProvider.actions.changeActiveBuyOverlay(false);\n\t\t// Bring the step at 0\n\t\tsetTimeout(function () {\n\t\t\tsetActiveStep(0);\n\t\t\tsetBuyAt(10);\n\t\t}, 200);\n\t}\n\n\t// Helper used to check if the user is logged in\n\tconst checkUserLoggedIn = () => {\n\t\tif (!props.userProvider.state.isLoggedIn) {\n\t\t\tsetActiveStep(0);\n\t\t\twarningNotification(t('Warning.invalid.auth.title'), t('Warning.invalid.auth.desc'));\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\t// Manages actions of overlay according to step number\n\tconst handleNext = async () => {\n\t\tif (activeStep + 1 === 1) {\n\t\t\tif (!checkUserLoggedIn()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlet currentBalance = await ovr.balanceOfAsync(window.web3.eth.defaultAccount);\n\t\t\t\tif (!currentBalance.greaterThan(buyAt)) {\n\t\t\t\t\treturn dangerNotification(t('Danger.balance.insuff.title'),t('Danger.balance.insuff.desc'),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.approve.ovr'));\n\t\t\t\tawait approveOvrTokens(true, ovr);\n\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.waiting.buy'));\n\t\t\t\tawait buyLand(hexId);\n\t\t\t\thandleNext();\n\t\t\t\t// TODO Centralized flux\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log('Error', e);\n\t\t\t\treturn dangerNotification(t('Danger.error.processing.title'), e.message);\n\t\t\t}\n\t\t} else {\n\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t}\n\t};\n\n\t// Show content of overlay according to step number\n\tfunction getStepContent(step) {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BuyLandOverlay.buy.land')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bids_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyLandOverlay.price.label')}</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={buyAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t<div className=\"Overlay__buttons_container\">\n\t\t\t\t\t\t\t\t<Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\n\t\t\t\t\t\t\t\t\t{({ TransitionProps, placement }) => (\n\t\t\t\t\t\t\t\t\t\t<Grow\n\t\t\t\t\t\t\t\t\t\t\t{...TransitionProps}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t\t\t\t\t\t<ClickAwayListener onClickAway={handleClose}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuList autoFocusItem={open} id=\"mint-fade-menu\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleNext();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu --cons-option\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyLandOverlay.bid.ovr')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (checkUserLoggedIn() === false) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait buy(window.web3.toWei(buyAt), 'eth');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleNext();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyLandOverlay.bid.eth')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.get.ovr.first'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (checkUserLoggedIn() === false) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait buy(window.web3.toWei(buyAt), 'dai');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleNext();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyLandOverlay.bid.dai')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.get.ovr.first'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (checkUserLoggedIn() === false) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait buy(window.web3.toWei(buyAt), 'usdt');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleNext();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyLandOverlay.bid.usdt')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMetamaskMessage(t('MetamaskMessage.set.get.ovr.first'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (checkUserLoggedIn() === false) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait buy(window.web3.toWei(buyAt), 'usdc');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleNext();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bid-fade-menu\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('BuyLandOverlay.bid.usdc')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t\t\t\t\t\t\t</ClickAwayListener>\n\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t</Grow>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Popper>\n\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\thexRef={anchorRef}\n\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\ttext={t('BuyLandOverlay.confirm.buy')}\n\t\t\t\t\t\t\t\t\tclassName=\"--orange\"\n\t\t\t\t\t\t\t\t\tariaControls={open ? 'mint-fade-menu' : undefined}\n\t\t\t\t\t\t\t\t\tariaHaspopup=\"true\"\n\t\t\t\t\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.cancel.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__title\">{t('BuyLandOverlay.buy.land')}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__minimum_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyLandOverlay.price.label')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={buyAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__message__container\">\n\t\t\t\t\t\t\t\t<span>{metamaskMessage}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"Overlay__body_cont\">\n\t\t\t\t\t\t<div className=\"Overlay__upper\">\n\t\t\t\t\t\t\t<div className=\"Overlay__congrat_title\">\n\t\t\t\t\t\t\t\t<span>{t('Generic.congrats.label')}</span>\n\t\t\t\t\t\t\t\t<br></br>{t('BuyLandOverlay.requested.buy')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_title\">{props.land.name.sentence}</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__land_hex\">{props.land.location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Overlay__lower\">\n\t\t\t\t\t\t\t<div className=\"Overlay__bid_container\">\n\t\t\t\t\t\t\t\t<div className=\"Overlay__current_bid\">\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_title\">{t('BuyLandOverlay.price.label')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"Overlay__bid_cont\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={buyAt}></ValueCounter>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Overlay__close-button_container\">\n\t\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('Generic.close.label')} className=\"--orange-light\" onClick={setDeactiveOverlay}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'Unknown step';\n\t\t}\n\t}\n\n\tif (!showOverlay) return null;\n\n\treturn (\n\t\t<div className={`OverlayContainer ${classShowOverlay ? '--js-show' : ''}`}>\n\t\t\t<div className=\"RightOverlay__backpanel\"> </div>\n\t\t\t<div\n\t\t\t\tkey=\"sell-overlay-\"\n\t\t\t\tto={props.url}\n\t\t\t\tclassName={`RightOverlay BuyLandOverlay NormalInputs ${\n\t\t\t\t\tprops.className ? props.className : ''\n\t\t\t\t} --activeStep-${activeStep}`}\n\t\t\t>\n\t\t\t\t<div className=\"Overlay__cont\">\n\t\t\t\t\t<div className=\"Icon Overlay__close_button\" onClick={setDeactiveOverlay}>\n\t\t\t\t\t\t<svg width=\"30px\" height=\"30px\" viewBox=\"0 0 30 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<g id=\"Dashboards\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" fillOpacity=\"0\">\n\t\t\t\t\t\t\t\t<g\n\t\t\t\t\t\t\t\t\tid=\"Biddign-Single-Auction\"\n\t\t\t\t\t\t\t\t\ttransform=\"translate(-398.000000, -298.000000)\"\n\t\t\t\t\t\t\t\t\tfill=\"#c0c1c0\"\n\t\t\t\t\t\t\t\t\tfillRule=\"nonzero\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\td=\"M413,298 C404.715729,298 398,304.715729 398,313 C398,321.284271 404.715729,328 413,328 C421.284271,328 428,321.284271 428,313 C427.989405,304.720121 421.279879,298.010595 413,298 Z M417.369533,315.697384 C417.829203,316.159016 417.829203,316.90686 417.369533,317.368492 C416.90929,317.82955 416.163695,317.82955 415.703452,317.368492 L413,314.656882 L410.296548,317.368492 C409.836305,317.82955 409.09071,317.82955 408.630467,317.368492 C408.170797,316.90686 408.170797,316.159016 408.630467,315.697384 L411.333919,312.985774 L408.630467,310.274164 C408.197665,309.808287 408.210436,309.082301 408.659354,308.632029 C409.108271,308.181756 409.832073,308.168947 410.296548,308.603055 L413,311.314665 L415.703452,308.603055 C416.167927,308.168947 416.891729,308.181756 417.340646,308.632029 C417.789564,309.082301 417.802335,309.808287 417.369533,310.274164 L414.666081,312.985774 L417.369533,315.697384 Z\"\n\t\t\t\t\t\t\t\t\t\tid=\"Shape\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t{getStepContent(activeStep)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nBuyLandOverlay.propTypes = {\n\tprops: PropTypes.object,\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withUserContext(withWeb3Context(withMapContext(BuyLandOverlay)));\n","import React, { useState, useEffect } from 'react';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport ValueCounter from '../../components/ValueCounter/ValueCounter';\nimport TimeCounter from '../../components/TimeCounter/TimeCounter';\nimport HexButton from '../../components/HexButton/HexButton';\nimport BidOverlay from '../../components/BidOverlay/BidOverlay';\nimport MintOverlay from '../../components/MintOverlay/MintOverlay';\nimport SellOverlay from '../../components/SellOverlay/SellOverlay';\nimport BuyOfferOverlay from '../../components/BuyOfferOverlay/BuyOfferOverlay';\n// import OpenSellOrder from '../../components/OpenSellOrder/OpenSellOrder';\nimport BuyOfferOrder from '../../components/BuyOfferOrder/BuyOfferOrder';\nimport BuyLandOverlay from '../../components/BuyLandOverlay/BuyLandOverlay';\n\nimport { getLand, sendAuctionCheckClose } from '../../lib/api';\nimport { networkError } from '../../lib/notifications';\nimport PropTypes from 'prop-types';\n\nimport config from '../../lib/config';\nimport { Textfit } from 'react-textfit';\nimport ActionCable from 'actioncable';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\n// import { ca } from 'date-fns/esm/locale';\n\nconst Land = (props) => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst {\n\t\tchangeHexId,\n\t\tchangeLandData,\n\t\tchangeActiveBidOverlay,\n\t\tchangeActiveMintOverlay,\n\t\tchangeActiveSellOverlay,\n\t\tchangeActiveBuyOverlay,\n\t\tchangeActiveBuyOfferOverlay,\n\t} = props.mapProvider.actions;\n\tconst { redeemSingleLand, getOffersToBuyLand, getUSDValueInOvr } = props.web3Provider.actions;\n\tconst { ovr, ico, setupComplete } = props.web3Provider.state;\n\tconst { isLoggedIn } = props.userProvider.state;\n\n\tconst [hexId, setHexId] = useState(props.mapProvider.state);\n\tconst [value, setValue] = useState(10);\n\tconst [marketStatus, setMarketStatus] = useState(0);\n\tconst [userPerspective, setUserPerspective] = useState(0);\n\tconst [name, setName] = useState({ sentence: 'director.connect.overflow', hex: '8cbcc350c0ab5ff' });\n\tconst [location, setLocation] = useState('Venice, Italy');\n\tconst [auction, setAuction] = useState(null);\n\t// const [openSellOrder, setOpenSellOrder] = useState(null);\n\tconst [openBuyOffers, setOpenBuyOffers] = useState([]);\n\tconst [isRedeemingLand, setIsRedeemingLand] = useState(false);\n\tconst [isNotValidH3, setIsNotValidH3] = useState(false);\n\tconst [isUnavailable, setIsUnavailable] = useState(false);\n\t\n\n\t// First load\n\tuseEffect(() => {\n\t\tconst hex_id = props.match.params.id;\n\t\tchangeHexId(hex_id); // Focus map on hex_id\n\t\tloadLandStateFromApi(hex_id); // Load data from API\n\t}, [undefined, props.match.params.id]);\n\n\t// Sockets\n\tuseEffect(() => {\n\t\tif (setupComplete && isLoggedIn && hexId === props.match.params.id) {\n\t\t\t// liveSocket(props.match.params.id);\n\t\t\t// console.log('LIVESOCKET', hexId);\n\t\t\tif (isLoggedIn) {\n\t\t\t\t// console.log('LIVESOCKET PASSED', hexId);\n\t\t\t\tif (window.landSocket) window.landSocket.unsubscribe(); // unsubscribe precedent land\n\t\t\t\tvar cable = ActionCable.createConsumer(config.apis.socket);\n\t\t\t\t// console.log('hexId', hexId);\n\t\t\t\twindow.landSocket = cable.subscriptions.create(\n\t\t\t\t\t{ channel: 'LandsChannel', hex_id: hexId },\n\t\t\t\t\t{\n\t\t\t\t\t\treceived: (data) => {\n\t\t\t\t\t\t\t// console.log('LIVESOCKET data incoming', hexId);\n\t\t\t\t\t\t\t// console.log('LAND SOCKET data', data);\n\t\t\t\t\t\t\tloadLandStateFromApi(hexId);\n\t\t\t\t\t\t\tdecentralizedSetup();\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// console.log('LIVESOCKET UHOH');\n\t\t\t}\n\t\t}\n\t}, [setupComplete, isLoggedIn, hexId]);\n\n\t// On change of decentralized setup, reload values\n\tuseEffect(() => {\n\t\tif (setupComplete) decentralizedSetup();\n\t}, [setupComplete, ico, ovr, hexId, marketStatus]);\n\n\tconst decentralizedSetup = async () => {\n\t\tif (!setupComplete || !ico || !ovr) {\n\t\t\treturn false;\n\t\t}\n\t\tgetBuyOffers();\n\t\t// updateMarketStatusFromSmartContract(hexId);\n\t\t// setContractPrice(hexId);\n\t};\n\n\t// Call API function\n\tfunction loadLandStateFromApi(hex_id) {\n\t\tgetLand(hex_id)\n\t\t\t.then((response) => {\n\t\t\t\tlet data = response.data;\n\t\t\t\t// console.log('data', data);\n\t\t\t\tif (data.error && data.error == 'h3_not_valid') {\n\t\t\t\t\tsetIsNotValidH3(true);\n\t\t\t\t} else {\n\t\t\t\t\tsetIsNotValidH3(false);\n\t\t\t\t\tchangeHexId(data.hexId);\n\t\t\t\t\t// Update state component\n\t\t\t\t\tsetHexId(data.hexId);\n\t\t\t\t\tsetName({ sentence: data.sentenceId, hex: data.hexId });\n\t\t\t\t\tsetLocation(data.address.full);\n\t\t\t\t\tsetUserPerspective(data.userPerspective);\n\t\t\t\t\tsetAuction(data.auction);\n\t\t\t\t\tsetIsUnavailable(data.isUnavailable);\n\t\t\t\t\t// Centralized\n\t\t\t\t\tsetValue(data.value);\n\t\t\t\t\t// If it's unminted take 10\n\t\t\t\t\tif(data.value < 100){\n\t\t\t\t\t\tlet val = getUSDValueInOvr(10);\n\t\t\t\t\t\tsetValue(val);\n\t\t\t\t\t}\n\t\t\t\t\tsetMarketStatus(data.marketStatus)\n\n\t\t\t\t\t// Update state for MapContext\n\t\t\t\t\tlet state = {\n\t\t\t\t\t\tkey: data.hexId,\n\t\t\t\t\t\tname: { sentence: data.sentenceId, hex: data.hexId },\n\t\t\t\t\t\tlocation: data.address.full,\n\t\t\t\t\t\tuserPerspective: data.userPerspective,\n\t\t\t\t\t\topenSellOrder: data.openSellOrder,\n\t\t\t\t\t\tauction: data.auction,\n\t\t\t\t\t};\n\t\t\t\t\tchangeLandData(state);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\t// Notify user if network error\n\t\t\t\tconsole.log(error);\n\t\t\t\tnetworkError();\n\t\t\t});\n\t}\n\n\tconst updateMarketStatusFromSmartContract = async (hex_id) => {\n\t\t// Set 0 for not started, 1 for started and 2 for ended\n\t\tconst landId = parseInt(hex_id, 16);\n\t\tconst land = await ico.landsAsync(landId);\n\n\t\tconst lastPaymentTimestamp = parseInt(land[3]);\n\t\tconst landOwner = land[0];\n\t\tconst auctionLandDuration = parseInt(await ico.auctionLandDurationAsync());\n\t\t// Check is the land is ended by comparing the timestamp to 24 hours\n\t\tconst now = Math.trunc(Date.now() / 1000);\n\t\tconst landContractState = parseInt(land[4]);\n\t\tconst isOnSale = land[8];\n\n\t\t// Checks if the land is on sale also to display the right buy button\n\t\tif (isOnSale) {\n\t\t\treturn setMarketStatus(4);\n\t\t}\n\t\t// If 24 hours have passed, consider it sold\n\t\t// Checks if you're the owner or not to display the appropriate button\n\t\tif (landContractState === 1 && now > lastPaymentTimestamp + auctionLandDuration) {\n\t\t\treturn setMarketStatus(5); // Render redeem land button\n\t\t}\n\n\t\tif (landContractState === 2) {\n\t\t\tif (landOwner === window.web3.eth.defaultAccount) {\n\t\t\t\treturn setMarketStatus(3);\n\t\t\t} else {\n\t\t\t\treturn setMarketStatus(2);\n\t\t\t}\n\t\t} else {\n\t\t\tsetMarketStatus(landContractState);\n\t\t}\n\t};\n\n\tconst getBuyOffers = async () => {\n\t\tlet offers = await getOffersToBuyLand(hexId);\n\t\tsetOpenBuyOffers(offers);\n\t};\n\n\tconst redeemLand = async (e) => {\n\t\te.preventDefault();\n\t\tsetIsRedeemingLand(true);\n\t\tsendAuctionCheckClose(hexId);\n\t\tawait redeemSingleLand(hexId);\n\t\tsetIsRedeemingLand(false);\n\t};\n\n\tfunction setActiveBidOverlay(e) {\n\t\te.preventDefault();\n\t\tchangeActiveBidOverlay(true);\n\t}\n\n\tfunction setActiveMintOverlay(e) {\n\t\te.preventDefault();\n\t\tchangeActiveMintOverlay(true);\n\t}\n\n\tfunction setActiveSellOverlay(e) {\n\t\te.preventDefault();\n\t\tchangeActiveSellOverlay(true);\n\t}\n\n\tfunction setActiveBuyOverlay(e) {\n\t\te.preventDefault();\n\t\tchangeActiveBuyOverlay(true);\n\t}\n\n\tfunction setActiveBuyOfferOverlay(e) {\n\t\te.preventDefault();\n\t\tchangeActiveBuyOfferOverlay(true);\n\t}\n\n\t//\n\t// Render elements\n\t//\n\n\tfunction renderTimer() {\n\t\tif (marketStatus === 1) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.closes.label')}</h3>\n\t\t\t\t\t<TimeCounter date_end={auction ? auction.closeAt : 24}></TimeCounter>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn <div>&nbsp;</div>;\n\t\t}\n\t}\n\n\tfunction renderBadge() {\n\t\tlet badge = <div>&nbsp;</div>;\n\n\t\t\n\t\tswitch (marketStatus) {\n\t\t\tcase 1:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.status.label')}</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --open\">{t('Land.open.label')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.status.label')}</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --owned\">{t('Land.owned.label')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbadge = <div>&nbsp;</div>;\n\t\t}\n\n\t\tswitch (userPerspective) {\n\t\t\tcase 1:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.status.label')}</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge --bestbid\">{t('Land.owner.label')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.status.label')}</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --bestbid\">{t('Land.best.bid')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbadge = (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.status.label')}</h3>\n\t\t\t\t\t\t<div className=\"c-status-badge  --outbidded\">{t('Land.outbidded.label')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(isUnavailable == true){\n\t\t\tbadge = (\n\t\t\t<div>\n\t\t\t\t<h3 className=\"o-small-title\">{t('Land.status.label')}</h3>\n\t\t\t\t<div className=\"c-status-badge  --outbidded\">{t('Land.unvabilable')}</div>\n\t\t\t</div>\n\t\t\t);\n\t\t} \n\n\t\treturn badge;\n\t}\n\n\tfunction renderOverlayButton() {\n\t\tlet button = <div>&nbsp;</div>;\n\t\tswitch (marketStatus) {\n\t\t\tcase 0:\n\t\t\t\tif(isUnavailable == false){\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton\n\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\ttext={t('Land.init.auction')}\n\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t\tonClick={(e) => setActiveMintOverlay(e)}\n\t\t\t\t\t></HexButton>\n\t\t\t\t);} else {\n\t\t\t\t\tbutton = (<HexButton\n\t\t\t\t\t\turl={`mailto:info@ovr.ai?subject=Interested in ${hexId}`}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\ttext={t('Generic.contactus.interested')}\n\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t></HexButton>)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton url=\"/\" text={t('Land.place.bid')} className=\"--purple\" onClick={(e) => setActiveBidOverlay(e)}></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbutton = <></>;\n\t\t\t\tif (userPerspective == 0) {\n\t\t\t\t\tbutton = (\n\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\ttext={t('Land.buy.offer')}\n\t\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t\t\tonClick={(e) => setActiveBuyOfferOverlay(e)}\n\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t);\n\t\t\t\t} else if (userPerspective == 1) {\n\t\t\t\t\tbutton = (\n\t\t\t\t\t\t<HexButton url=\"/\" text={t('Land.sell.land')} className=\"--purple --disabled\" onClick={(e) => setActiveSellOverlay(e)}></HexButton>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton url=\"/\" text={t('Land.sell.land')} className=\"--purple\" onClick={(e) => setActiveSellOverlay(e)}></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tbutton = (\n\t\t\t\t\t<HexButton url=\"/\" text={t('Land.buy.now')} className=\"--purple\" onClick={(e) => setActiveBuyOverlay(e)}></HexButton>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tbutton = <></>;\n\t\t\t\tif (userPerspective != 0) {\n\t\t\t\t\tbutton = (\n\t\t\t\t\t\t<div className=\"redeem-land-map-button\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\t\ttext={t('Land.redeem.land')}\n\t\t\t\t\t\t\t\tclassName={isRedeemingLand ? '--purple --disabled' : '--purple'}\n\t\t\t\t\t\t\t\tonClick={(e) => redeemLand(e)}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t{!isRedeemingLand ? null : <p className=\"Overlay__message__container\">{t('Land.redeeming.land')}</p>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbutton = <div>&nbsp;</div>;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn button;\n\t}\n\n\t// Sets the price displayed below the map\n\tconst setContractPrice = async (hex_id) => {\n\t\tconst landId = parseInt(hex_id, 16);\n\t\tconst land = await ico.landsAsync(landId);\n\t\tlet currentBid = String(window.web3.fromWei(land[2]));\n\t\tif (currentBid == 0) {\n\t\t\tcurrentBid = String(window.web3.fromWei(await ico.initialLandBidAsync()));\n\t\t}\n\t\tsetValue(currentBid);\n\t};\n\n\tfunction renderPrice() {\n\t\tswitch (marketStatus) {\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.closing.price')}</h3>\n\t\t\t\t\t\t<ValueCounter value={value}></ValueCounter>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.price.label')}</h3>\n\t\t\t\t\t\t<ValueCounter value={value}></ValueCounter>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t}\n\t}\n\n\tfunction renderBidHistory() {\n\t\tif (auction === null || auction.bidHistory.length === 0) {\n\t\t\treturn (\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"Title__container\">\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.history.label')}</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t{t('Land.be.the.one')}{' '}\n\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"fire-emoji\">\n\t\t\t\t\t\t\t\t🔥\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t<Trans i18nKey=\"Land.no.active.auction\">\n\t\t\t\t\t\t\t\tThe land has no active Auction at the moment. <br></br>Click on \"Init Auction\" and be the one to own it.\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"Title__container\">\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Land.bid.history')}</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Table__container\">\n\t\t\t\t\t\t<table className=\"Table\">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>{t('Land.price.label')}</th>\n\t\t\t\t\t\t\t\t\t<th>{t('Land.when.label')}</th>\n\t\t\t\t\t\t\t\t\t<th>{t('Land.from.label')}</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{auction.bidHistory.map((bid) => (\n\t\t\t\t\t\t\t\t\t<tr key={bid.when} className=\"Table__line\">\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<ValueCounter value={bid.worth}></ValueCounter>{' '}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<TimeCounter date_end={bid.when}></TimeCounter>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>{bid.from}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction renderActiveOpenOrders() {\n\t\tlet custom_return = <></>;\n\t\tlet renderOpenSell = <></>;\n\t\tlet renerOpenBuyOffers = <></>;\n\t\tconst displayBuyOffers = marketStatus === 2;\n\t\tconst displaySells = marketStatus === 3;\n\n\t\t// If there are Buy Offers\n\t\tif (openBuyOffers.length > 0) {\n\t\t\t// If the land is owned, is not yours and is not on sale show the buy offer option\n\t\t\tif (displayBuyOffers) {\n\t\t\t\trenerOpenBuyOffers = openBuyOffers.map((offer) => (\n\t\t\t\t\t<BuyOfferOrder\n\t\t\t\t\t\tkey={offer.id}\n\t\t\t\t\t\toffer={offer}\n\t\t\t\t\t\tisOwner={true}\n\t\t\t\t\t\tuserPerspective={userPerspective}\n\t\t\t\t\t\tuserProvider={this.props.userProvider}\n\t\t\t\t\t\tweb3Provide={this.props.web3Provider}\n\t\t\t\t\t></BuyOfferOrder>\n\t\t\t\t));\n\t\t\t\t// Else show the offers for the seller to accept or decline them\n\t\t\t} else if (displaySells) {\n\t\t\t\trenderOpenSell = openBuyOffers.map((offer) => (\n\t\t\t\t\t<BuyOfferOrder\n\t\t\t\t\t\tkey={offer.id}\n\t\t\t\t\t\toffer={offer}\n\t\t\t\t\t\tisOwner={false}\n\t\t\t\t\t\tuserPerspective={userPerspective}\n\t\t\t\t\t\tuserProvider={this.props.userProvider}\n\t\t\t\t\t\tweb3Provide={this.props.web3Provider}\n\t\t\t\t\t></BuyOfferOrder>\n\t\t\t\t));\n\t\t\t}\n\t\t}\n\n\t\tif (displaySells || displayBuyOffers) {\n\t\t\tcustom_return = (\n\t\t\t\t<div className=\"Land__section\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"Title__container\">\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t<h3 className=\"o-small-title\">Open Orders</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Body__container\">\n\t\t\t\t\t\t\t{renderOpenSell}\n\t\t\t\t\t\t\t{renerOpenBuyOffers}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn custom_return;\n\t}\n\n\tfunction renderLand() {\n\t\tlet custom_return;\n\t\tif (isNotValidH3 == false) {\n\t\t\tcustom_return = (\n\t\t\t\t<div className=\"Land\">\n\t\t\t\t\t<BidOverlay\n\t\t\t\t\t\tcurrentBid={value}\n\t\t\t\t\t\tland={{ hexId: hexId, marketStatus: marketStatus, name: name, location: location }}\n\t\t\t\t\t></BidOverlay>\n\t\t\t\t\t<MintOverlay\n\t\t\t\t\t\tcurrentBid={value}\n\t\t\t\t\t\tland={{ hexId: hexId, marketStatus: marketStatus, name: name, location: location }}\n\t\t\t\t\t></MintOverlay>\n\t\t\t\t\t<SellOverlay\n\t\t\t\t\t\tcurrentBid={value}\n\t\t\t\t\t\tland={{ hexId: hexId, marketStatus: marketStatus, name: name, location: location }}\n\t\t\t\t\t></SellOverlay>\n\t\t\t\t\t<BuyOfferOverlay\n\t\t\t\t\t\tcurrentBid={value}\n\t\t\t\t\t\tland={{ hexId: hexId, marketStatus: marketStatus, name: name, location: location }}\n\t\t\t\t\t></BuyOfferOverlay>\n\t\t\t\t\t<BuyLandOverlay\n\t\t\t\t\t\tcurrentBid={value}\n\t\t\t\t\t\tland={{ hexId: hexId, marketStatus: marketStatus, name: name, location: location }}\n\t\t\t\t\t></BuyLandOverlay>\n\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"Land__heading__1\">\n\t\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t\t<Textfit mode=\"single\" max={25}>\n\t\t\t\t\t\t\t\t\t{name.sentence}\n\t\t\t\t\t\t\t\t</Textfit>\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<div className=\"Land__location\">{location}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Land__heading__2\">\n\t\t\t\t\t\t\t<div className=\"o-fourth\">{renderPrice()}</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">{renderTimer()}</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">{renderBadge()}</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">{renderOverlayButton()}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{renderActiveOpenOrders()}\n\t\t\t\t\t<div className=\"Land__section\">{renderBidHistory()}</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tcustom_return = (\n\t\t\t\t<div className=\"Land\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"c-dialog --centered --not-found\">\n\t\t\t\t\t\t\t<h1>404</h1>\n\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t\tLand not found\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t\tThe requested land name was not found. <br></br>Click anywhere in the map or go to \"Marketplace\" and start from there.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn custom_return;\n\t}\n\n\treturn renderLand();\n};\n\nLand.propTypes = {\n\tmatch: PropTypes.object,\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withWeb3Context(withUserContext(withMapContext(Land)));\n","import React, { useState, useEffect } from 'react';\nimport { withMapContext } from '../../context/MapContext';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport HexButton from '../../components/HexButton/HexButton';\n\n// import OpenSellOrder from '../../components/OpenSellOrder/OpenSellOrder';\n// import BuyOfferOrder from '../../components/BuyOfferOrder/BuyOfferOrder';\n// import BuyLandOverlay from '../../components/BuyLandOverlay/BuyLandOverlay';\n\nimport { getLands } from '../../lib/api';\nimport PropTypes from 'prop-types';\nimport LandCard from '../../components/LandCard/LandCard';\nimport { useTranslation } from 'react-i18next'\n\n\n// import config from '../../lib/config';\n\n// import { ca } from 'date-fns/esm/locale';\n\nconst Lands = (props) => {\n\tconst { t, i18n } = useTranslation();\n\tconst { enableMultipleLandSelection, disableMultipleLandSelection } = props.mapProvider.actions;\n\tconst { multipleLandSelectionList } = props.mapProvider.state;\n\tconst [listLands, setListLands] = useState('');\n\n\t// First load\n\tuseEffect(() => {\n\t\tenableMultipleLandSelection();\n\t\treturn () => {\n\t\t\tdisableMultipleLandSelection();\n\t\t};\n\t}, []);\n\n\t// On Change of list\n\tuseEffect(() => {\n\t\tif (multipleLandSelectionList.length > 0) {\n\t\t\tgetLands(multipleLandSelectionList.join(','))\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetListLands(\n\t\t\t\t\t\tresponse.data.lands.map((obj) => (\n\t\t\t\t\t\t\t<LandCard\n\t\t\t\t\t\t\t\tkey={obj.hexId}\n\t\t\t\t\t\t\t\turl=\"/\"\n\t\t\t\t\t\t\t\tvalue={obj.value}\n\t\t\t\t\t\t\t\tbackground_image={`url(${obj.mapTileUrl}`}\n\t\t\t\t\t\t\t\tname={{ sentence: obj.sentenceId, hex: obj.hexId }}\n\t\t\t\t\t\t\t\tlocation={obj.address.full}\n\t\t\t\t\t\t\t\tdate_end={null}\n\t\t\t\t\t\t\t\tis_minimal={true}\n\t\t\t\t\t\t\t></LandCard>\n\t\t\t\t\t\t)),\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t// console.log(error);\n\t\t\t\t});\n\t\t}\n\t}, [multipleLandSelectionList]);\n\n\tfunction renderLand() {\n\t\tlet custom_return;\n\t\tif (multipleLandSelectionList.length > 0) {\n\t\t\tcustom_return = (\n\t\t\t\t<div className=\"Lands\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"Land__heading__1\">\n\t\t\t\t\t\t\t<h2>{t('Lands.selected.lands')}</h2>\n\t\t\t\t\t\t\t<div className=\"Land__location\">{t('Lands.click.to.remove')}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Land__heading__2\">\n\t\t\t\t\t\t\t<div className=\"o-fourth\">&nbsp;</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t\t\t\t<h3 className=\"o-small-title\">{t('Lands.selected.label')}</h3>\n\t\t\t\t\t\t\t\t<div>{multipleLandSelectionList.length}/15</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">&nbsp;</div>\n\t\t\t\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t\t\t\t<HexButton url=\"/\" text={t('Lands.bid.selection')} className=\"--blue\" onClick={(e) => console.log(e)}></HexButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"o-container o-land-list__cont\">\n\t\t\t\t\t\t<div className=\"o-land-list\">{listLands}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tcustom_return = (\n\t\t\t\t<div className=\"Land\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"c-dialog --centered --not-found\">\n\t\t\t\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t\t\t\t<h2>{t('Lands.selected.lands')}</h2>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t\t{t('Lands.focus.land')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn custom_return;\n\t}\n\n\treturn renderLand();\n};\n\nLands.propTypes = {\n\tmatch: PropTypes.object,\n\treloadLandStatefromApi: PropTypes.func,\n\tuserProvider: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tweb3Provider: PropTypes.object,\n\tland: PropTypes.object,\n\tclassName: PropTypes.string,\n\turl: PropTypes.string,\n};\n\nexport default withWeb3Context(withUserContext(withMapContext(Lands)));\n","import React, { useContext, useEffect, useState } from 'react';\nimport * as moment from 'moment';\n\nimport TextField from '@material-ui/core/TextField';\nimport { UserContext } from '../../context/UserContext';\n// import HexImage from '../../components/HexImage/HexImage';\nimport HexButton from '../../components/HexButton/HexButton';\nimport config from '../../lib/config';\nimport {isiOS, isImToken} from '../../lib/config';\n// import CheckBox from '../../components/CheckBox/CheckBox';\n// import EmailConfirmation from '../../components/EmailConfirmation/EmailConfirmation';\n// import IdensicComp from '../../components/IdensicComp/IdensicComp';\nimport { getSumsubData, setSumsubVerificationToStarted, setDbUserEmail, getSumsubExternalLink } from '../../lib/api';\nimport { successNotification, warningNotification } from '../../lib/notifications';\n\nimport Blockies from 'react-blockies';\n\nimport ValueCounter from '../../components/ValueCounter/ValueCounter';\nimport { Web3Context } from '../../context/Web3Context';\n\nimport snsWebSdk from '@sumsub/websdk';\nimport { useTranslation, Translation} from 'react-i18next';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport i18n from 'i18next';\nimport {getCurrentLocale} from '../../i18n';\n\nimport ReactGA from 'react-ga';\n\nconst ProfileContentLoginRequired = () => {\n\tconst { t, i18n } = useTranslation();\n\treturn (\n\t\t<div className=\"profile\">\n\t\t<div className=\"o-container\">\n\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t{t('Profile.login.required')}\n\t\t\t\t\t<span role=\"img\" aria-label=\"Cool dude\">\n\t\t\t\t\t\t😎\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"c-dialog-sub-title\">{t('Profile.check.profile')}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t)\t\n};\n\nconst ProfileLayout = () => {\n\tconst { t, i18n } = useTranslation();\n\tconst currentDatetimeStamp = moment().format('HH:mm, dddd, MMM D, YYYY');\n\tconst userContext = useContext(UserContext);\n\tconst web3Context = useContext(Web3Context);\n\tconst user = userContext.state.user;\n\tconst [sumsubShowPanel, setSumsubShowPanel] = useState(false);\n\tconst [userEmailValid, setUserEmailValid] = useState(false);\n\tconst [userEmailInputError, setUserEmailInputError] = useState(false);\n\tconst [userEmail, setUserEmail] = useState('');\n\tconst [urlKyc, setUrlKyc] = useState(\"#\");\n\tconst [isSignupLoading, setIsSignupLoading] = useState(false);\n\tconst [isIMWallet, setIsIMWallet] = useState(false);\n\n\tuseEffect(() => {\n\t\t// IMWallet workaround\n\t\tif (isiOS() == true){\n\t\t\tif(window.ethereum){\n\t\t\t\tif(window.ethereum.isImToken){\n\t\t\t\t\tsetIsIMWallet(true)\n\t\t\t\t\tif(user.uuid != undefined){\n\t\t\t\t\t\tlet sumsubLang = \"en\";\n\t\t\t\t\t\tif(getCurrentLocale().includes('zh')){\n\t\t\t\t\t\t\tsumsubLang = \"zh\";\n\t\t\t\t\t\t} \n\t\t\t\t\t\tgetSumsubExternalLink(sumsubLang).then((response) => {\n\t\t\t\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t\t\t\tsetUrlKyc(response.data.url)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(() => {});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// Sumsub reload of webview\n\t\tif (sumsubShowPanel == true && user.uuid != undefined) {\n\t\t\tgetSumsubData()\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\t\tlaunchWebSdk(config.apis.sumsubApi, 'basic-kyc', response.data.content.token, user.email, null, t);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t});\n\t\t\tif (user.kycReviewAnswer == -1) {\n\t\t\t\tsetSumsubVerificationToStarted()\n\t\t\t\t\t.then(() => {})\n\t\t\t\t\t.catch(() => {});\n\t\t\t}\n\t\t}\n\t}, [user.uuid, sumsubShowPanel, localStorage.getItem('i18nextLng')]);\n\n\n\tconst toggleKycVerificationFrame = (e) => {\n\t\te.preventDefault();\n\t\tif(user.email){\n\t\t\tsetSumsubShowPanel(!sumsubShowPanel);\n\t\t\tReactGA.set({ page: window.location.pathname + \"/kyc-started\"}); \n\t\t\tReactGA.pageview(window.location.pathname + \"/kyc-started\");\n\t\t} else {\n\t\t\twarningNotification(t('Warning.email.not.detected.title'), t('Warning.email.not.detected.desc'));\n\t\t}\n\t};\n\n\tconst toggleImWalletKycVerificationFrame = (e) => {\t\t\n\t\tif(user.email){\n\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\twarningNotification(t('Warning.email.not.detected.title'), t('Warning.email.not.detected.desc'));\n\t\t}\n\t};\n\n\tconst updateUserEmail = (e) => {\n\t\tif (userEmail === '') {\n\t\t\tsetUserEmailValid(false);\n\t\t} else {\n\t\t\tsetUserEmailValid(true);\n\t\t}\n\t\tsetUserEmail(e.target.value);\n\t};\n\n\tconst handleAddEmail = (e) => {\n\t\tconsole.log(userEmail)\n\t\tif (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(userEmail)) {\n\t\t\tsetIsSignupLoading(true);\n\t\t\tsetUserEmailInputError(false);\n\t\t\tsetDbUserEmail(userEmail).then((response) => {\n\t\t\t\tif (response.data.result === true) {\n\t\t\t\t\tuserContext.actions.setUserEmail(userEmail)\n\t\t\t\t\tsuccessNotification(t('Generic.congrats.label'), t('Signup.email.saved.title'))\n\t\t\t\t\tReactGA.set({ page: window.location.pathname + \"/email-saved\"}); \n\t\t\t\t\tReactGA.pageview(window.location.pathname + \"/email-saved\"); \n\t\t\t\t} else {\n\t\t\t\t\tlet error_message = response.data.errors[0].message;\n\t\t\t\t\tsetIsSignupLoading(false)\n\t\t\t\t\tsetUserEmailValid(false);\n\t\t\t\t\tsetUserEmailInputError(error_message);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t});\n\t\t} else {\n\t\t\tsetUserEmailInputError(t('Signup.email.not.valid'));\n\t\t\tsetUserEmailValid(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"profile\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"p-header\">\n\t\t\t\t\t<h2 className=\"p-header-title\">{t('Profile.my.profile')}</h2>\n\t\t\t\t\t<span className=\"p-header-datetime\">{currentDatetimeStamp}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"p-body\">\n\t\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t\t{/* <HexImage className=\"profile-image\" /> */}\n\t\t\t\t\t\t<Blockies\n\t\t\t\t\t\t\tseed={user.publicAddress || 'loading'}\n\t\t\t\t\t\t\tsize={12}\n\t\t\t\t\t\t\tscale={13}\n\t\t\t\t\t\t\tcolor=\"#7521c8\"\n\t\t\t\t\t\t\tbgColor=\"#EC663C\"\n\t\t\t\t\t\t\tspotColor=\"#F9B426\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"profile-content\">\n\t\t\t\t\t\t<div key=\"wallet\" className=\"p-section\">\n\t\t\t\t\t\t\t<h3 className=\"p-section-title\">{t('Profile.wallet.info')}</h3>\n\t\t\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">{t('Profile.wallet.addr')}</h4>\n\t\t\t\t\t\t\t\t<div className=\"p-wallet-address\">\n\t\t\t\t\t\t\t\t\t{window.web3 &&\n\t\t\t\t\t\t\t\t\t\twindow.web3.eth &&\n\t\t\t\t\t\t\t\t\t\twindow.web3.eth.defaultAccount &&\n\t\t\t\t\t\t\t\t\t\twindow.web3.eth.defaultAccount.toLowerCase()}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"p-balance\">\n\t\t\t\t\t\t\t\t\t<div className=\"p-small-title\">{t('Profile.balance')}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"p-balance-value\">\n\t\t\t\t\t\t\t\t\t\t<ValueCounter value={web3Context.state.ovrsOwned} />\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<HexButton url=\"/buy-tokens\" className=\"--orange --disabled\" text={t('Profile.buy.ovr')}></HexButton>\n\t\t\t\t\t\t\t\t\t\t\t{/* history.push('/profile');\n\t\t\t\t\t\t\t\t\t\t\t// TODO: KYC -  */}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div key=\"KYC\" className=\"p-section --m-t\">\n\t\t\t\t\t\t\t\t<h3 className=\"p-section-title\">{t('Profile.identify.verification')}</h3>\n\t\t\t\t\t\t\t\t<div className=\"p-tiny-message\">\n\t\t\t\t\t\t\t\t\t{countdownTimer(t)} <br></br>\n\t\t\t\t\t\t\t\t\t{user.kycReviewAnswer == 1\n\t\t\t\t\t\t\t\t\t\t? t('Profile.whitelisted.ok')\n\t\t\t\t\t\t\t\t\t\t: t('Profile.whitelisted.no.ok')}\n\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t\t\t\t{user.email ? <div className=\"p-balance-value\">\n\t\t\t\t\t\t\t\t\t <TextField\n\t\t\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email address\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"Signup__email_textfield\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={user.email}\n\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div> : <div className=\"p-balance-value\">\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tid=\"quantity\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email address\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"Signup__email_textfield\"\n\t\t\t\t\t\t\t\t\t\t\terror={userEmailInputError !== false ? true : false}\n\t\t\t\t\t\t\t\t\t\t\thelperText={userEmailInputError !== false ? userEmailInputError : ''}\n\t\t\t\t\t\t\t\t\t\t\tvalue={userEmail}\n\t\t\t\t\t\t\t\t\t\t\tonFocus={updateUserEmail}\n\t\t\t\t\t\t\t\t\t\t\tonChange={updateUserEmail}\n\t\t\t\t\t\t\t\t\t\t\tonKeyUp={updateUserEmail}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{!isSignupLoading && <HexButton\n\t\t\t\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`--blue ${userEmailValid ? '' : '--disabled'}`}\n\t\t\t\t\t\t\t\t\t\t\t\ttext={t('Email.add')}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleAddEmail}\n\t\t\t\t\t\t\t\t\t\t\t></HexButton>}\n\t\t\t\t\t\t\t\t\t\t\t{isSignupLoading && <CircularProgress />}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">{t('Profile.status.label')}</h4>\n\t\t\t\t\t\t\t\t\t{isIMWallet ? <><div className=\"p-tiny-message\">\n\t\t\t\t\t\t\t\t\t\t{t('Profile.imwallet.sumsub')}\n\t\t\t\t\t\t\t\t\t</div><br></br></> : <></>}\n\n\t\t\t\t\t\t\t\t\t<div className=\"p-balance-value\">\n\t\t\t\t\t\t\t\t\t\t{renderBadge(user.kycReviewAnswer, t)}\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{ !isIMWallet ? <HexButton\n\t\t\t\t\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t\t\t\t\t\t\t\ttext={user.kycReviewAnswer == -1 ? t('Profile.start.verification') : t('Profile.check.verification')}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={toggleKycVerificationFrame}\n\t\t\t\t\t\t\t\t\t\t\t></HexButton> : <HexButton\n\t\t\t\t\t\t\t\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\t\t\t\t\t\t\t\turl={urlKyc}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"--blue\"\n\t\t\t\t\t\t\t\t\t\t\t\ttext={t('Generic.external.link')}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={toggleImWalletKycVerificationFrame}\n\t\t\t\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"p-tiny-message\">\n\t\t\t\t\t\t\t\t\t{user.kycClientComment != null && user.kycReviewAnswer != 1 && user.kycClientComment}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=\"sumsub-websdk-container\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"p-tiny-message\">\n\t\t\t\t\t\t\t\t{/* Every account will need to verify it's identity in order to buy OVR. <br></br>\n\t\t\t\t\t\t\t\tStart your verification now. */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* <div key=\"redeem-land\" className=\"p-section --m-t\">\n\t\t\t\t\t\t\t\t<h3 className=\"p-section-title\">Redeem lands</h3>\n\t\t\t\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">Waiting to be redeemed</h4>\n\t\t\t\t\t\t\t\t\t<div className=\"p-balance-value\">\n\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\t\t\t\turl=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"Funds__buy HexButton --blue redeem-button\"\n\t\t\t\t\t\t\t\t\t\t\t\ttext=\"Redeem lands\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={web3Context.redeemLands}\n\t\t\t\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t{/*\n\t\t\t\t\t\t\t\t<div key=\"notifications\" className=\"p-section\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"p-section-title\">NOTIFICATIONS</h3>\n\t\t\t\t\t\t\t\t\t<div className=\"p-section-content\">\n\t\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">General</h4>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"Hottest Auctions\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"Area of interest\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">My OVRLands</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"New sell request\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"OVRLand sold\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"o-half\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"p-content-title\">My auctions</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"Over bidded\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckBox label=\"Auction won\" text=\"Authorize the Marketplace to operate OVR on my behalf\" />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"p-email-subscription\">\n\t\t\t\t\t\t\t\t\t\t<EmailConfirmation />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t*/}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n\nconst renderBadge = (status, t) => {\n\tlet badge = <div>&nbsp;</div>;\n\tswitch (status) {\n\t\tcase -1:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">{t('Profile.not.started')}</div>;\n\t\t\tbreak;\n\t\tcase -10:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">{t('Profile.started')}</div>;\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">{t('Profile.completed')}</div>;\n\t\t\tbreak;\n\t\tcase 0:\n\t\t\tbadge = <div className=\"c-status-badge  --open\">{t('Profile.failed')}</div>;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbadge = <div>&nbsp;</div>;\n\t}\n\treturn badge;\n};\n\nconst launchWebSdk = (apiUrl, flowName, accessToken, applicantEmail, applicantPhone, t) => {\n\tlet sumsubLang = \"en\";\n\tif(getCurrentLocale().includes('zh')){\n\t\tsumsubLang = \"zh\";\n\t} \n\tlet userWallet;\n\tif (window.web3 && window.web3.eth && window.web3.eth.defaultAccount && window.web3.eth.defaultAccount.toLowerCase()){\n\t\tuserWallet = window.web3.eth.defaultAccount.toLowerCase();\n\t}\n\tif (userWallet){\n\t\tlet snsWebSdkInstance = snsWebSdk\n\t\t\t.Builder(apiUrl, flowName)\n\t\t\t.withAccessToken(accessToken, (newAccessTokenCallback) => {\n\t\t\t\t// Access token expired\n\t\t\t\t// get a new one and pass it to the callback to re-initiate the WebSDK\n\t\t\t\tlet newAccessToken = '...'; // get a new token from your backend\n\t\t\t\tnewAccessTokenCallback(newAccessToken);\n\t\t\t})\n\t\t\t.withConf({\n\t\t\t\tlang: sumsubLang,\n\t\t\t\temail: applicantEmail,\n\t\t\t\tphone: applicantPhone,\n\t\t\t\tmetadata: [{\"key\": \"walletAddress\", \"value\": userWallet}],\n\t\t\t\tonMessage: (type, payload) => {\n\t\t\t\t\tconsole.log('WebSDK onMessage', type, payload);\n\t\t\t\t},\n\t\t\t\tcustomCss: 'url',\n\t\t\t\tonError: (error) => {\n\t\t\t\t\tconsole.error('WebSDK onError', error);\n\t\t\t\t},\n\t\t\t})\n\t\t\t.build();\n\t\tsnsWebSdkInstance.launch('#sumsub-websdk-container');\n\t} else {\n\t\twarningNotification(t('Warning.metamask.not.detected.title'), t('Warning.metamask.not.detected.desc'));\n\t}\n\t\n};\n\nconst countdownTimer = (t) => {\n\tlet utcSeconds = 1606737600;\n\tlet d = new Date(0); \n\tconst difference = +d.setUTCSeconds(utcSeconds) - +new Date();\n\tlet custom_return = '';\n\t\t\n\tif (difference > 0) {\n\t\tconst parts = {\n\t\t\tdays: Math.floor(difference / (1000 * 60 * 60 * 24)),\n\t\t\thours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n\t\t\tminutes: Math.floor((difference / 1000 / 60) % 60),\n\t\t\tseconds: Math.floor((difference / 1000) % 60),\n\t\t};\n\t\t\n\t\tcustom_return =\n\t\tt('Profile.ovr.sale.start')+' ' +\n\t\t\tparts.days +\n\t\t\t' '+t('Profile.days')+' ' +\n\t\t\tparts.hours +\n\t\t\t' '+t('Profile.hours')+' ' +\n\t\t\tparts.minutes +\n\t\t\t' '+t('Profile.mins')+' ' +\n\t\t\tparts.seconds + ' '+t('Profile.secs')+'.';\n\t}\n\treturn custom_return;\n};\n\nconst Profile = () => {\n\tconst { t, i18n } = useTranslation();\n\tconst { state } = useContext(UserContext);\n\tconst { isLoggedIn: userAuthenticated } = state;\n\n\t// Google Analytics\n\tuseEffect(() => {\n\t\tlet authenticated = \"\";\n\t\tif(userAuthenticated){\n\t\t\tauthenticated = \"/authenticated\"\n\t\t}\n\t\tReactGA.set({ page: window.location.pathname + authenticated}); \n\t\tReactGA.pageview(window.location.pathname + authenticated); \n\t}, [userAuthenticated])\n\n\tif (!userAuthenticated) {\n\t\treturn <ProfileContentLoginRequired t={t}/>;\n\t}\n\n\treturn <ProfileLayout state={state}/>;\n};\n\nexport default Profile;\n","import React, { useEffect } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\nimport Fade from '@material-ui/core/Fade';\nimport { useHistory } from 'react-router-dom';\nimport * as moment from 'moment';\nimport { promisify } from '../../lib/config';\nimport config from '../../lib/config';\nimport { useTranslation } from 'react-i18next'\n\nconst ActivityTile = (props) => {\n\tconst { t, i18n } = useTranslation()\n\tlet history = useHistory();\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\n\tconst [pending, setPending] = React.useState(props.data.status === 0);\n\tconst open = Boolean(anchorEl);\n\n\tconst handleClick = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\tconst handleGoTo = () => {\n\t\tsetAnchorEl(null);\n\t\thistory.push('/map/land/' + props.data.hexId);\n\t};\n\n\tconst formatTextContent = (content) => {\n\t\treturn content.replace(props.data.landSentence, '<span>' + props.data.landSentence + '</span>');\n\t};\n\n\tconst handleEtherscan = () => {\n\t\tsetAnchorEl(null);\n\t\tlet etherscanLink = config.apis.etherscan + '/tx/' + props.data.txHash;\n\t\twindow.open(etherscanLink, \"_blank\")\n  };\n\n\tconst setAsReaded = () => {};\n\n\treturn (\n\t\t<div key={props.data.uuid} className={`ActivityTile ${!pending ? '--new' : ''}`} onClick={setAsReaded}>\n\t\t\t<div className=\"ActivityTile__head\">\n\t\t\t\t<div className=\"ActivityTile__icon\"></div>\n\t\t\t</div>\n\t\t\t<div className=\"ActivityTile__body\">\n\t\t\t\t<div className=\"ActivityTile__time\">{moment(props.data.createdAt).format('HH:mm, dddd, MMM D, YYYY')}</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"ActivityTile__content\"\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: formatTextContent(props.data.content) }}\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<IconButton aria-label=\"more\" aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n\t\t\t\t<MoreIcon />\n\t\t\t</IconButton>\n\t\t\t<Menu id=\"fade-menu\" anchorEl={anchorEl} keepMounted open={open} onClose={handleClose} TransitionComponent={Fade}>\n\t\t\t\t<MenuItem onClick={handleGoTo}>{t('ActivityTile.goto.land')}</MenuItem>\n\t\t\t\t{props.data.txHash && <MenuItem onClick={handleEtherscan}>{t('ActivityTile.check.ether')}</MenuItem>}\n\t\t\t</Menu>\n\t\t</div>\n\t);\n};\n\nexport default ActivityTile;\n","import React, { useContext, useEffect, useState } from 'react';\nimport * as moment from 'moment';\n\nimport { userActivities } from '../../lib/api';\nimport { UserContext } from '../../context/UserContext';\nimport { Web3Context } from '../../context/Web3Context';\nimport ActivityTile from '../../components/ActivityTile/ActivityTile';\nimport { useTranslation } from 'react-i18next'\n\n\nconst ActivityContentLoginRequired = () => {\n\tconst { t, i18n } = useTranslation();\n\treturn (<div className=\"profile\">\n\t\t<div className=\"o-container\">\n\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t<div className=\"c-dialog-main-title\">\n\t\t\t\t\t{t('Activity.login.required')}\n\t\t\t\t\t<span role=\"img\" aria-label=\"Cool dude\">\n\t\t\t\t\t\t😎\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"c-dialog-sub-title\">{t('Activity.login.now')}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>)\n}\n\nconst ActivityLayout = () => {\n\tconst currentDatetimeStamp = moment().format('HH:mm, dddd, MMM D, YYYY');\n\tconst { t, i18n } = useTranslation();\n\treturn (\n\t\t<div className=\"activity\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"p-header\">\n\t\t\t\t\t<h2 className=\"p-header-title\">Activity</h2>\n\t\t\t\t\t<span className=\"p-header-datetime\">{currentDatetimeStamp}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sub-title\">\n\t\t\t\t\t{t('Activity.list.transactions')}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ActivityContent t={t}></ActivityContent>\n\t\t</div>\n\t);\n};\n\nconst ActivityContent = (t) => {\n\tconst { state: userState } = useContext(UserContext);\n\tconst { actions: userActions } = useContext(UserContext);\n\tconst [activityList, setActivityList] = useState(false);\n\tconst web3Context = useContext(Web3Context);\n\tconst { user } = userState;\n\n\t// Update activities when componenet is loaded\n\tuseEffect(() => {\n\t\tuserActivities().then((response) => {\n\t\t\tuserActions.setUserActivity(response.data.user);\n\t\t});\n\t}, []);\n\n\t// Update activities when receive a notification\n\tuseEffect(() => {\n\t\tuserActivities().then((response) => {\n\t\t\tuserActions.setUserActivity(response.data.user);\n\t\t});\n\t}, [userState.user.notifications]);\n\n\tuseEffect(() => {\n\t\tif (userState.user.activities && userState.user.activities.content) {\n\t\t\tlet activities = [];\n\t\t\tactivities = userState.user.activities.content.map((obj) => (\n\t\t\t\t<ActivityTile\n\t\t\t\t\tkey={obj.uuid}\n\t\t\t\t\tdata={obj}\n\t\t\t\t\tcontext={{\n\t\t\t\t\t\tuserState: user,\n\t\t\t\t\t\tweb3Context: web3Context,\n\t\t\t\t\t}}\n\t\t\t\t></ActivityTile>\n\t\t\t));\n\t\t\tif (activities.length === 0) {\n\t\t\t\tactivities = (\n\t\t\t\t\t<div className=\"profile\">\n\t\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t\t\t\t{t('Activity.no.activity')}\n\t\t\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"Cool dude\">\n\t\t\t\t\t\t\t\t\t\t🤙\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\t// return activities;\n\t\t\tsetActivityList(activities);\n\t\t}\n\t}, [userState.user.activities]);\n\n\treturn (\n\t\t<div className=\"activity-content\">\n\t\t\t<div className=\"o-container\">{activityList}</div>\n\t\t</div>\n\t);\n};\n\nconst Activity = () => {\n\tconst { state } = useContext(UserContext);\n\tconst { isLoggedIn: userAuthenticated } = state;\n\n\tif (!userAuthenticated) {\n\t\treturn <ActivityContentLoginRequired/>;\n\t}\n\treturn <ActivityLayout state={state} />;\n};\n\nexport default Activity;\n","import React, { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useHistory } from 'react-router-dom';\nimport { withWeb3Context, Web3Context } from '../../context/Web3Context';\nimport { MapContext } from '../../context/MapContext';\nimport { useTranslation } from 'react-i18next'\nimport { UserContext } from '../../context/UserContext';\nimport ReactGA from 'react-ga';\n\n/**\n * Login page component\n */\n\nconst Login = (props) => {\n\tconst { t, i18n } = useTranslation();\n\tconst web3Context = useContext(Web3Context);\n\tconst mapContext = useContext(MapContext);\n\tconst userContext = useContext(UserContext);\n\tlet history = props.history;\n\n\tuseEffect(() => {\n\t\tReactGA.set({ page: window.location.pathname }); // Update the user's current page\n\t\tReactGA.pageview(window.location.pathname); // Record a pageview for the given page\n\t\t// Login via web3\n\n\t\tif(userContext.state.isLoggedIn){\n\t\t\thistory.push('/profile');\n\t\t}\n/* \t\tweb3Context.actions.setupWeb3(() => {\n\t\t\thistory.push('/profile');\n\t\t\t// TODO: KYC - history.push('map/discover');\n\t\t\t// console.log('login here eheh');\n\t\t\tif (mapContext.state.onSingleView) {\n\t\t\t\thistory.push('/map/land/' + mapContext.state.hex_id);\n\t\t\t}\n\t\t\t// onSingleView\n\t\t}); */\n\t}, [userContext.state.isLoggedIn]);\n\n\t//\n\t// Return\n\t//\n\n\treturn (\n\t\t<div className=\"Login\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<h2>{t('Login.welcome.back')}</h2>\n\t\t\t\t<div className=\"Login__sub-title\">\n\t\t\t\t\t{t('Login.use.metamask')}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"Login__footer\">\n\t\t\t\t\t{t('Login.contact.us')} {' '}\n\t\t\t\t\t<Link to=\"mailto:info@ovr.ai\">info@ovr.ai</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withWeb3Context(Login);\n","import React, { useContext, useEffect, useState } from 'react';\nimport HexButton from '../../components/HexButton/HexButton';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport CheckCircleSharpIcon from '@material-ui/icons/CheckCircleSharp';\nimport config from '../../lib/config';\nimport { Web3Context, withWeb3Context } from '../../context/Web3Context';\nimport { UserContext, withUserContext } from '../../context/UserContext';\nimport { useHistory,Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next'\nimport ReactGA from 'react-ga';\n\n\n/**\n * LoginHelper page component\n */\n\nconst LoginHelper = () => {\n\tconst { t, i18n } = useTranslation()\n\n\tconst web3context = useContext(Web3Context);\n\tconst userContext = useContext(UserContext);\n\n\tlet history = useHistory();\n\n\tconst [imWalletInstruction, setImWalletInstruction] = useState(false);\n\n\tuseEffect(() => {\n\t\tReactGA.set({ page: window.location.pathname}); \n    ReactGA.pageview(window.location.pathname);\n    \n    // Setup Web3\n    web3context.actions.setupWeb3((res) =>{\n      if( res == false ){\n        history.push('/login-helper');\n      } else {\n        history.push('/profile');\n      }\n    })\n\n\t\t// If user is logged in\n\t\tif (userContext.state.isLoggedIn) {\n\t\t\thistory.push('/profile');\n    } \n    \n\t\t// Load Web3\n\t\t// const ethereum = window.ethereum;\n\t\t// async function startEth() {\n\t\t// \tif (typeof ethereum !== 'undefined') {\n\t\t// \t\ttry {\n\t\t// \t\t\tawait ethereum.enable();\n\t\t// \t\t} catch (e) {\n\t\t// \t\t\t// console.log(e);\n\t\t// \t\t}\n\t\t// \t\twindow.web3 = new Web3(ethereum);\n\t\t// \t} else if (typeof window.web3 !== 'undefined') {\n\t\t// \t\twindow.web3 = new Web3(window.web3.currentProvider);\n\t\t// \t\twindow.web3.eth.defaultAccount = window.web3.eth.accounts[0];\n\t\t// \t}\n\t\t// }\n    // startEth();\n    \n\n  }, []); \n  \n\tfunction metamaskComponent() {\n\t\tlet isWeb3Active = web3context.state.provider !== null;\n\t\tlet isWeb3Account = false;\n\t\tlet web3NetworkVersion = false;\n\t\tif (isWeb3Active) {\n\t\t\tisWeb3Account = web3context.state.address !== null;\n\t\t\tweb3NetworkVersion = parseInt(web3context.state.chainId, 16) === config.web3network;\n    }\n\t\tif(!imWalletInstruction){\n\t\t\treturn(\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"o-box\">\n\t\t\t\t\t\t<h1>{t('Signup.first.things')}</h1>\n\t\t\t\t\t\t<div className=\"Signup__section --left\">\n\t\t\t\t\t\t\t{isWeb3Active ? (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> {t('Signup.web3.install')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> {t('Signup.web3.install')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isWeb3Account ? (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> {t('Signup.web3.login')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> {t('Signup.web3.login')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{web3NetworkVersion ? (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CheckCircleSharpIcon className=\"CheckCircleSharpIcon\" /> {t('Signup.connect.to')}{' '}\n\t\t\t\t\t\t\t\t\t{String(config.web3network) === '3' ? 'Ropsten' : 'Mainnet'} {t('Signup.network')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"o-list\">\n\t\t\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" /> {t('Signup.connect.to')}{' '}\n\t\t\t\t\t\t\t\t\t{String(config.web3network) === '3' ? 'Ropsten' : 'Mainnet'} {t('Signup.network')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* <div className=\"ignore-this\">\n\t\t\t\t\t\t\tFor debug only, ignore this:\n\t\t\t\t\t\t\t{isWeb3Active.toString()}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t{web3NetworkVersion.toString()}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t{isWeb3Account.toString()}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t{typeof window.web3}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t{window.web3 ? window.web3.eth.accounts : ''}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t{window.web3 ? window.ethereum.networkVersion : ''}\n\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t{isWeb3Active && web3NetworkVersion && isWeb3Account ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"Signup__section Signup__msg --positive\">{t('Signup.web3.present')}</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"Signup__section Signup__msg --negative\">\n\t\t\t\t\t\t\t\t\t{t('Signup.web3.not.present')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\t\turl=\"https://metamask.io\"\n\t\t\t\t\t\t\t\t\t\ttext={t('Signup.web3.install.metamask')}  \n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\tclassName={'--purple'}\n\t\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\t\t\turl=\"https://token.im/\"\n\t\t\t\t\t\t\t\t\t\ttext={t('Signup.web3.install.imtoken')} \n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\tclassName={'--purple --install-imtoken'}\n\t\t\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto=\"#\"\n\t\t\t\t\t\t\t\t\tclassName='Signup__section__small-link'\n\t\t\t\t\t\t\t\t\tonClick={() => {setImWalletInstruction(true)}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Signup.imwallet.tutorial.link')}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t} else {\n\t\t\treturn(\n\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t<div className=\"o-box --tutorial\">\n\t\t\t\t\t\t<h1>{t('Signup.imwallet.tutorial.title')}</h1>\n\t\t\t\t\t\t<div className=\"Signup__section --left\">\n\t\t\t\t\t\t\t{t('Signup.imwallet.tutorial.body')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto=\"#\"\n\t\t\t\t\t\t\tclassName='Signup__section__small-link'\n\t\t\t\t\t\t\tonClick={() => {setImWalletInstruction(false)}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('Generic.back.link')}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div> \n\t\t\t\t</div> \n\t\t\t)\n\t\t}\n\t}\n\t//\n\t// Return\n\t//\n\n\treturn <div className=\"Signup\">{metamaskComponent()}</div>;\n};\n\nexport default withWeb3Context(LoginHelper);\n\n\n{/* <div className=\"ignore-this\">\n\tFor debug only, ignore this:\n\t{isWeb3Active.toString()}\n\t<br></br>\n\t{web3NetworkVersion.toString()}\n\t<br></br>\n\t{isWeb3Account.toString()}\n\t<br></br>\n\t{typeof window.web3}\n\t<br></br>\n\t{window.web3 ? window.web3.eth.accounts : ''}\n\t<br></br>\n\t{window.web3 ? window.ethereum.networkVersion : ''}\n\t<br></br>\n</div> \n\n\n*/}","import React, { useState, useEffect } from 'react';\nimport { withUserContext } from '../../context/UserContext';\nimport { withWeb3Context } from '../../context/Web3Context';\nimport { warningNotification, dangerNotification } from '../../lib/notifications';\nimport * as moment from 'moment';\nimport { Link } from 'react-router-dom';\n\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\n\nimport HexButton from '../../components/HexButton/HexButton';\nimport config from '../../lib/config';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\nconst partnerName = 'ovrproduction';\n\n/**\n * Buy tokens component\n */\nconst BuyTokens = (context) => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst { perEth, perUsd, setupComplete } = context.web3Provider.state;\n\tconst { getPrices, buy } = context.web3Provider.actions;\n\tconst { user } = context.userProvider.state;\n\tconst [tokensToBuy, setTokensToBuy] = useState(100);\n\tconst [usdToSpend, setUsdToSpend] = useState(10);\n\tconst [activeCurrency, setActiveCurrency] = useState(0);\n\n\tuseEffect(() => {\n\t\tif (setupComplete) getPrices();\n\t}, [setupComplete]);\n\n\tconst buyWithIndacoin = () => {\n\t\tif (config.environment != 'DEVELOPMENT' && user.kycReviewAnswer < 1) { return dangerNotification(t('Danger.require.verification.title'), t('Danger.require.verification.desc')); }\n\t\tif (tokensToBuy <= 0)\n\t\t\treturn warningNotification(t('Warning.amount.empty.title'), t('Warning.amount.empty.desc'));\n\t\tconst url = `https://indacoin.com/gw/payment_form?partner=${partnerName}&cur_from=USD&cur_to=USD&amount=${usdToSpend}&address=${window.web3.eth.accounts[0]}&user_id=${user.uuid}`;\n\t\twindow.location = url;\n\t};\n\n\tconst selectCurrency = (currencyIndex) => {\n\t\tif (currencyIndex == 1) {\n\t\t\tsetUsdToSpend(1);\n\t\t\tsetTokensToBuy(perEth * 10);\n\t\t} else {\n\t\t\tsetUsdToSpend(10);\n\t\t\tsetTokensToBuy(100);\n\t\t}\n\t\tsetActiveCurrency(currencyIndex);\n\t};\n\n\tfunction getCurrencyContent() {\n\t\tswitch (activeCurrency) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"c-active-currency__cont\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tlabel=\"Buy\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={usdToSpend}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.usd.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(e.target.value);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy((e.target.value * perUsd).toFixed(0));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"c-active-currency__swap\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36.87 44.24\">\n\t\t\t\t\t\t\t\t\t<g data-name=\"Livello 2\">\n\t\t\t\t\t\t\t\t\t\t<g fill=\"#c3c4c3\" data-name=\"Livello 1\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z\"></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Get\"\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tvalue={tokensToBuy}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.ovr.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend((e.target.value / perUsd).toFixed(2));\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__rate\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.exchange.rate.usd\" perUsd={perUsd}>\n\t\t\t\t\t\t\t\tExchange rate: 1 USD = {{perUsd}} OVR\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"c-active-currency__buttons\">\n\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('BuyTokens.buy.ovr')} className=\"--orange\" onClick={buyWithIndacoin}></HexButton>\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('Generic.cancel.label')}\n\t\t\t\t\t\t\t\tclassName=\"--orange-light\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(0);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"c-active-currency__cont\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tlabel=\"Buy\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={usdToSpend}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.eth.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(e.target.value);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy((e.target.value * perEth * 10).toFixed(0));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"c-active-currency__swap\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36.87 44.24\">\n\t\t\t\t\t\t\t\t\t<g data-name=\"Livello 2\">\n\t\t\t\t\t\t\t\t\t\t<g fill=\"#c3c4c3\" data-name=\"Livello 1\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z\"></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Get\"\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tvalue={tokensToBuy}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.ovr.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend((e.target.value / perEth).toFixed(2));\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__rate\"> \n\t\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.exchange.rate.eth\" perEth={perEth*10}>\n\t\t\t\t\t\t\t\tExchange rate: 1 ETH = {{perEth}} OVR\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__buttons\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('BuyTokens.buy.ovr')}\n\t\t\t\t\t\t\t\tclassName=\"--orange\"\n\t\t\t\t\t\t\t\tonClick={() => buy(tokensToBuy, 'eth')}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('Generic.cancel.label')}\n\t\t\t\t\t\t\t\tclassName=\"--orange-light\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(0);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 2:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"c-active-currency__cont\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tlabel=\"Buy\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={usdToSpend}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.dai.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(e.target.value);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy((e.target.value * perUsd).toFixed(0));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"c-active-currency__swap\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36.87 44.24\">\n\t\t\t\t\t\t\t\t\t<g data-name=\"Livello 2\">\n\t\t\t\t\t\t\t\t\t\t<g fill=\"#c3c4c3\" data-name=\"Livello 1\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z\"></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Get\"\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tvalue={tokensToBuy}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.ovr.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend((e.target.value / perUsd).toFixed(2));\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__rate\"> \n\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.exchange.rate.dai\" perUsd={perUsd}>\n\t\t\t\t\t\t\tExchange rate: 1 DAI = {{perUsd}} OVR\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__buttons\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('BuyTokens.buy.ovr')}\n\t\t\t\t\t\t\t\tclassName=\"--orange\"\n\t\t\t\t\t\t\t\tonClick={() => buy(tokensToBuy, 'dai')}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('Generic.cancel.label')}\n\t\t\t\t\t\t\t\tclassName=\"--orange-light\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(0);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 3:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"c-active-currency__cont\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tlabel=\"Buy\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={usdToSpend}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.usdt.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(e.target.value);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy((e.target.value * perUsd).toFixed(0));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"c-active-currency__swap\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36.87 44.24\">\n\t\t\t\t\t\t\t\t\t<g data-name=\"Livello 2\">\n\t\t\t\t\t\t\t\t\t\t<g fill=\"#c3c4c3\" data-name=\"Livello 1\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z\"></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Get\"\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tvalue={tokensToBuy}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.ovr.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend((e.target.value / perUsd).toFixed(2));\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__rate\"> \n\t\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.exchange.rate.usdt\" perUsd={perUsd}>\n\t\t\t\t\t\t\t\tExchange rate: 1 USDT = {{perUsd}} OVR\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__buttons\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('BuyTokens.buy.ovr')}\n\t\t\t\t\t\t\t\tclassName=\"--orange\"\n\t\t\t\t\t\t\t\tonClick={() => buy(tokensToBuy, 'usdt')}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('Generic.cancel.label')}\n\t\t\t\t\t\t\t\tclassName=\"--orange-light\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(0);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 4:\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"c-active-currency__cont\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tlabel=\"Buy\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={usdToSpend}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.usdc.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(e.target.value);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy((e.target.value * perUsd).toFixed(0));\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"c-active-currency__swap\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 36.87 44.24\">\n\t\t\t\t\t\t\t\t\t<g data-name=\"Livello 2\">\n\t\t\t\t\t\t\t\t\t\t<g fill=\"#c3c4c3\" data-name=\"Livello 1\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M0 6.17l7.94 6.17v-1.22c0-.55-.06-1 .5-1h20c.55 0 1.5.45 1.5 1v14h6v-22H8.44c-.56 0-.5-.45-.5-1V0zM27.44 35.12h-20c-.56 0-.5-.45-.5-1v-14h-6v22h26.5c.55 0 1.5.45 1.5 1v1.12l7.93-6.17-7.93-6.16v2.21c0 .55-.94 1-1.5 1z\"></path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tlabel=\"Get\"\n\t\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\n\t\t\t\t\t\t\t\tclassName=\"c-currency-input\"\n\t\t\t\t\t\t\t\tvalue={tokensToBuy}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: <InputAdornment position=\"start\">{t('Currency.ovr.label')}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend((e.target.value / perUsd).toFixed(2));\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__rate\"> \n\t\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.exchange.rate.usdc\" perUsd={perUsd}>\n\t\t\t\t\t\t\t\tExchange rate: 1 USDC = {{perUsd}} OVR\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"c-active-currency__buttons\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('BuyTokens.buy.ovr')}\n\t\t\t\t\t\t\t\tclassName=\"--orange\"\n\t\t\t\t\t\t\t\tonClick={() => buy(tokensToBuy, 'usdc')}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('Generic.cancel.label')}\n\t\t\t\t\t\t\t\tclassName=\"--orange-light\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetUsdToSpend(0);\n\t\t\t\t\t\t\t\t\tsetTokensToBuy(0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn 'na';\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"activity v-buy-tokens\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"p-header\">\n\t\t\t\t\t<h2 className=\"p-header-title\">{t('BuyTokens.buy.tokens')}</h2>\n\t\t\t\t\t<span className=\"p-header-datetime\">{moment().format('HH:mm, dddd, MMM D, YYYY')}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sub-title--black\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{t('BuyTokens.use.ovr.insted')} {' '}<Link to=\"#\">{t('BuyTokens.read.more')}</Link>.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<Trans i18nKey=\"BuyTokens.kyc.required\">\n\t\t\t\t\t\t\tTo buy OVR token it is required that you pass our KYC. Go to your <Link to=\"/profile\">profile</Link> and start the Identity Verification process.\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sub-title--black\">\n\t\t\t\t\t<h3>{t('BuyTokens.purchase.with')}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"c-currency-selector_cont\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`c-currency-selector ${activeCurrency == 0 ? '--selected' : ' '}`}\n\t\t\t\t\t\tonClick={() => selectCurrency(0)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('BuyTokens.credit.card')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`c-currency-selector ${activeCurrency == 1 ? '--selected' : ' '}`}\n\t\t\t\t\t\tonClick={() => selectCurrency(1)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Currency.eth.label')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`c-currency-selector ${activeCurrency == 2 ? '--selected' : ' '}`}\n\t\t\t\t\t\tonClick={() => selectCurrency(2)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Currency.dai.label')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`c-currency-selector ${activeCurrency == 3 ? '--selected' : ' '}`}\n\t\t\t\t\t\tonClick={() => selectCurrency(3)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Currency.usdt.label')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`c-currency-selector ${activeCurrency == 4 ? '--selected' : ' '}`}\n\t\t\t\t\t\tonClick={() => selectCurrency(4)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Currency.usdc.label')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"o-container\">{getCurrencyContent()}</div>\n\t\t</div>\n\t);\n};\n\nexport default withUserContext(withWeb3Context(BuyTokens));\n","import React from 'react';\nimport TimeCounter from '../TimeCounter/TimeCounter';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\nimport Fade from '@material-ui/core/Fade';\nimport { useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next'\n\n\nimport { readNotification, hideNotification } from '../../lib/api';\n\nconst Notification = (props) => {\n\tconst { t, i18n } = useTranslation()\n\n\tlet history = useHistory();\n\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\n\tconst [readed, setReaded] = React.useState(props.data.status !== 0);\n\tconst [hidden, setHidden] = React.useState(false);\n\tconst open = Boolean(anchorEl);\n\n\tconst handleClick = (event) => {\n\t\tsetAnchorEl(event.currentTarget);\n\t};\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null);\n\t};\n\tconst handleGoTo = () => {\n\t\tsetAnchorEl(null);\n\t\thistory.push('/map/land/' + props.data.hexId);\n\t\tprops.actions.toggleNotificationCenter();\n\t};\n\n\tconst formatTextContent = (content) => {\n\t\treturn content.replace(props.data.landSentence, \"<span>\" + props.data.landSentence +\"</span>\");\n\t}\n\n\tconst handleHide = () => {\n\t\tsetAnchorEl(null);\n\t\tsetHidden(true);\n\t\thideNotification(props.data.uuid).then(() => {});\n\t};\n\n\tconst setAsReaded = () => {\n\t\tsetReaded(true);\n\t\tif (!readed) {\n\t\t\treadNotification(props.data.uuid).then((response) => {\n\t\t\t\tprops.actions.setAsReaded(props.data.uuid);\n\t\t\t});\n\t\t}\n\t};\n\n\tconst returnContent = () => {\n\t\tlet content;\n\t\tif (!hidden) {\n\t\t\tcontent = (\n\t\t\t\t<div key={props.data.uuid} className={`Notification ${!readed ? '--new' : ''}`} onClick={setAsReaded}>\n\t\t\t\t\t<div className=\"Notification__body\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"Notification__content\"\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: formatTextContent(props.data.content) }}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div className=\"Notification__time\">\n\t\t\t\t\t\t\t<TimeCounter date_end={props.data.createdAt}></TimeCounter>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<IconButton aria-label=\"more\" aria-controls=\"long-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n\t\t\t\t\t\t<MoreIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Menu\n\t\t\t\t\t\tid=\"fade-menu\"\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\topen={open}\n\t\t\t\t\t\tonClose={handleClose}\n\t\t\t\t\t\tTransitionComponent={Fade}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem onClick={handleGoTo}>{t('Notification.go.to.land')}</MenuItem>\n\t\t\t\t\t\t<MenuItem onClick={handleHide}>{t('Notification.hide.label')}</MenuItem>\n\t\t\t\t\t</Menu>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tcontent = <></>;\n\t\t}\n\t\treturn content;\n\t};\n\treturn <>{returnContent()}</>;\n};\n\nexport default Notification;\n","import React, { useEffect, useState } from 'react';\nimport { withUserContext } from '../../context/UserContext';\nimport * as moment from 'moment';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport HexButton from '../../components/HexButton/HexButton';\nimport { useHistory } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport config from '../../lib/config';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\n/**\n * Indacoin response component\n */\nconst IndacoinResponse = () => {\n\tconst { t, i18n } = useTranslation();\n\n\tconst [respStatus, setRespStatus] = useState(0);\n\tconst [errorTraceback, setErrorTraceback] = useState(0);\n\tconst [transactionId] = useState(window.location.search.split('transaction_id=')[1]);\n\n\tlet history = useHistory();\n\n\tuseEffect(() => {\n\t\tgetIndacoinPayment();\n\t}, []);\n\n\tfunction handleMarketplace() {\n\t\thistory.push('map/discover');\n\t}\n\n\tconst getIndacoinPayment = async () => {\n\t\ttry {\n\t\t\tconst req = await fetch(config.apis.indacoinHelperApi, {\n\t\t\t\tmethod: 'post',\n\t\t\t\theaders: {\n\t\t\t\t\t'content-type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\ttransactionId,\n\t\t\t\t}),\n\t\t\t});\n\t\t\tconst res = await req.json();\n\t\t\tif (res.ok) {\n\t\t\t\tsetRespStatus(1);\n\t\t\t} else {\n\t\t\t\tsetRespStatus(2);\n\t\t\t\tsetErrorTraceback(res.msg);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetRespStatus(2);\n\t\t\tsetErrorTraceback(e);\n\t\t}\n\t};\n\n\tfunction respContent() {\n\t\tif (respStatus == 0) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"o-centered-box\">\n\t\t\t\t\t\t<h2>{t('IndacoinResponse.trans.token')}</h2>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t{t('IndacoinResponse.no.leave')} <br></br>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (respStatus == 1) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"o-centered-box\">\n\t\t\t\t\t\t<h2>{t('Generic.congrats.label')}</h2>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<CheckCircleIcon className=\"CheckCircleIcon\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<Trans i18nKey=\"IndacoinResponse.success.bought\">\n\t\t\t\t\t\t\t\tYou've succesfully bought some OVR.<br></br>\n\t\t\t\t\t\t\t\tNow you can go to the marketplace and partecipate.\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Signup__section --small\">\n\t\t\t\t\t\t\t{/* Account info are stored privately off the blockchain. <Link to=\"#\">Read more</Link>. */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<HexButton url=\"#\" text={t('IndacoinResponse.to.mrktplace')} className=\"--purple\" onClick={handleMarketplace}></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (respStatus == 2) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"o-centered-box\">\n\t\t\t\t\t\t<h2>{t('IndacoinResponse.something.wrong')}</h2>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<CancelIcon className=\"CancelIcon\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t{t('IndacoinResponse.contact.assistance')} <br></br>\n\t\t\t\t\t\t\t<Link to=\"mailto:help@ovr.ai\">help@ovr.ai</Link>.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<div className=\"Signup__section\">{t('IndacoinResponse.error.label')}: {errorTraceback}</div>\n\t\t\t\t\t\t{transactionId != undefined && (\n\t\t\t\t\t\t\t<div className=\"Signup__section --small\">{t('IndacoinResponse.transaction.id')}: {transactionId}</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"Signup__section\">\n\t\t\t\t\t\t\t<HexButton\n\t\t\t\t\t\t\t\turl=\"#\"\n\t\t\t\t\t\t\t\ttext={t('IndacoinResponse.assistance.label')}\n\t\t\t\t\t\t\t\tclassName=\"--purple\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\twindow.location = 'mailto:help@ovr.ai';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></HexButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"activity v-buy-tokens\">\n\t\t\t<div className=\"o-container\">\n\t\t\t\t<div className=\"p-header\">\n\t\t\t\t\t<h2 className=\"p-header-title\">{t('IndacoinResponse.buy.tokens')}</h2>\n\t\t\t\t\t<span className=\"p-header-datetime\">{moment().format('HH:mm, dddd, MMM D, YYYY')}</span>\n\t\t\t\t</div>\n\t\t\t\t{respContent()}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withUserContext(IndacoinResponse);\n","import React, { useRef, useEffect, useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport Notification from '../Notification/Notification';\n\nimport { UserContext, withUserContext } from '../../context/UserContext';\nimport { readAllNotifications } from '../../lib/api';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\nconst NotificationCenterContent = () => {\n\tconst { t, i18n } = useTranslation()\n\tconst { state, actions } = useContext(UserContext);\n\tconst wrapperRef = useRef(null);\n\n\tuseEffect(() => {\n\t}, [state.user.notifications]);\n\n\tconst renderNotifications = () => {\n\t\tlet notifications;\n\t\tif (\n\t\t\tstate.user.notifications !== null &&\n\t\t\tstate.user.notifications.content &&\n\t\t\tstate.user.notifications.content.length > 0\n\t\t) {\n\t\t\tnotifications = state.user.notifications.content.map((obj) => (\n\t\t\t\t<Notification\n\t\t\t\t\tkey={obj.uuid}\n\t\t\t\t\tdata={obj}\n\t\t\t\t\tactions={{\n\t\t\t\t\t\ttoggleNotificationCenter: actions.toggleShowNotificationCenter,\n\t\t\t\t\t\tsetAsReaded: actions.notification.setAsReaded,\n\t\t\t\t\t}}\n\t\t\t\t></Notification>\n\t\t\t));\n\t\t\treturn notifications;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"c-dialog --centered\">\n\t\t\t\t\t<div className=\"c-dialog-sub-title\">\n\t\t\t\t\t\t<Trans i18nKey=\"NotificationCenter.no.notifications\">\n\t\t\t\t\t\t\tThere is currently <br></br>no notifications to display.\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n\n\tconst setAllAsReaded = () => {\n\t\treadAllNotifications().then(() => {\n\t\t\tactions.notification.setAllAsReaded();\n\t\t\tactions.closeNotificationCenter();\n\t\t});\n\t};\n\n\tconst useOutsideAlerter = (ref) => {\n\t\tuseEffect(() => {\n\t\t\t/**\n\t\t\t * Alert if clicked on outside of element\n\t\t\t */\n\t\t\tfunction handleClickOutside(event) {\n\t\t\t\t// document.c Notifications__link\n\t\t\t\tif (\n\t\t\t\t\tref.current &&\n\t\t\t\t\t!ref.current.contains(event.target) &&\n\t\t\t\t\t!document.getElementById('js-open-notification-link').contains(event.target) &&\n\t\t\t\t\t!event.target.classList.contains('MuiMenuItem-root')\n\t\t\t\t) {\n\t\t\t\t\tactions.closeNotificationCenter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Bind the event listener\n\t\t\tdocument.addEventListener('mousedown', handleClickOutside);\n\t\t\treturn () => {\n\t\t\t\t// Unbind the event listener on clean up\n\t\t\t\tdocument.removeEventListener('mousedown', handleClickOutside);\n\t\t\t};\n\t\t}, [ref]);\n\t};\n\n\treturn (\n\t\t<div ref={wrapperRef} className=\"NotificationCenter\">\n\t\t\t{useOutsideAlerter(wrapperRef)}\n\t\t\t<div className=\"NotificationCenter__header\">\n\t\t\t\t<div className=\"NotificationCenter__title\">Notifications</div>\n\t\t\t\t<div className=\"NotificationCenter__toggle\"></div>\n\t\t\t</div>\n\t\t\t<div className=\"NotificationCenter__body\">{renderNotifications()}</div>\n\t\t\t<div className=\"NotificationCenter__footer\">\n\t\t\t\t<Link to={'#'} onClick={setAllAsReaded}>\n\t\t\t\t\t{t('NotificationCenter.mark.all')}\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst NotificationCenter = () => {\n\tconst { state } = useContext(UserContext);\n\tconst { showNotificationCenter: showNotificationCenter } = state;\n\n\tif (!showNotificationCenter) {\n\t\treturn null;\n\t}\n\n\treturn <NotificationCenterContent/>;\n};\n\nexport default withUserContext(NotificationCenter);\n","import React, { useContext, useState } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport ValueCounter from '../ValueCounter/ValueCounter';\nimport NotificationCenter from '../NotificationCenter/NotificationCenter';\n\nimport { UserContext, withUserContext } from '../../context/UserContext';\nimport Blockies from 'react-blockies';\nimport { Web3Context, withWeb3Context } from '../../context/Web3Context';\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuList from '@material-ui/core/MenuList';\nimport { useHistory } from 'react-router-dom';\nimport Translate from '@material-ui/icons/Translate';\n\nimport { useTranslation } from 'react-i18next'\n\nconst NavBar = () => {\n\tconst { t, i18n } = useTranslation();\n\tconst { state: userState, actions: userActions } = useContext(UserContext);\n\tconst { state: web3State, actions: web3Actions } = useContext(Web3Context);\n\tconst [langOpen, setLangOpen] = React.useState(0);\n\tconst [open, setOpen] = React.useState(false);\n\tconst anchorRef = React.useRef(null);\n\tconst [isConnecting, setIsConnecting] = React.useState(false);\n\tconst prevOpen = React.useRef(open);\n\tconst langRef = React.useRef(langOpen);\n\t\n\tconst changeLanguage = (string) => {\n\t\ti18n.changeLanguage(string)\n\t  }\n\n\t// START - Profile sub menu\n\n\n\tlet history = useHistory();\n\n\tconst handleToggle = () => {\n\t\tsetOpen((prevOpen) => !prevOpen);\n\t};\n\n\tconst handleLang = () => {\n\t\tsetLangOpen((langOpen) => !langOpen);\n\t};\n\n\tconst handleGoTo = (link) => {\n\t\thistory.push(link);\n\t};\n\n\tconst handleClose = (event) => {\n\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\treturn;\n\t\t}\n\t\tsetOpen(false);\n\t};\n\n\tconst handleCloseLang = (event) => {\n\t\tif(event){\n\t\t\tif (anchorRef.current && anchorRef.current.contains(event.target)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tsetLangOpen(false);\n\t};\n\n\tconst handleMetamaskAuthentication = () => {\n\t\tsetIsConnecting(true);\n\t\twindow.gtag_report_metamask_conversion();\n\t\tweb3Actions.setupWeb3((res) => {\n\t\t\tif( res == false ){\n\t\t\t\thistory.push('/login-helper');\n\t\t\t} else {\n\t\t\t\thistory.push('/profile');\n\t\t\t}\n\t\t\tsetIsConnecting(false);\n\t\t})\n\t}\n\n\tReact.useEffect(() => {\n\t\tif (userState.isLoggedIn) {\n\t\t\tif (prevOpen.current === true && open === false) {\n\t\t\t\tanchorRef.current.focus();\n\t\t\t}\n\t\t\tprevOpen.current = open;\n\t\t}\n\t}, [open]);\n\t// END - Profile sub menu\n\n\tReact.useEffect(() => {\n\t\t// console.log('NOTIF userState', userState.user);\n\t}, [userState]);\n\n\tfunction toggleNotificationCenter(e) {\n\t\te.preventDefault();\n\t\tuserActions.toggleShowNotificationCenter(true);\n\t}\n\n\tfunction centerContainer() {\n\t\tlet cont = <div></div>;\n\t\tif (userState.isLoggedIn === true && userState.user !== null) {\n\t\t\tcont = (\n\t\t\t\t<>\n\t\t\t\t<NavLink className=\"NavBar__link\" to=\"/profile\">\n\t\t\t\t\t{t('Navbar.profile.label')}\n\t\t\t\t</NavLink>\n\t\t\t\t<NavLink className=\"NavBar__link\" to=\"/map/overview\">\n\t\t\t\t\tMy Assets\n\t\t\t\t</NavLink>\n\t\t\t\t<NavLink className=\"NavBar__link\" to=\"/map/discover\">\n\t\t\t\t\tMarketplace\n\t\t\t\t</NavLink>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t\treturn cont;\n\t}\n\n\tfunction leftContainer(){\n\t\tlet cont =<></>\n\t\tcont = (\n\t\t<div className=\"Navbar__left_container\">\n\t\t<Link\n\t\t\tto=\"#\"\n\t\t\tclassName=\"NavBar__link Language__link\"\n\t\t\tref={langRef}\n\t\t\taria-controls={langOpen ? 'menu-list-grow' : undefined}\n\t\t\taria-haspopup=\"true\"\n\t\t\tonClick={(e) => {\n\t\t\t\thandleCloseLang(e);\n\t\t\t\thandleLang(e);\n\t\t\t}}\n\t\t>\n\t\t\t<Translate className=\"Translate\" shapeRendering=\"auto\"/>\n\t\t</Link>\n\t\t<Popper open={langOpen} anchorEl={langRef.current} role={undefined} transition disablePortal>\n\t\t\t{({ TransitionProps, placement }) => (\n\t\t\t\t<Grow\n\t\t\t\t\t{...TransitionProps}\n\t\t\t\t\tstyle={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n\t\t\t\t>\n\t\t\t\t\t<Paper>\n\t\t\t\t\t\t<ClickAwayListener onClickAway={handleCloseLang}>\n\t\t\t\t\t\t\t<MenuList autoFocusItem={langOpen} id=\"menu-lang-list-grow\" className=\"navbar-lang-submenu\">\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tchangeLanguage(\"en\");\n\t\t\t\t\t\t\t\t\t\thandleCloseLang();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tEnglish\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tchangeLanguage(\"zh\");\n\t\t\t\t\t\t\t\t\t\thandleCloseLang();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t中文\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t</ClickAwayListener>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grow>\n\t\t\t)}\n\t\t</Popper>\n\t\t</div>)\n\t\treturn cont\n\t}\n\n\tfunction rightContainer() {\n\t\tlet rightContainer = <div></div>; \n\t\tif (userState.isLoggedIn === true && userState.user !== null) {\n\t\t\trightContainer = (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"Navbar__right_container\">\n\t\t\t\t\t\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\t\tid=\"js-open-notification-link\"\n\t\t\t\t\t\t\tclassName=\"Notifications__link\"\n\t\t\t\t\t\t\tonClick={toggleNotificationCenter}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"Notifications__icon\">\n\t\t\t\t\t\t\t\t<svg width=\"18px\" height=\"20px\" viewBox=\"0 0 18 20\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t<title>icons/icon_notification</title>\n\t\t\t\t\t\t\t\t\t<desc>Created with Sketch.</desc>\n\t\t\t\t\t\t\t\t\t<g id=\"Symbols\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n\t\t\t\t\t\t\t\t\t\t<g id=\"header\" transform=\"translate(-1243.000000, -25.000000)\">\n\t\t\t\t\t\t\t\t\t\t\t<g id=\"icons/icon_notification\" transform=\"translate(1242.000000, 25.000000)\">\n\t\t\t\t\t\t\t\t\t\t\t\t<rect id=\"frame\" x=\"0\" y=\"0\" width=\"20\" height=\"20\"></rect>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M15.2321227,8.31973225 C12.6665198,2.77582053 11.3339364,0.670834332 7.14155795,0.75810667 C5.64837822,0.788892058 6.00782137,-0.327572512 4.86958472,0.0960796141 C3.73134807,0.51973174 4.70814468,1.13967602 3.54347011,2.098542 C0.278387518,4.79042761 0.57932975,7.2806548 2.09444733,13.2148914 C2.73261361,15.7150038 0.556266888,15.8375804 1.41746793,18.2603057 C2.04607157,20.0275 6.68001944,20.7669142 11.5713151,18.9443627 C16.4614858,17.1226586 19.5474093,13.506364 18.9190869,11.7400171 C18.0576046,9.31616205 16.3141084,10.6543379 15.2321227,8.31973225 Z M11.039463,17.4514126 C6.67242557,19.0788016 3.08305662,18.1221951 2.93146049,17.696566 C2.67017513,16.9628005 4.34110766,14.5146561 9.33449868,12.6545408 C14.3278897,10.7944255 17.113996,11.4838488 17.4050944,12.3037568 C17.5775033,12.7870027 15.4079067,15.824306 11.039463,17.4514126 Z M9.63656593,13.5041045 C7.35362378,14.354798 5.76594257,15.3277857 4.73992643,16.2036159 C5.46162528,16.8633835 6.81642784,17.0246537 8.16644907,16.521355 C9.88491359,15.8816403 10.9396177,14.4121323 10.5219549,13.2391807 C10.517736,13.225059 10.5098609,13.2129143 10.5045171,13.1985101 C10.2232627,13.2922785 9.93441437,13.3925428 9.63656593,13.5041045 Z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"Fill-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#2B3034\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity=\"0.400000006\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform=\"translate(10.000000, 10.000000) scale(-1, 1) translate(-10.000000, -10.000000) \"\n\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"Notifications__counter\">\n\t\t\t\t\t\t\t\t{userState.user && userState.user.notifications && userState.user.notifications.unreadedCount\n\t\t\t\t\t\t\t\t\t? userState.user.notifications.unreadedCount\n\t\t\t\t\t\t\t\t\t: 0}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link> \n\n\t\t\t\t\t\t<div className=\"Funds__container\">\n\t\t\t\t\t\t\t{/* <Link to=\"/buy-tokens\" className=\"Funds__link\">\n\t\t\t\t\t\t\t\t<ValueCounter value={ovrsOwned}></ValueCounter>\n\t\t\t\t\t\t\t</Link> // TODO: KYC - Remove comment */}\n\t\t\t\t\t\t\t<ValueCounter value={web3State.ovrsOwned}></ValueCounter>\n\t\t\t\t\t\t\t{/*<Link to=\"#\" className=\"Funds__buy HexButton --blue redeem-button\" onClick={() => {\n\t\t\t\t\t\t\t\tthis.context.actions.redeemLands()\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tRedeem Lands\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link to=\"/buy-tokens\" className=\"Funds__buy HexButton --blue\">\n\t\t\t\t\t\t\t\tBuy OVR\n\t\t\t\t\t\t\t</Link> */}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tref={anchorRef}\n\t\t\t\t\t\t\taria-controls={open ? 'menu-list-grow' : undefined}\n\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\tto=\"#\"\n\t\t\t\t\t\t\tclassName=\"Profile__link\"\n\t\t\t\t\t\t\tonClick={handleToggle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>{userState.user && userState.user.reducedPublicAddress}</span>\n\t\t\t\t\t\t\t<div className=\"Profile__img-cont\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid=\"Profile__img\"\n\t\t\t\t\t\t\t\t\tclassName=\"Profile__img\"\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundImage: 'url(../../assets/img/auction-map.png)' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Blockies\n\t\t\t\t\t\t\t\t\t\tseed={(userState.user && userState.user.publicAddress) || 'loading'}\n\t\t\t\t\t\t\t\t\t\tsize={12}\n\t\t\t\t\t\t\t\t\t\tscale={3}\n\t\t\t\t\t\t\t\t\t\tcolor=\"#7521c8\"\n\t\t\t\t\t\t\t\t\t\tbgColor=\"#EC663C\"\n\t\t\t\t\t\t\t\t\t\tspotColor=\"#F9B426\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\n\t\t\t\t\t\t\t{({ TransitionProps, placement }) => (\n\t\t\t\t\t\t\t\t<Grow\n\t\t\t\t\t\t\t\t\t{...TransitionProps}\n\t\t\t\t\t\t\t\t\tstyle={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t\t\t\t<ClickAwayListener onClickAway={handleClose}>\n\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t\t<MenuList autoFocusItem={open} id=\"menu-list-grow\" className=\"navbar-submenu\">\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleGoTo('/profile');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Navbar.profile.label')}\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleGoTo('/activity');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tActivity\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleClose(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserActions.logoutUser();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('Navbar.Logout.label')}\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t</MenuList>\n\t\t\t\t\t\t\t\t\t\t</ClickAwayListener>\n\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t</Grow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Popper>\n\t\t\t\t\t\t<NotificationCenter></NotificationCenter>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\t/* rightContainer = (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"AuthLogin__link\">\n\t\t\t\t\t\t<NavLink className=\"NavBar__link General__link\" to=\"/login\">\n\t\t\t\t\t\t{t('Navbar.Login.label')}\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t<NavLink className=\"NavBar__link General__link\" to=\"/signup\">\n\t\t\t\t\t\t{t('Navbar.Signup.label')}\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t); */\n\t\t\trightContainer = (\n\t\t\t\t<div className=\"AuthLogin__link\">\n\t\t\t\t\t<div className={`HexButton --orange ${!isConnecting ? '' : '--disabled'}`} onClick={handleMetamaskAuthentication}>\n\t\t\t\t\t\t{t('Navbar.wallet.connect')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\treturn rightContainer;\n\t}\n\n\treturn (\n\t\t<div className=\"NavBar\">\n\t\t\t<Link to=\"/\" className=\"Logo__link\">\n\t\t\t\t<div className=\"Icon NavBar__logo\">\n\t\t\t\t\t<img src={require('../../assets/img/ovr.png')} />\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t\t<div className=\"Navbar__link_container\">\n\t\t\t\t{leftContainer()}\n\t\t\t\t{centerContainer()}\n\t\t\t\t{rightContainer()}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withUserContext(withWeb3Context(NavBar));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport * as moment from 'moment';\n\nimport { Breadcrumbs as MaterialBreadcrumbs } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\n\nconst Breadcrumbs = ({ previousLinks, currentPageLabel, className }) => {\n\tconst currentDatetimeStamp = moment().format('HH:mm, dddd, MMM D, YYYY');\n\n\treturn (\n\t\t<div className={`breadcrumbs ${className}`}>\n\t\t\t<MaterialBreadcrumbs\n\t\t\t\tclassName={'breadcrumbs--items'}\n\t\t\t\tseparator={<NavigateNextIcon fontSize=\"small\" />}\n\t\t\t\taria-label=\"breadcrumb\"\n\t\t\t>\n\t\t\t\t{previousLinks.map((a, index) => (\n\t\t\t\t\t<Link className=\"breadcrumbs--prevlink\" key={`prev_link_${index}`} color=\"inherit\" to={a.href}>\n\t\t\t\t\t\t{a.label}\n\t\t\t\t\t</Link>\n\t\t\t\t))}\n\t\t\t\t<span className=\"breadcrumbs--currentlabel\">{currentPageLabel}</span>\n\t\t\t</MaterialBreadcrumbs>\n\t\t\t<span className=\"breadcrumbs--datetime\">{currentDatetimeStamp}</span>\n\t\t</div>\n\t);\n};\n\nBreadcrumbs.propTypes = {\n\tpreviousLinks: PropTypes.arrayOf(PropTypes.shape({ href: PropTypes.string, label: PropTypes.string })),\n\tcurrentPageLabel: PropTypes.string,\n\tclassName: PropTypes.string,\n};\nBreadcrumbs.defaultProps = {\n\tpreviousLinks: [],\n\tcurrentPageLabel: 'undefined',\n\tclassName: '',\n};\nexport default Breadcrumbs;\n","import React, { useState, useEffect, useCallback } from 'react';\n\nimport PropTypes from 'prop-types';\nimport mapboxgl from 'mapbox-gl';\nimport '@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css';\nimport * as MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport geojson2h3 from 'geojson2h3';\nimport * as h3 from 'h3-js';\nimport config from '../../lib/config';\nimport { MapContext, withMapContext } from '../../context/MapContext';\n\nimport Breadcrumbs from '../Breadcrumbs/MapBreadcrumbs';\nimport MapNavigationBox from '../MapNavigationBox/MapNavigationBox';\n\nimport _ from 'lodash';\n\n// @ts-check\n\nlet map;\n\nconst Map = (props) => {\n\tconst [lastSelectedLand, setLastSelectedLand] = useState(null);\n\tconst [isMapReady, setIsMapReady] = useState(false);\n\tconst { changeMultipleLandSelectionList } = props.mapProvider.actions;\n\tconst {\n\t\tonSingleView,\n\t\tonMultipleLandSelection,\n\t\tmultipleLandSelectionList,\n\t\tauctionList,\n\t\thex_id,\n\t} = props.mapProvider.state;\n\n\t//\n\t// Effects and Setups\n\t//\n\tuseEffect(() => {\n\t\tmapboxgl.accessToken =\n\t\t\t'pk.eyJ1IjoibWFudG9uZWxsaSIsImEiOiJjam9hNmljdHkwY2Y0M3JuejJrenhmMWE1In0.dC9b8oqj24iiSfm-qbNqmw';\n\t\tmap = new mapboxgl.Map({\n\t\t\tcontainer: 'Map',\n\t\t\tcenter: [config.map.lng, config.map.lat],\n\t\t\tzoom: config.map.zoom,\n\t\t\tstyle: 'mapbox://styles/mapbox/light-v9',\n\t\t});\n\t\twaitMapStyle();\n\t\t// geocoder setup\n\t\tvar geocoder = new MapboxGeocoder({\n\t\t\taccessToken: mapboxgl.accessToken,\n\t\t\tmarker: false,\n\t\t});\n\t\tmap.addControl(geocoder);\n\n\t\t// geocoder init\n\t\tmap.on('load', () => {\n\t\t\tgeocoder.on('result', (ev) => {\n\t\t\t\tmap.flyTo({\n\t\t\t\t\tcenter: [ev.result.geometry.coordinates[0], ev.result.geometry.coordinates[1]],\n\t\t\t\t\tzoom: 18,\n\t\t\t\t\tspeed: 1.8,\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tmap.addLayer({\n\t\t\t\tid: 'mapbox-mapbox-satellite',\n\t\t\t\tsource: { type: 'raster', url: 'mapbox://mapbox.satellite', tileSize: 256 },\n\t\t\t\ttype: 'raster',\n\t\t\t});\n\t\t\tmap.setLayoutProperty('mapbox-mapbox-satellite', 'visibility', 'none');\n\n\t\t\tvar switchy = document.getElementById('js-map-view');\n\t\t\tif (switchy) {\n\t\t\t\tswitchy.addEventListener('click', () => {\n\t\t\t\t\tif (switchy.className === 'on') {\n\t\t\t\t\t\tswitchy.setAttribute('class', 'off');\n\t\t\t\t\t\tmap.setLayoutProperty('mapbox-mapbox-satellite', 'visibility', 'none');\n\t\t\t\t\t\tswitchy.innerHTML = 'Satellite';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswitchy.setAttribute('class', 'on');\n\t\t\t\t\t\tmap.setLayoutProperty('mapbox-mapbox-satellite', 'visibility', 'visible');\n\t\t\t\t\t\tswitchy.innerHTML = 'Streets';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// Show grid on high zoom\n\t\tconst zoomThreshold = 17;\n\t\tmap.on('moveend', () => {\n\t\t\tif (map.getZoom() > zoomThreshold) {\n\t\t\t\trenderHexes(hexagons());\n\t\t\t}\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tlet onClickMap;\n\t\tif (map) {\n\t\t\tonClickMap = (e) => {\n\t\t\t\t// At click go to Land\n\t\t\t\tconst clicked_hex_id = h3.geoToH3(e.lngLat['lat'], e.lngLat['lng'], 12);\n\t\t\t\tif (!onMultipleLandSelection) {\n\t\t\t\t\tfocusMap(clicked_hex_id);\n\t\t\t\t\tprops.history.push(`/map/land/${clicked_hex_id}`);\n\t\t\t\t\tconst landSelectedEvent = new CustomEvent('land-selected', {\n\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\tclicked_hex_id,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tdocument.dispatchEvent(landSelectedEvent);\n\t\t\t\t} else {\n\t\t\t\t\t// At click add in list if on Multiple Land Selection Mode\n\t\t\t\t\tfocusMap(clicked_hex_id);\n\t\t\t\t\tif (lastSelectedLand == clicked_hex_id) {\n\t\t\t\t\t\tlet list = multipleLandSelectionList;\n\t\t\t\t\t\tif (list.includes(clicked_hex_id)) {\n\t\t\t\t\t\t\t// Remove Land\n\t\t\t\t\t\t\t_.remove(list, function (el) {\n\t\t\t\t\t\t\t\treturn el === clicked_hex_id;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tchangeMultipleLandSelectionList(list);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Add Land\n\t\t\t\t\t\t\tlist.push(clicked_hex_id);\n\t\t\t\t\t\t\tchangeMultipleLandSelectionList(list);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsetLastSelectedLand(clicked_hex_id);\n\t\t\t\t}\n\t\t\t};\n\t\t\tmap.on('click', onClickMap);\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (map) {\n\t\t\t\tmap.off('click', onClickMap);\n\t\t\t}\n\t\t};\n\t}, [onMultipleLandSelection, lastSelectedLand, map]);\n\n\tuseEffect(() => {\n\t\tif (isMapReady == true) {\n\t\t\tplotPOI();\n\t\t\tif (onMultipleLandSelection == true) {\n\t\t\t\tmap.doubleClickZoom.disable();\n\t\t\t} else {\n\t\t\t\tmap.doubleClickZoom.enable();\n\t\t\t}\n\t\t}\n\t}, [isMapReady, onSingleView, onMultipleLandSelection, multipleLandSelectionList]);\n\n\t//\n\t// Map init\n\t//\n\tfunction waitMapStyle() {\n\t\tif (!map.isStyleLoaded()) {\n\t\t\tsetTimeout(waitMapStyle, 200);\n\t\t} else {\n\t\t\tsetIsMapReady(true);\n\t\t}\n\t}\n\n\tfunction renderHexes(hexagons) {\n\t\tconst geojson = geojson2h3.h3SetToFeatureCollection(Object.keys(hexagons), (hex) => ({ value: hexagons[hex] }));\n\t\tconst sourceId = 'h3-hexes';\n\t\tconst layerId = `${sourceId}-layer`;\n\t\tlet source = map.getSource(sourceId);\n\n\t\tif (!source) {\n\t\t\tmap.addSource(sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: geojson,\n\t\t\t});\n\t\t\tmap.addLayer({\n\t\t\t\tid: layerId,\n\t\t\t\tsource: sourceId,\n\t\t\t\ttype: 'fill',\n\t\t\t\tinteractive: false,\n\t\t\t\tpaint: {\n\t\t\t\t\t'fill-outline-color': 'rgba(255,255,255,1)',\n\t\t\t\t},\n\t\t\t});\n\t\t\tsource = map.getSource(sourceId);\n\t\t}\n\n\t\t// Update the geojson data\n\t\tsource.setData(geojson);\n\n\t\t// Update the layer paint properties, using the current config values\n\t\tmap.setPaintProperty(layerId, 'fill-opacity', config.map.fillOpacity);\n\n\t\tmap.setPaintProperty(layerId, 'fill-color', {\n\t\t\tproperty: 'value',\n\t\t\tstops: [\n\t\t\t\t[0, config.map.colorScale[0]],\n\t\t\t\t[0.5, config.map.colorScale[0]],\n\t\t\t\t[1, config.map.colorScale[0]],\n\t\t\t],\n\t\t});\n\t}\n\n\tfunction hexagons() {\n\t\tvar center = map.getCenter();\n\n\t\tconst centerHex = h3.geoToH3(center['lat'], center['lng'], 12);\n\t\tconst kRing = h3.kRing(centerHex, 20);\n\n\t\tvar data = Object.assign({}, kRing);\n\n\t\tvar newData = Object.keys(data).reduce(function (obj, key) {\n\t\t\tobj[data[key]] = Math.random();\n\t\t\treturn obj;\n\t\t}, {});\n\n\t\treturn newData;\n\t}\n\n\t//\n\t// Focus on single point\n\t// Used when accessing directly to a single land view or when clicked on a land\n\t//\n\tfunction focusMap(hex_id) {\n\t\t// Hex to geo\n\t\tlet hexCenterCoordinates = h3.h3ToGeo(hex_id);\n\t\t// Move map focus\n\t\tmap.flyTo({\n\t\t\tcenter: [hexCenterCoordinates[1], hexCenterCoordinates[0]],\n\t\t\tzoom: 18,\n\t\t\tspeed: 1.8,\n\t\t});\n\t\t// Plot graphic point into map\n\t\tlet singleHexGeojson = geojson2h3.h3ToFeature(hex_id);\n\n\t\tconst selected_sourceId = 'h3-hexes_selected';\n\t\tconst selected_layerId = `${selected_sourceId}-layer`;\n\t\tlet selected_source = map.getSource(selected_sourceId);\n\t\tif (!selected_source) {\n\t\t\tmap.addSource(selected_sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: singleHexGeojson,\n\t\t\t});\n\t\t\tmap.addLayer({\n\t\t\t\tid: selected_layerId,\n\t\t\t\tsource: selected_sourceId,\n\t\t\t\ttype: 'fill',\n\t\t\t\tinteractive: false,\n\t\t\t\tpaint: {\n\t\t\t\t\t'fill-outline-color': '#4A90E2',\n\t\t\t\t\t'fill-color': 'rgba(74,144,226,0.20)',\n\t\t\t\t\t'fill-opacity': 1,\n\t\t\t\t},\n\t\t\t});\n\t\t\tselected_source = map.getSource(selected_sourceId);\n\t\t}\n\t\t// Update the h3Geo data\n\t\tselected_source.setData(singleHexGeojson);\n\t\tmap.setLayoutProperty(selected_layerId, 'visibility', 'visible');\n\n\t\t// Plot pin\n\t\t// if (isAuction) {\n\t\t// Add pin\n\t\t// TODO\n\t\t// let el = document.createElement('div');\n\t\t// el.className = `Map__ping_container --open`;\n\t\t// el.insertAdjacentHTML('beforeend', '<div class=\"c-ping-layer c-ping-layer-1\"></div>');\n\t\t// new mapboxgl.Marker(el)\n\t\t//     .setLngLat([hexCenterCoordinates[1], hexCenterCoordinates[0]])\n\t\t//     .addTo(map);\n\t\t// }\n\t}\n\n\t//\n\t// Plot auctions from MapContext data\n\t//\n\n\tfunction plotPOI() {\n\t\t// Zoom out map // General Map View\n\t\tif (onSingleView === false && onMultipleLandSelection === false) {\n\t\t\tmap.flyTo({\n\t\t\t\tcenter: [config.map.lng, config.map.lat],\n\t\t\t\tzoom: config.map.zoom,\n\t\t\t\tspeed: 1.8,\n\t\t\t});\n\t\t}\n\t\t// View single point\n\t\tif (onSingleView === true) {\n\t\t\tfocusMap(hex_id);\n\t\t}\n\t\t// View multiple selected Land\n\t\tif (onMultipleLandSelection === true && multipleLandSelectionList.length > 0) {\n\t\t\tlet featureOfSelectedLands = geojson2h3.h3SetToFeatureCollection(multipleLandSelectionList);\n\t\t\tconst selected_sourceId = 'h3-hexes_multi_selected';\n\t\t\tconst selected_layerId = `${selected_sourceId}-layer`;\n\t\t\tlet selected_source = map.getSource(selected_sourceId);\n\t\t\tif (!selected_source) {\n\t\t\t\tmap.addSource(selected_sourceId, {\n\t\t\t\t\ttype: 'geojson',\n\t\t\t\t\tdata: featureOfSelectedLands,\n\t\t\t\t});\n\t\t\t\tmap.addLayer({\n\t\t\t\t\tid: selected_layerId,\n\t\t\t\t\tsource: selected_sourceId,\n\t\t\t\t\ttype: 'fill',\n\t\t\t\t\tinteractive: false,\n\t\t\t\t\tpaint: {\n\t\t\t\t\t\t'fill-outline-color': '#ec663c',\n\t\t\t\t\t\t'fill-color': 'rgba(249,180,38,0.5)',\n\t\t\t\t\t\t'fill-opacity': 1,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tselected_source = map.getSource(selected_sourceId);\n\t\t\t}\n\t\t\tselected_source.setData(featureOfSelectedLands);\n\t\t\tmap.setLayoutProperty(selected_layerId, 'visibility', 'visible');\n\t\t}\n\t\t// Plot active Auctions\n\t\tif (auctionList.length > 0) {\n\t\t\tplotAuctions();\n\t\t}\n\t}\n\n\tfunction plotAuctions() {\n\t\tmap.flyTo({\n\t\t\tcenter: [config.map.lng, config.map.lat],\n\t\t\tzoom: config.map.zoom,\n\t\t\tspeed: 1.8,\n\t\t});\n\t\t// Delete all displayed markers\n\t\tvar paras = document.getElementsByClassName('Map__ping_container');\n\t\twhile (paras[0]) {\n\t\t\tparas[0].parentNode.removeChild(paras[0]);\n\t\t}\n\n\t\t// Add all markers on map\n\t\tfor (const auction of auctionList) {\n\t\t\tlet statusClassName = 0;\n\t\t\tswitch (auction.status) {\n\t\t\t\tcase 0:\n\t\t\t\t\tstatusClassName = '--open';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tstatusClassName = '--outbidded';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tstatusClassName = '--open';\n\t\t\t}\n\n\t\t\t// Add pin\n\t\t\tlet el = document.createElement('div');\n\t\t\tel.className = `Map__ping_container ${statusClassName}`;\n\t\t\tel.insertAdjacentHTML('beforeend', '<div class=\"c-ping-layer c-ping-layer-1\"></div>');\n\t\t\tif (\n\t\t\t\tauction.land.address &&\n\t\t\t\t!isNaN(auction.land.address.geocenter[1]) &&\n\t\t\t\t!isNaN(auction.land.address.geocenter[0])\n\t\t\t) {\n\t\t\t\tnew mapboxgl.Marker(el)\n\t\t\t\t\t.setLngLat([auction.land.address.geocenter[1], auction.land.address.geocenter[0]])\n\t\t\t\t\t.addTo(map);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Breadcrumbs />\n\t\t\t<div id=\"Map\" className=\"Map\">\n\t\t\t\t<div id=\"js-map-view\">Satellite</div>\n\t\t\t\t{/* <MapNavigationBox /> */}\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nMap.propTypes = {\n\tlocation: PropTypes.object,\n\tmapProvider: PropTypes.object,\n\tprops: PropTypes.object,\n};\n\nexport default withMapContext(Map);\n","import React, { useContext } from 'react';\n\nimport Breadcrumbs from './Breadcrumbs';\n\nimport { MapContext } from '../../context/MapContext';\nimport { useLocation } from 'react-router-dom';\n\nconst MapBreadcrumbs = () => {\n\tconst { state } = useContext(MapContext);\n\tconst { pathname } = useLocation();\n\n\tconst { hex_id, landData: data } = state;\n\n\tlet currentPageLabel = pathname.split('/')[2];\n\tcurrentPageLabel = currentPageLabel.charAt(0).toUpperCase() + currentPageLabel.slice(1);\n\n\tconst prevLinks = [];\n\n\tconst isAuction = data.marketStatus === 1;\n\tconst isUserRelated = data.userPerspective !== 0;\n\n\t// console.log('This is the data', data);\n\n\tif (currentPageLabel === 'Land') {\n\t\tconst dataIsEmpty = Object.keys(data).length === 0 && data.constructor === Object;\n\t\tif (dataIsEmpty) {\n\t\t\tcurrentPageLabel = '';\n\t\t} else {\n\t\t\tprevLinks.push({\n\t\t\t\thref: `${isUserRelated ? '/map/overview' : '/map/discover'}`,\n\t\t\t\tlabel: `${isUserRelated ? 'My ' : ''}${isAuction ? 'Auctions' : 'Lands'}`,\n\t\t\t});\n\n\t\t\tcurrentPageLabel = (data.name && data.name.sentence) || hex_id;\n\t\t}\n\t}\n\n\treturn <Breadcrumbs currentPageLabel={currentPageLabel} previousLinks={prevLinks} />;\n};\n\nexport default MapBreadcrumbs;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass Footer extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Footer\">\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container\">\n\t\t\t\t\t\t<Link to=\"/\" className=\"Logo__footer_link\">\n\t\t\t\t\t\t\t<div className=\"Footer__logo Icon\">\n\t\t\t\t\t\t\t\t<img src={require('../../assets/img/ovr.png')} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<div className=\"Footer__copyright\">Over Holding Srl © 2020</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container --large\">\n\t\t\t\t\t\tOver Holding Srl <br></br>\n\t\t\t\t\t\tViale Tricesimo n. 200<br></br>\n\t\t\t\t\t\t33100 Udine - Italy<br></br>\n\t\t\t\t\t\tVat no. IT02945890305\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container\">\n\t\t\t\t\t\t<div className=\"Footer__title\">Legal</div>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={'https://www.ovr.ai/privacy-policy/'}\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\t\t\tclassName=\"Footer__link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrivacy policy\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"o-fourth\">\n\t\t\t\t\t<div className=\"Footer__container\">\n\t\t\t\t\t\t<div className=\"Footer__title\">Community</div>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={'https://t.me/OVRtheReality'}\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\t\t\tclassName=\"Footer__link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTelegram\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={'https://medium.com/ovrthereality/'}\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\t\t\tclassName=\"Footer__link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tMedium\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={'https://www.facebook.com/OVRtheReality'}\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\t\t\tclassName=\"Footer__link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tFacebook\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Footer;\n","import React, { useEffect, useState } from 'react';\n\nimport { getToken, removeToken } from '../../lib/auth';\nimport { Trans, useTranslation } from 'react-i18next'\n\n\n/**\n * BannerNotification component\n */\n\nconst BannerNotification = () => {\n\tconst { t, i18n } = useTranslation()\n\tconst [firstAfterSignup, setFirstAfterSignup] = useState(getToken('firstAfterSignup'));\n\n\tuseEffect(() => {\n\t\tif (firstAfterSignup) {\n\t\t\tremoveToken('firstAfterSignup');\n\t\t\tsetFirstAfterSignup(false);\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t{firstAfterSignup && (\n\t\t\t\t<div className=\"BannerNotification\">\n\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t<div className=\"--positive\">\n\t\t\t\t\t\t\t<div className=\"BannerNotification__title\">{t('BannerNotification.welcome')}{' '}🥳</div>\n\t\t\t\t\t\t\t<div className=\"BannerNotification__content\">\n\t\t\t\t\t\t\t\t{t('BannerNotification.intro')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default BannerNotification;\n","import React, { Suspense } from 'react';\nimport './App.scss';\nimport './i18n';\nimport 'react-notifications-component/dist/theme.css';\n\n// import Home from './views/Home/Home';\nimport Discover from './views/Discover/Discover';\nimport Overview from './views/Overview/Overview';\nimport Land from './views/Land/Land';\nimport Lands from './views/Lands/Lands';\nimport Profile from './views/Profile/Profile';\nimport Activity from './views/Activity/Activity';\nimport Login from './views/Login/Login';\nimport LoginHelper from './views/LoginHelper/LoginHelper';\nimport Signup from './views/Signup/Signup';\nimport BuyTokens from './views/BuyTokens/BuyTokens';\nimport IndacoinResponse from './views/IndacoinResponse/IndacoinResponse';\n\nimport NavBar from './components/NavBar/NavBar';\nimport Map from './components/Map/Map';\nimport Footer from './components/Footer/Footer';\nimport BannerNotification from './components/BannerNotification/BannerNotification';\n\nimport ReactNotification from 'react-notifications-component';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { MapProvider, MapContext } from './context/MapContext';\nimport { UserProvider, UserContext } from './context/UserContext';\nimport { Web3Provider, Web3Context } from './context/Web3Context';\n\nimport ReactGA from 'react-ga';\nimport { createBrowserHistory } from 'history';\n\n//TODO\nimport i18next from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { Translation } from 'react-i18next';\n\nconst supportedLangs = ['en', 'zh'];\nconst fallbackLang = 'en';\n\nfunction App() {\n\n\ti18next.use(LanguageDetector).init({\n\t\t// order and from where user language should be detected\n\t\torder: ['querystring', 'cookie', 'localStorage', 'sessionStorage', 'navigator', 'htmlTag', 'path', 'subdomain'],\n\n\t\t// keys or params to lookup language from\n\t\tlookupQuerystring: 'lng',\n\t\tlookupCookie: 'i18next',\n\t\tlookupLocalStorage: 'i18nextLng',\n\t\tlookupSessionStorage: 'i18nextLng',\n\t\tlookupFromPathIndex: 0,\n\t\tlookupFromSubdomainIndex: 0,\n\t\tlng: navigator.language || navigator.userLanguage,\n\t  \n\t\t// cache user language on\n\t\tcaches: ['localStorage', 'cookie'],\n\t\texcludeCacheFor: ['cimode'], // languages to not persist (cookie, localStorage)\n\t});\n\n\tif(!supportedLangs.includes(i18next.language)){\n\t\tlocalStorage.removeItem('i18nextLng');\n\t\ti18next.changeLanguage(fallbackLang)\n\t}\n\n\tconst history = createBrowserHistory();\n\t\n\t// Initialize google analytics page view tracking\n\thistory.listen(location => {\n\t\tconsole.log('GA', location.pathname)\n\t\tReactGA.initialize('UA-128415861-1');\n\t\tReactGA.set({ page: location.pathname }); // Update the user's current page\n\t\tReactGA.pageview(location.pathname); // Record a pageview for the given page\n\t});\n\n\treturn (\n\t\t<Suspense fallback=\"loading\">\n\t\t\t<Translation>\n\t\t\t\t{(t, { i18n }) =>\n\t\t\t\t<UserProvider t={t} i18n={i18n}>\n\t\t\t\t\t<Web3Provider t={t} i18n={i18n}>\n\t\t\t\t\t\t<MapProvider>\n\t\t\t\t\t\t\t<UserContext.Consumer>\n\t\t\t\t\t\t\t\t{(userValue) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Web3Context.Consumer>\n\t\t\t\t\t\t\t\t\t\t\t{(web3Value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MapContext.Consumer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(mapValue) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Router history={history}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"App\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ReactNotification />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NavBar></NavBar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BannerNotification></BannerNotification>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"o-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/\" component={Map}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <Route path=\"/\" exact component={Home}></Route> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{userValue.state.isLoggedIn ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Redirect to=\"/profile\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Redirect to=\"/login\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* TODO: KYC - Redirect to Redirect to=\"/map/discover\" */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/discover\" component={Discover}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/overview\" component={Overview}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/lands\" component={Lands}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/map/land/:id\" component={Land}></Route> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/profile\" component={Profile}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/activity\" component={Activity}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/login\" component={Login}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/signup\" component={Signup}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/login-helper\" component={LoginHelper}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <Route path=\"/buy-tokens\" component={BuyTokens}></Route>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Route path=\"/indacoin-response\" component={IndacoinResponse}></Route>  TODO: KYC - Remove comment */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Footer></Footer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Router>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</MapContext.Consumer>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t</Web3Context.Consumer>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</UserContext.Consumer>\n\t\t\t\t\t\t</MapProvider>\n\t\t\t\t\t</Web3Provider>\n\t\t\t\t</UserProvider> }\n\t\t\t</Translation>\n\t\t</Suspense>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA',\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (response.status === 404 || (contentType !==null && contentType.indexOf('javascript') === -1)) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}